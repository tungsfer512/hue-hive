{"version":3,"file":"jobBrowser-bundle-a2a4f8506cb55bb7.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack:///./desktop/core/src/desktop/js/apps/jobBrowser/app.js"],"sourcesContent":["// Licensed to Cloudera, Inc. under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  Cloudera, Inc. licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport $ from 'jquery';\nimport * as ko from 'knockout';\nimport huePubSub from 'utils/huePubSub';\nimport \"./components/hiveQueryPlan/webcomp\";\nimport \"./components/queriesList/webcomp\";\nimport \"./components/impalaQueries/webcomp\";\nimport \"./eventListeners\";\nimport JobBrowserViewModel from \"./knockout/JobBrowserViewModel\";\nimport Job from \"./knockout/Job\";\nimport { GLOBAL_ERROR_TOPIC, GLOBAL_INFO_TOPIC } from 'reactComponents/AlertComponent/events';\nimport I18n from \"../../utils/i18n\";\nhuePubSub.subscribe('app.dom.loaded', function (app) {\n  if (app !== 'jobbrowser') {\n    return;\n  }\n  $(document).ready(function () {\n    var jobBrowserViewModel = new JobBrowserViewModel(false);\n    var openJob = function openJob(id) {\n      if (jobBrowserViewModel.job() == null) {\n        jobBrowserViewModel.job(new Job(jobBrowserViewModel, {}));\n      }\n      jobBrowserViewModel.job().id(id);\n      jobBrowserViewModel.job().fetchJob();\n    };\n    ko.applyBindings(jobBrowserViewModel, $('#jobbrowserComponents')[0]);\n    var loadHash = function loadHash() {\n      if (window.location.pathname.indexOf('jobbrowser') > -1) {\n        jobBrowserViewModel.load();\n      }\n    };\n    window.onhashchange = function () {\n      return loadHash();\n    };\n    huePubSub.subscribe('oozie.action.logs.click', function (widget) {\n      $.get(widget.logsURL(), {\n        format: 'link'\n      }, function (data) {\n        var id = data.job || data.attemptid;\n        if (id) {\n          openJob(id);\n        } else {\n          huePubSub.publish(GLOBAL_ERROR_TOPIC, {\n            message: I18n('No log available')\n          });\n        }\n      });\n    }, 'jobbrowser');\n    huePubSub.subscribe('oozie.action.click', function (widget) {\n      openJob(widget.externalId());\n    }, 'jobbrowser');\n    huePubSub.subscribe('browser.job.open.link', function (id) {\n      openJob(id);\n    }, 'jobbrowser');\n    huePubSub.subscribe('app.gained.focus', function (app) {\n      if (app === 'jobbrowser') {\n        huePubSub.publish('graph.draw.arrows');\n        loadHash();\n      }\n    }, 'jobbrowser');\n    var configUpdated = function configUpdated(clusterConfig) {\n      jobBrowserViewModel.appConfig(clusterConfig && clusterConfig['app_config']);\n      jobBrowserViewModel.clusterType(clusterConfig && clusterConfig['cluster_type']);\n      loadHash();\n    };\n    huePubSub.subscribe('cluster.config.set.config', configUpdated);\n    huePubSub.publish('cluster.config.get.config', configUpdated);\n    huePubSub.subscribe('submit.rerun.popup.return', function (data) {\n      huePubSub.publish(GLOBAL_INFO_TOPIC, {\n        message: I18n('Rerun submitted.')\n      });\n      $('#rerun-modal').modal('hide');\n      jobBrowserViewModel.job().apiStatus('RUNNING');\n      jobBrowserViewModel.monitorJob(jobBrowserViewModel.job());\n    }, 'jobbrowser');\n  });\n});"],"names":[],"sourceRoot":""}
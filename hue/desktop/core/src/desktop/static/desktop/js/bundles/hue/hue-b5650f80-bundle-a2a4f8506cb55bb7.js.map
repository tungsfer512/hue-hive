{"version":3,"file":"hue-b5650f80-bundle-a2a4f8506cb55bb7.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACxJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;AC7nCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACnpQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACzWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACtrFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack:///./desktop/core/src/desktop/js/ext/d3-tip.min.js","webpack:///./desktop/core/src/desktop/js/ext/fileuploader.custom.js","webpack:///./desktop/core/src/desktop/js/ext/fileuploader.custom.new.js","webpack:///./desktop/core/src/desktop/js/ext/jquery.chosen.1.0.0.min.js","webpack:///./desktop/core/src/desktop/js/ext/jquery.dataTables.1.8.2.min.js","webpack:///./desktop/core/src/desktop/js/ext/jquery.select2.3.5.1.min.js"],"sourcesContent":["import d3v3 from 'd3v3';\n!function (e) {\n  d3v3.d3tip = e(d3v3);\n}(function (t) {\n  return function () {\n    function e(t) {\n      b = d(t), C = b.createSVGPoint(), document.body.appendChild(T);\n    }\n    function n() {\n      return \"n\";\n    }\n    function r() {\n      return [0, 0];\n    }\n    function o() {\n      return \" \";\n    }\n    function l() {\n      var t = h();\n      return {\n        top: t.n.y - T.offsetHeight,\n        left: t.n.x - T.offsetWidth / 2\n      };\n    }\n    function i() {\n      var t = h();\n      return {\n        top: t.s.y,\n        left: t.s.x - T.offsetWidth / 2\n      };\n    }\n    function f() {\n      var t = h();\n      return {\n        top: t.e.y - T.offsetHeight / 2,\n        left: t.e.x\n      };\n    }\n    function u() {\n      var t = h();\n      return {\n        top: t.w.y - T.offsetHeight / 2,\n        left: t.w.x - T.offsetWidth\n      };\n    }\n    function s() {\n      var t = h();\n      return {\n        top: t.nw.y - T.offsetHeight,\n        left: t.nw.x - T.offsetWidth\n      };\n    }\n    function a() {\n      var t = h();\n      return {\n        top: t.ne.y - T.offsetHeight,\n        left: t.ne.x\n      };\n    }\n    function c() {\n      var t = h();\n      return {\n        top: t.sw.y,\n        left: t.sw.x - T.offsetWidth\n      };\n    }\n    function p() {\n      var t = h();\n      return {\n        top: t.se.y,\n        left: t.e.x\n      };\n    }\n    function y() {\n      var e = t.select(document.createElement(\"div\"));\n      return e.style(\"position\", \"absolute\").style(\"top\", 0).style(\"opacity\", 0).style(\"pointer-events\", \"none\").style(\"box-sizing\", \"border-box\"), e.node();\n    }\n    function d(t) {\n      return t = t.node(), \"svg\" === t.tagName.toLowerCase() ? t : t.ownerSVGElement;\n    }\n    function m() {\n      return null === T && (T = y(), document.body.appendChild(T)), t.select(T);\n    }\n    function h() {\n      for (var e = E || t.event.target; \"undefined\" == typeof e.getScreenCTM && \"undefined\" === e.parentNode;) e = e.parentNode;\n      var n = {},\n        r = e.getScreenCTM(),\n        o = e.getBBox(),\n        l = o.width,\n        i = o.height,\n        f = o.x,\n        u = o.y;\n      return C.x = f, C.y = u, n.nw = C.matrixTransform(r), C.x += l, n.ne = C.matrixTransform(r), C.y += i, n.se = C.matrixTransform(r), C.x -= l, n.sw = C.matrixTransform(r), C.y -= i / 2, n.w = C.matrixTransform(r), C.x += l, n.e = C.matrixTransform(r), C.x -= l / 2, C.y -= i / 2, n.n = C.matrixTransform(r), C.y += i, n.s = C.matrixTransform(r), n;\n    }\n    function x(t) {\n      return \"function\" == typeof t ? t : function () {\n        return t;\n      };\n    }\n    var v = n,\n      g = r,\n      w = o,\n      T = y(),\n      b = null,\n      C = null,\n      E = null;\n    e.show = function () {\n      var t = Array.prototype.slice.call(arguments);\n      t[t.length - 1] instanceof SVGElement && (E = t.pop());\n      var n,\n        r = w.apply(this, t),\n        o = g.apply(this, t),\n        l = v.apply(this, t),\n        i = m(),\n        f = S.length,\n        u = document.documentElement.scrollTop || document.body.scrollTop,\n        s = document.documentElement.scrollLeft || document.body.scrollLeft;\n      for (i.html(r).style(\"opacity\", 1).style(\"pointer-events\", \"all\"); f--;) i.classed(S[f], !1);\n      return n = H.get(l).apply(this), i.classed(l, !0).style(\"top\", n.top + o[0] + u + \"px\").style(\"left\", n.left + o[1] + s + \"px\"), e;\n    }, e.hide = function () {\n      var t = m();\n      return t.style(\"opacity\", 0).style(\"pointer-events\", \"none\"), e;\n    }, e.attr = function (n, r) {\n      if (arguments.length < 2 && \"string\" == typeof n) return m().attr(n);\n      var o = Array.prototype.slice.call(arguments);\n      return t.selection.prototype.attr.apply(m(), o), e;\n    }, e.style = function (n, r) {\n      if (arguments.length < 2 && \"string\" == typeof n) return m().style(n);\n      var o = Array.prototype.slice.call(arguments);\n      return t.selection.prototype.style.apply(m(), o), e;\n    }, e.direction = function (t) {\n      return arguments.length ? (v = null == t ? t : x(t), e) : v;\n    }, e.offset = function (t) {\n      return arguments.length ? (g = null == t ? t : x(t), e) : g;\n    }, e.html = function (t) {\n      return arguments.length ? (w = null == t ? t : x(t), e) : w;\n    }, e.destroy = function () {\n      return T && (m().remove(), T = null), e;\n    };\n    var H = t.map({\n        n: l,\n        s: i,\n        e: f,\n        w: u,\n        nw: s,\n        ne: a,\n        sw: c,\n        se: p\n      }),\n      S = H.keys();\n    return e;\n  };\n});","function _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n/*\n Multiple file upload component with progress-bar, drag-and-drop.\n http://github.com/valums/file-uploader\n\n Copyright (C) 2011 by Andris Valums\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in\n all copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n THE SOFTWARE.\n */\n\nimport $ from 'jquery';\n\n//\n// Helper functions\n//\n\nvar qq = {};\n\n/**\n * Adds all missing properties from second obj to first obj\n */\nqq.extend = function (first, second) {\n  for (var prop in second) {\n    first[prop] = second[prop];\n  }\n};\n\n/**\n * Searches for a given element in the array, returns -1 if it is not present.\n * @param {Number} [from] The index at which to begin the search\n */\nqq.indexOf = function (arr, elt, from) {\n  if (arr.indexOf) return arr.indexOf(elt, from);\n  from = from || 0;\n  var len = arr.length;\n  if (from < 0) from += len;\n  for (; from < len; from++) {\n    if (from in arr && arr[from] === elt) {\n      return from;\n    }\n  }\n  return -1;\n};\nqq.getUniqueId = function () {\n  var id = 0;\n  return function () {\n    return id++;\n  };\n}();\n\n//\n// Events\n\nqq.attach = function (element, type, fn) {\n  if (element.addEventListener) {\n    element.addEventListener(type, fn, false);\n  } else if (element.attachEvent) {\n    element.attachEvent('on' + type, fn);\n  }\n};\nqq.detach = function (element, type, fn) {\n  if (element.removeEventListener) {\n    element.removeEventListener(type, fn, false);\n  } else if (element.attachEvent) {\n    element.detachEvent('on' + type, fn);\n  }\n};\nqq.preventDefault = function (e) {\n  if (e.preventDefault) {\n    e.preventDefault();\n  } else {\n    e.returnValue = false;\n  }\n};\n\n//\n// Node manipulations\n\n/**\n * Insert node a before node b.\n */\nqq.insertBefore = function (a, b) {\n  b.parentNode.insertBefore(a, b);\n};\nqq.remove = function (element) {\n  element.parentNode.removeChild(element);\n};\nqq.contains = function (parent, descendant) {\n  // compareposition returns false in this case\n  if (parent == descendant) return true;\n  if (parent.contains) {\n    return parent.contains(descendant);\n  } else {\n    return !!(descendant.compareDocumentPosition(parent) & 8);\n  }\n};\n\n/**\n * Creates and returns element from html string\n * Uses innerHTML to create an element\n */\nqq.toElement = function () {\n  var div = document.createElement('div');\n  return function (html) {\n    div.innerHTML = html;\n    var element = div.firstChild;\n    div.removeChild(element);\n    return element;\n  };\n}();\n\n//\n// Node properties and attributes\n\n/**\n * Sets styles for an element.\n * Fixes opacity in IE6-8.\n */\nqq.css = function (element, styles) {\n  if (styles.opacity != null) {\n    if (typeof element.style.opacity != 'string' && typeof element.filters != 'undefined') {\n      styles.filter = 'alpha(opacity=' + Math.round(100 * styles.opacity) + ')';\n    }\n  }\n  qq.extend(element.style, styles);\n};\nqq.hasClass = function (element, name) {\n  var re = new RegExp('(^| )' + name + '( |$)');\n  return re.test(element.className);\n};\nqq.addClass = function (element, name) {\n  if (!qq.hasClass(element, name)) {\n    element.className += ' ' + name;\n  }\n};\nqq.removeClass = function (element, name) {\n  var re = new RegExp('(^| )' + name + '( |$)');\n  element.className = element.className.replace(re, ' ').replace(/^\\s+|\\s+$/g, \"\");\n};\nqq.setText = function (element, text) {\n  element.innerText = text;\n  element.textContent = text;\n};\n\n//\n// Selecting elements\n\nqq.children = function (element) {\n  var children = [],\n    child = element.firstChild;\n  while (child) {\n    if (child.nodeType == 1) {\n      children.push(child);\n    }\n    child = child.nextSibling;\n  }\n  return children;\n};\nqq.getByClass = function (element, className) {\n  if (element.querySelectorAll) {\n    return element.querySelectorAll('.' + className);\n  }\n  var result = [];\n  var candidates = element.getElementsByTagName(\"*\");\n  var len = candidates.length;\n  for (var i = 0; i < len; i++) {\n    if (qq.hasClass(candidates[i], className)) {\n      result.push(candidates[i]);\n    }\n  }\n  return result;\n};\n\n/**\n * obj2url() takes a json-object as argument and generates\n * a querystring. pretty much like jQuery.param()\n *\n * how to use:\n *\n *    `qq.obj2url({a:'b',c:'d'},'http://any.url/upload?otherParam=value');`\n *\n * will result in:\n *\n *    `http://any.url/upload?otherParam=value&a=b&c=d`\n *\n * @param  Object JSON-Object\n * @param  String current querystring-part\n * @return String encoded querystring\n */\nqq.obj2url = function (obj, temp, prefixDone) {\n  var uristrings = [],\n    prefix = '&',\n    add = function add(nextObj, i) {\n      var nextTemp = temp ? /\\[\\]$/.test(temp) // prevent double-encoding\n      ? temp : temp + '[' + i + ']' : i;\n      if (nextTemp != 'undefined' && i != 'undefined') {\n        uristrings.push(_typeof(nextObj) === 'object' ? qq.obj2url(nextObj, nextTemp, true) : Object.prototype.toString.call(nextObj) === '[object Function]' ? encodeURIComponent(nextTemp) + '=' + encodeURIComponent(nextObj()) : encodeURIComponent(nextTemp) + '=' + encodeURIComponent(nextObj));\n      }\n    };\n  if (!prefixDone && temp) {\n    prefix = /\\?/.test(temp) ? /\\?$/.test(temp) ? '' : '&' : '?';\n    uristrings.push(temp);\n    uristrings.push(qq.obj2url(obj));\n  } else if (Object.prototype.toString.call(obj) === '[object Array]' && typeof obj != 'undefined') {\n    // we wont use a for-in-loop on an array (performance)\n    for (var i = 0, len = obj.length; i < len; ++i) {\n      add(obj[i], i);\n    }\n  } else if (typeof obj != 'undefined' && obj !== null && _typeof(obj) === \"object\") {\n    // for anything else but a scalar, we will use for-in-loop\n    for (var i in obj) {\n      add(obj[i], i);\n    }\n  } else {\n    uristrings.push(encodeURIComponent(temp) + '=' + encodeURIComponent(obj));\n  }\n  return uristrings.join(prefix).replace(/^&/, '').replace(/%20/g, '+');\n};\n\n//\n//\n// Uploader Classes\n//\n//\n\n/**\n * Creates upload button, validates upload, but doesn't create file list or dd.\n */\nqq.FileUploaderBasic = function (o) {\n  this._options = {\n    // set to true to see the server response\n    debug: false,\n    action: '/server/upload',\n    dest: '/',\n    fileFieldLabel: 'hdfs_file',\n    params: {},\n    button: null,\n    multiple: true,\n    maxConnections: 3,\n    // validation\n    allowedExtensions: [],\n    sizeLimit: 0,\n    minSizeLimit: 0,\n    // events\n    // return false to cancel submit\n    onSubmit: function onSubmit(id, fileName) {},\n    onProgress: function onProgress(id, fileName, loaded, total) {},\n    onComplete: function onComplete(id, fileName, responseJSON) {},\n    onCancel: function onCancel(id, fileName) {},\n    // messages\n    messages: {\n      typeError: \"{file} has invalid extension. Only {extensions} are allowed.\",\n      sizeError: \"{file} is too large, maximum file size is {sizeLimit}.\",\n      minSizeError: \"{file} is too small, minimum file size is {minSizeLimit}.\",\n      emptyError: \"{file} is empty, please select files again without it.\",\n      onLeave: \"The files are being uploaded, if you leave now the upload will be cancelled.\"\n    },\n    showMessage: function showMessage(message) {\n      alert(message);\n    }\n  };\n  qq.extend(this._options, o);\n\n  // number of files being uploaded\n  this._filesInProgress = 0;\n  this._handler = this._createUploadHandler();\n  if (this._options.button) {\n    this._button = this._createUploadButton(this._options.button);\n  }\n  this._preventLeaveInProgress();\n};\nqq.FileUploaderBasic.prototype = {\n  setParams: function setParams(params) {\n    this._options.params = params;\n  },\n  setOption: function setOption(key, val) {\n    this._options[key] = val;\n  },\n  getInProgress: function getInProgress() {\n    return this._filesInProgress;\n  },\n  _createUploadButton: function _createUploadButton(element) {\n    var self = this;\n    return new qq.UploadButton({\n      element: element,\n      multiple: this._options.multiple && qq.UploadHandlerXhr.isSupported(),\n      onChange: function onChange(input) {\n        self._onInputChange(input);\n      }\n    });\n  },\n  _createUploadHandler: function _createUploadHandler() {\n    var self = this,\n      handlerClass;\n    if (qq.UploadHandlerXhr.isSupported()) {\n      handlerClass = 'UploadHandlerXhr';\n    } else {\n      handlerClass = 'UploadHandlerForm';\n    }\n    var handler = new qq[handlerClass]({\n      debug: this._options.debug,\n      action: this._options.action,\n      dest: '/',\n      fileFieldLabel: 'hdfs_file',\n      maxConnections: this._options.maxConnections,\n      onProgress: function onProgress(id, fileName, loaded, total) {\n        self._onProgress(id, fileName, loaded, total);\n        self._options.onProgress(id, fileName, loaded, total);\n      },\n      onComplete: function onComplete(id, fileName, result) {\n        self._onComplete(id, fileName, result);\n        self._options.onComplete(id, fileName, result);\n      },\n      onCancel: function onCancel(id, fileName) {\n        self._onCancel(id, fileName);\n        self._options.onCancel(id, fileName);\n      }\n    });\n    return handler;\n  },\n  _preventLeaveInProgress: function _preventLeaveInProgress() {\n    var self = this;\n    qq.attach(window, 'beforeunload', function (e) {\n      if (!self._filesInProgress) {\n        return;\n      }\n      var e = e || window.event;\n      // for ie, ff\n      e.returnValue = self._options.messages.onLeave;\n      // for webkit\n      return self._options.messages.onLeave;\n    });\n  },\n  _onSubmit: function _onSubmit(id, fileName) {\n    this._filesInProgress++;\n  },\n  _onProgress: function _onProgress(id, fileName, loaded, total) {},\n  _onComplete: function _onComplete(id, fileName, result) {\n    this._filesInProgress--;\n    if (result.error) {\n      this._options.showMessage(result.error);\n    }\n  },\n  _onCancel: function _onCancel(id, fileName) {\n    this._filesInProgress--;\n  },\n  _onInputChange: function _onInputChange(input) {\n    if (this._handler instanceof qq.UploadHandlerXhr) {\n      this._uploadFileList(input.files);\n    } else {\n      if (this._validateFile(input)) {\n        this._uploadFile(input);\n      }\n    }\n    this._button.reset();\n  },\n  _uploadFileList: function _uploadFileList(files) {\n    for (var i = 0; i < files.length; i++) {\n      if (!this._validateFile(files[i])) {\n        return;\n      }\n    }\n    for (var i = 0; i < files.length; i++) {\n      this._uploadFile(files[i]);\n    }\n  },\n  _uploadFile: function _uploadFile(fileContainer) {\n    var id = this._handler.add(fileContainer);\n    var fileName = this._handler.getName(id);\n    if (this._options.onSubmit(id, fileName) !== false) {\n      this._onSubmit(id, fileName);\n      this._handler.upload(id, this._options.params);\n    }\n  },\n  _validateFile: function _validateFile(file) {\n    var name, size;\n    if (file.value) {\n      // it is a file input\n      // get input value and remove path to normalize\n      name = file.value.replace(/.*(\\/|\\\\)/, \"\");\n    } else {\n      // fix missing properties in Safari\n      name = file.fileName != null ? file.fileName : file.name;\n      size = file.fileSize != null ? file.fileSize : file.size;\n    }\n    if (!this._isAllowedExtension(name)) {\n      this._error('typeError', name);\n      return false;\n    } else if (size === 0) {\n      this._error('emptyError', name);\n      return false;\n    } else if (size && this._options.sizeLimit && size > this._options.sizeLimit) {\n      this._error('sizeError', name);\n      return false;\n    } else if (size && size < this._options.minSizeLimit) {\n      this._error('minSizeError', name);\n      return false;\n    }\n    return true;\n  },\n  _error: function _error(code, fileName) {\n    var message = this._options.messages[code];\n    function r(name, replacement) {\n      message = message.replace(name, replacement);\n    }\n    r('{file}', this._formatFileName(fileName));\n    r('{extensions}', this._options.allowedExtensions.join(', '));\n    r('{sizeLimit}', this._formatSize(this._options.sizeLimit));\n    r('{minSizeLimit}', this._formatSize(this._options.minSizeLimit));\n    this._options.showMessage(message);\n  },\n  _formatFileName: function _formatFileName(name) {\n    if (name.length > 33) {\n      name = name.slice(0, 19) + '...' + name.slice(-13);\n    }\n    return name;\n  },\n  _isAllowedExtension: function _isAllowedExtension(fileName) {\n    var ext = -1 !== fileName.indexOf('.') ? fileName.replace(/.*[.]/, '').toLowerCase() : '';\n    var allowed = this._options.allowedExtensions;\n    if (!allowed.length) {\n      return true;\n    }\n    for (var i = 0; i < allowed.length; i++) {\n      if (allowed[i].toLowerCase() == ext) {\n        return true;\n      }\n    }\n    return false;\n  },\n  _formatSize: function _formatSize(bytes) {\n    var i = -1;\n    do {\n      bytes = bytes / 1024;\n      i++;\n    } while (bytes > 99);\n    return Math.max(bytes, 0.1).toFixed(1) + ['kB', 'MB', 'GB', 'TB', 'PB', 'EB'][i];\n  }\n};\n\n/**\n * Class that creates upload widget with drag-and-drop and file list\n * @inherits qq.FileUploaderBasic\n */\n\nqq.FileUploader = function (o) {\n  // call parent constructor\n  qq.FileUploaderBasic.apply(this, arguments);\n\n  // additional options\n  qq.extend(this._options, {\n    element: null,\n    // if set, will be used instead of qq-upload-list in template\n    listElement: null,\n    template: '<div class=\"qq-uploader\">' + '<div class=\"qq-upload-drop-area\"><span>Drop files here to upload</span></div>' + '<div class=\"qq-upload-button\">Upload a file</div>' + '<ul class=\"qq-upload-list\"></ul>' + '</div>',\n    // template for one item in file list\n    fileTemplate: '<li>' + '<span class=\"qq-upload-file\"></span>' + '<span class=\"qq-upload-spinner\"></span>' + '<span class=\"qq-upload-size\"></span>' + '<a class=\"qq-upload-cancel\" href=\"#\">Cancel</a>' + '<span class=\"qq-upload-failed-text\">Failed</span>' + '</li>',\n    classes: {\n      // used to get elements from templates\n      button: 'qq-upload-button',\n      drop: 'qq-upload-drop-area',\n      dropActive: 'qq-upload-drop-area-active',\n      list: 'qq-upload-list',\n      file: 'qq-upload-file',\n      extendedFileName: 'qq-upload-file-extended',\n      spinner: 'qq-upload-spinner',\n      size: 'qq-upload-size',\n      cancel: 'qq-upload-cancel',\n      // added to list item when upload completes\n      // used in css to hide progress spinner\n      success: 'qq-upload-success',\n      fail: 'qq-upload-fail'\n    }\n  });\n  // overwrite options with user supplied\n  this._options.dest = \"\";\n  this._options.fileFieldLabel = \"\";\n  qq.extend(this._options, o);\n  this._element = this._options.element;\n  this._element.innerHTML = this._options.template;\n  this._listElement = this._options.listElement || this._find(this._element, 'list');\n  this._classes = this._options.classes;\n  this._button = this._createUploadButton(this._find(this._element, 'button'));\n  this._bindCancelEvent();\n  this._bindCancelAllEvent();\n  this._setupDragDrop();\n};\n\n// inherit from Basic Uploader\nqq.extend(qq.FileUploader.prototype, qq.FileUploaderBasic.prototype);\nqq.extend(qq.FileUploader.prototype, {\n  /**\n   * Gets one of the elements listed in this._options.classes\n   **/\n  _find: function _find(parent, type, skipIfNotFound) {\n    var element = qq.getByClass(parent, this._options.classes[type])[0];\n    if (!element && typeof skipIfNotFound === 'undefined') {\n      throw new Error('element not found ' + type);\n    }\n    return element;\n  },\n  _setupDragDrop: function _setupDragDrop() {\n    var self = this,\n      dropArea = this._find(this._element, 'drop');\n    var dz = new qq.UploadDropZone({\n      element: dropArea,\n      onEnter: function onEnter(e) {\n        qq.addClass(dropArea, self._classes.dropActive);\n        e.stopPropagation();\n      },\n      onLeave: function onLeave(e) {\n        e.stopPropagation();\n      },\n      onLeaveNotDescendants: function onLeaveNotDescendants(e) {\n        qq.removeClass(dropArea, self._classes.dropActive);\n      },\n      onDrop: function onDrop(e) {\n        dropArea.style.display = 'none';\n        qq.removeClass(dropArea, self._classes.dropActive);\n        self._uploadFileList(e.dataTransfer.files);\n      }\n    });\n    dropArea.style.display = 'none';\n    qq.attach(document, 'dragenter', function (e) {\n      if (!dz._isValidFileDrag(e)) return;\n      dropArea.style.display = 'block';\n    });\n    qq.attach(document, 'dragleave', function (e) {\n      if (!dz._isValidFileDrag(e)) return;\n      var relatedTarget = document.elementFromPoint(e.clientX, e.clientY);\n      // only fire when leaving document out\n      if (!relatedTarget || relatedTarget.nodeName == \"HTML\") {\n        dropArea.style.display = 'none';\n      }\n    });\n  },\n  _onSubmit: function _onSubmit(id, fileName) {\n    qq.FileUploaderBasic.prototype._onSubmit.apply(this, arguments);\n    this._addToList(id, fileName);\n  },\n  _onProgress: function _onProgress(id, fileName, loaded, total) {\n    qq.FileUploaderBasic.prototype._onProgress.apply(this, arguments);\n    var item = this._getItemByFileId(id);\n    var size = this._find(item, 'size');\n    size.style.display = 'inline';\n    var text;\n    if (loaded != total) {\n      text = Math.round(loaded / total * 100) + '% from ' + this._formatSize(total);\n    } else {\n      text = this._formatSize(total);\n    }\n    qq.setText(size, text);\n  },\n  _onComplete: function _onComplete(id, fileName, result) {\n    qq.FileUploaderBasic.prototype._onComplete.apply(this, arguments);\n\n    // mark completed\n    var item = this._getItemByFileId(id);\n    qq.remove(this._find(item, 'cancel'));\n    qq.remove(this._find(item, 'spinner'));\n    if (result.status && result.status == -1) {\n      qq.addClass(item, this._classes.fail);\n    } else {\n      qq.addClass(item, this._classes.success);\n    }\n  },\n  _addToList: function _addToList(id, fileName) {\n    var item = qq.toElement(this._options.fileTemplate);\n    item.qqFileId = id;\n    var fileElement = this._find(item, 'file');\n    qq.setText(fileElement, this._formatFileName(fileName));\n    var extendedFileElement = this._find(item, 'extendedFileName', true);\n    if (extendedFileElement) {\n      qq.setText(extendedFileElement, fileName);\n    }\n    this._find(item, 'size').style.display = 'none';\n    this._listElement.appendChild(item);\n  },\n  _getItemByFileId: function _getItemByFileId(id) {\n    var item = this._listElement.firstChild;\n\n    // there can't be txt nodes in dynamically created list\n    // and we can  use nextSibling\n    while (item) {\n      if (item.qqFileId == id) return item;\n      item = item.nextSibling;\n    }\n  },\n  /**\n   * delegate click event for cancel link\n   **/\n  _bindCancelEvent: function _bindCancelEvent() {\n    var self = this,\n      list = this._listElement;\n    qq.attach(list, 'click', function (e) {\n      e = e || window.event;\n      var target = e.target || e.srcElement;\n      if (qq.hasClass(target, self._classes.cancel)) {\n        qq.preventDefault(e);\n        var item = target.parentNode;\n        if (qq.hasClass(item, 'complex-layout')) {\n          item = item.parentNode.parentNode.parentNode;\n        }\n        self._handler.cancel(item.qqFileId);\n        qq.remove(item);\n      }\n    });\n  },\n  _bindCancelAllEvent: function _bindCancelAllEvent() {\n    var self = this,\n      list = this._listElement;\n    $('#uploadFileModal').on('hidden', function () {\n      for (var i = 0, l = list && list.childNodes.length; i < l; i++) {\n        self._handler.cancel(list.childNodes[i].qqFileId);\n      }\n    });\n  }\n});\nqq.UploadDropZone = function (o) {\n  this._options = {\n    element: null,\n    onEnter: function onEnter(e) {},\n    onLeave: function onLeave(e) {},\n    // is not fired when leaving element by hovering descendants\n    onLeaveNotDescendants: function onLeaveNotDescendants(e) {},\n    onDrop: function onDrop(e) {}\n  };\n  qq.extend(this._options, o);\n  this._element = this._options.element;\n  this._disableDropOutside();\n  this._attachEvents();\n};\nqq.UploadDropZone.prototype = {\n  _disableDropOutside: function _disableDropOutside(e) {\n    // run only once for all instances\n    if (!qq.UploadDropZone.dropOutsideDisabled) {\n      qq.attach(document, 'dragover', function (e) {\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n          e.preventDefault();\n        }\n      });\n      qq.UploadDropZone.dropOutsideDisabled = true;\n    }\n  },\n  _attachEvents: function _attachEvents() {\n    var self = this;\n    qq.attach(self._element, 'dragover', function (e) {\n      if (!self._isValidFileDrag(e)) return;\n      var effect = e.dataTransfer.effectAllowed;\n      if (effect == 'move' || effect == 'linkMove') {\n        e.dataTransfer.dropEffect = 'move'; // for FF (only move allowed)\n      } else {\n        e.dataTransfer.dropEffect = 'copy'; // for Chrome\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    qq.attach(self._element, 'dragenter', function (e) {\n      if (!self._isValidFileDrag(e)) return;\n      self._options.onEnter(e);\n    });\n    qq.attach(self._element, 'dragleave', function (e) {\n      if (!self._isValidFileDrag(e)) return;\n      self._options.onLeave(e);\n      var relatedTarget = document.elementFromPoint(e.clientX, e.clientY);\n      // do not fire when moving a mouse over a descendant\n      if (qq.contains(this, relatedTarget)) return;\n      self._options.onLeaveNotDescendants(e);\n    });\n    qq.attach(self._element, 'drop', function (e) {\n      if (!self._isValidFileDrag(e)) return;\n      e.preventDefault();\n      self._options.onDrop(e);\n    });\n  },\n  _isValidFileDrag: function _isValidFileDrag(e) {\n    var dt = e.dataTransfer;\n    // do not check dt.types.contains in webkit, because it crashes safari 4\n    var isWebkit = navigator.userAgent.indexOf(\"AppleWebKit\") > -1;\n    var isIE9 = navigator.appVersion.indexOf(\"MSIE 9\") > -1;\n    if (isIE9) return false;\n\n    // dt.effectAllowed is none in Safari 5\n    // dt.types.contains check is for firefox\n    return dt && dt.effectAllowed != 'none' && (dt.files || !isWebkit && dt.types && dt.types.contains && dt.types.contains('Files'));\n  }\n};\nqq.UploadButton = function (o) {\n  this._options = {\n    element: null,\n    // if set to true adds multiple attribute to file input\n    multiple: false,\n    // name attribute of file input\n    name: 'file',\n    onChange: function onChange(input) {},\n    hoverClass: 'qq-upload-button-hover',\n    focusClass: 'qq-upload-button-focus'\n  };\n  qq.extend(this._options, o);\n  this._element = this._options.element;\n\n  // make button suitable container for input\n  qq.css(this._element, {\n    position: 'relative',\n    overflow: 'hidden',\n    // Make sure browse button is in the right side\n    // in Internet Explorer\n    direction: 'ltr'\n  });\n  this._input = this._createInput();\n};\nqq.UploadButton.prototype = {\n  /* returns file input element */\n  getInput: function getInput() {\n    return this._input;\n  },\n  /* cleans/recreates the file input */\n  reset: function reset() {\n    if (this._input.parentNode) {\n      qq.remove(this._input);\n    }\n    qq.removeClass(this._element, this._options.focusClass);\n    this._input = this._createInput();\n  },\n  _createInput: function _createInput() {\n    var input = document.createElement(\"input\");\n    if (this._options.multiple) {\n      input.setAttribute(\"multiple\", \"multiple\");\n    }\n    input.setAttribute(\"type\", \"file\");\n    input.setAttribute(\"name\", this._options.name);\n    qq.css(input, {\n      position: 'absolute',\n      // in Opera only 'browse' button\n      // is clickable and it is located at\n      // the right side of the input\n      right: 0,\n      top: 0,\n      fontFamily: 'Arial',\n      // 4 persons reported this, the max values that worked for them were 243, 236, 236, 118\n      fontSize: '118px',\n      margin: 0,\n      padding: 0,\n      cursor: 'pointer',\n      opacity: 0\n    });\n    this._element.appendChild(input);\n    var self = this;\n    qq.attach(input, 'change', function () {\n      self._options.onChange(input);\n    });\n    qq.attach(input, 'mouseover', function () {\n      qq.addClass(self._element, self._options.hoverClass);\n    });\n    qq.attach(input, 'mouseout', function () {\n      qq.removeClass(self._element, self._options.hoverClass);\n    });\n    qq.attach(input, 'focus', function () {\n      qq.addClass(self._element, self._options.focusClass);\n    });\n    qq.attach(input, 'blur', function () {\n      qq.removeClass(self._element, self._options.focusClass);\n    });\n\n    // IE and Opera, unfortunately have 2 tab stops on file input\n    // which is unacceptable in our case, disable keyboard access\n    if (window.attachEvent) {\n      // it is IE or Opera\n      input.setAttribute('tabIndex', \"-1\");\n    }\n    return input;\n  }\n};\n\n/**\n * Class for uploading files, uploading itself is handled by child classes\n */\nqq.UploadHandlerAbstract = function (o) {\n  this._options = {\n    debug: false,\n    action: '/upload.php',\n    // maximum number of concurrent uploads\n    maxConnections: 999,\n    onProgress: function onProgress(id, fileName, loaded, total) {},\n    onComplete: function onComplete(id, fileName, response) {},\n    onCancel: function onCancel(id, fileName) {}\n  };\n  qq.extend(this._options, o);\n  this._queue = [];\n  // params for files in queue\n  this._params = [];\n};\nqq.UploadHandlerAbstract.prototype = {\n  log: function log(str) {\n    if (this._options.debug && window.console) console.log('[uploader] ' + str);\n  },\n  /**\n   * Adds file or file input to the queue\n   * @returns id\n   **/\n  add: function add(file) {},\n  /**\n   * Sends the file identified by id and additional query params to the server\n   */\n  upload: function upload(id, params) {\n    var len = this._queue.push(id);\n    var copy = {};\n    qq.extend(copy, params);\n    this._params[id] = copy;\n\n    // if too many active uploads, wait...\n    if (len <= this._options.maxConnections) {\n      this._upload(id, this._params[id]);\n    }\n  },\n  /**\n   * Cancels file upload by id\n   */\n  cancel: function cancel(id) {\n    this._cancel(id);\n    this._dequeue(id);\n  },\n  /**\n   * Cancells all uploads\n   */\n  cancelAll: function cancelAll() {\n    for (var i = 0; i < this._queue.length; i++) {\n      this._cancel(this._queue[i]);\n    }\n    this._queue = [];\n  },\n  /**\n   * Returns name of the file identified by id\n   */\n  getName: function getName(id) {},\n  /**\n   * Returns size of the file identified by id\n   */\n  getSize: function getSize(id) {},\n  /**\n   * Returns id of files being uploaded or\n   * waiting for their turn\n   */\n  getQueue: function getQueue() {\n    return this._queue;\n  },\n  /**\n   * Actual upload method\n   */\n  _upload: function _upload(id) {},\n  /**\n   * Actual cancel method\n   */\n  _cancel: function _cancel(id) {},\n  /**\n   * Removes element from queue, starts upload of next\n   */\n  _dequeue: function _dequeue(id) {\n    var i = qq.indexOf(this._queue, id);\n    this._queue.splice(i, 1);\n    var max = this._options.maxConnections;\n    if (this._queue.length >= max && i < max) {\n      var nextId = this._queue[max - 1];\n      this._upload(nextId, this._params[nextId]);\n    }\n  }\n};\n\n/**\n * Class for uploading files using form and iframe\n * @inherits qq.UploadHandlerAbstract\n */\nqq.UploadHandlerForm = function (o) {\n  qq.UploadHandlerAbstract.apply(this, arguments);\n  this._inputs = {};\n};\n// @inherits qq.UploadHandlerAbstract\nqq.extend(qq.UploadHandlerForm.prototype, qq.UploadHandlerAbstract.prototype);\nqq.extend(qq.UploadHandlerForm.prototype, {\n  add: function add(fileInput) {\n    fileInput.setAttribute('name', 'qqfile');\n    var id = 'qq-upload-handler-iframe' + qq.getUniqueId();\n    this._inputs[id] = fileInput;\n\n    // remove file input from DOM\n    if (fileInput.parentNode) {\n      qq.remove(fileInput);\n    }\n    return id;\n  },\n  getName: function getName(id) {\n    // get input value and remove path to normalize\n    return this._inputs[id].value.replace(/.*(\\/|\\\\)/, \"\");\n  },\n  _cancel: function _cancel(id) {\n    if (this._inputs[id]) {\n      this._options.onCancel(id, this.getName(id));\n    }\n    delete this._inputs[id];\n    var iframe = document.getElementById(id);\n    if (iframe) {\n      // to cancel request set src to something else\n      // we use src=\"javascript:false;\" because it doesn't\n      // trigger ie6 prompt on https\n      iframe.setAttribute('src', 'javascript:false;');\n      qq.remove(iframe);\n    }\n  },\n  _upload: function _upload(id, params) {\n    var input = this._inputs[id];\n    if (!input) {\n      throw new Error('file with passed id was not added, or already uploaded or cancelled');\n    }\n    var fileName = this.getName(id);\n    var iframe = this._createIframe(id);\n    var form = this._createForm(iframe, params);\n    input.name = params.fileFieldLabel;\n    form.appendChild(input);\n    var dest = document.createElement('input');\n    dest.type = 'text';\n    dest.name = 'dest';\n    dest.value = params.dest;\n    form.appendChild(dest);\n    var csrfmiddlewaretoken = document.createElement('input');\n    csrfmiddlewaretoken.type = 'hidden';\n    csrfmiddlewaretoken.name = 'csrfmiddlewaretoken';\n    csrfmiddlewaretoken.value = \"${request and request.COOKIES.get('csrftoken', '')}\";\n    form.appendChild(csrfmiddlewaretoken);\n    var self = this;\n    this._attachLoadEvent(iframe, function () {\n      self.log('iframe loaded');\n      var response = self._getIframeContentJSON(iframe);\n      self._options.onComplete(id, fileName, response);\n      self._dequeue(id);\n      delete self._inputs[id];\n      // timeout added to fix busy state in FF3.6\n      setTimeout(function () {\n        qq.remove(iframe);\n      }, 1);\n    });\n    form.submit();\n    qq.remove(form);\n    return id;\n  },\n  _attachLoadEvent: function _attachLoadEvent(iframe, callback) {\n    qq.attach(iframe, 'load', function () {\n      // when we remove iframe from dom\n      // the request stops, but in IE load\n      // event fires\n      if (!iframe.parentNode) {\n        return;\n      }\n\n      // fixing Opera 10.53\n      if (iframe.contentDocument && iframe.contentDocument.body && iframe.contentDocument.body.innerHTML == \"false\") {\n        // In Opera event is fired second time\n        // when body.innerHTML changed from false\n        // to server response approx. after 1 sec\n        // when we upload file with iframe\n        return;\n      }\n      callback();\n    });\n  },\n  /**\n   * Returns json object received by iframe from server.\n   */\n  _getIframeContentJSON: function _getIframeContentJSON(iframe) {\n    // iframe.contentWindow.document - for IE<7\n    var doc = iframe.contentDocument ? iframe.contentDocument : iframe.contentWindow.document,\n      response;\n    this.log(\"converting iframe's innerHTML to JSON\");\n    this.log(\"innerHTML = \" + $(doc.body.innerHTML).text());\n    try {\n      response = eval(\"(\" + $(doc.body.innerHTML).text() + \")\");\n    } catch (err) {\n      response = {};\n    }\n    return response;\n  },\n  /**\n   * Creates iframe with unique name\n   */\n  _createIframe: function _createIframe(id) {\n    // We can't use following code as the name attribute\n    // won't be properly registered in IE6, and new window\n    // on form submit will open\n    // var iframe = document.createElement('iframe');\n    // iframe.setAttribute('name', id);\n\n    var iframe = qq.toElement('<iframe src=\"javascript:false;\" name=\"' + id + '\"></iframe>');\n    // src=\"javascript:false;\" removes ie6 prompt on https\n\n    iframe.setAttribute('id', id);\n    iframe.style.display = 'none';\n    document.body.appendChild(iframe);\n    return iframe;\n  },\n  /**\n   * Creates form, that will be submitted to iframe\n   */\n  _createForm: function _createForm(iframe, params) {\n    // We can't use the following code in IE6\n    // var form = document.createElement('form');\n    // form.setAttribute('method', 'post');\n    // form.setAttribute('enctype', 'multipart/form-data');\n    // Because in this case file won't be attached to request\n    var form = qq.toElement('<form method=\"post\" enctype=\"multipart/form-data\"></form>');\n    form.setAttribute('action', this._options.action);\n    form.setAttribute('target', iframe.name);\n    form.style.display = 'none';\n    document.body.appendChild(form);\n    return form;\n  }\n});\n\n/**\n * Class for uploading files using xhr\n * @inherits qq.UploadHandlerAbstract\n */\nqq.UploadHandlerXhr = function (o) {\n  qq.UploadHandlerAbstract.apply(this, arguments);\n  this._files = [];\n  this._xhrs = [];\n\n  // current loaded size in bytes for each file\n  this._loaded = [];\n};\n\n// static method\nqq.UploadHandlerXhr.isSupported = function () {\n  var input = document.createElement('input');\n  input.type = 'file';\n  return 'multiple' in input && typeof File != \"undefined\" && typeof new XMLHttpRequest().upload != \"undefined\";\n};\n\n// @inherits qq.UploadHandlerAbstract\nqq.extend(qq.UploadHandlerXhr.prototype, qq.UploadHandlerAbstract.prototype);\nqq.extend(qq.UploadHandlerXhr.prototype, {\n  /**\n   * Adds file to the queue\n   * Returns id to use with upload, cancel\n   **/\n  add: function add(file) {\n    // HUE-815: [fb] Upload button does not work in Firefox 3.6\n    // see https://github.com/valums/ajax-upload/issues/91\n    //if (!(file instanceof File)){\n    if (!(file instanceof File || file.__proto__ && file.__proto__.constructor.name == 'File' || file instanceof Object)) {\n      throw new Error('Passed obj in not a File (in qq.UploadHandlerXhr)');\n    }\n    return this._files.push(file) - 1;\n  },\n  getName: function getName(id) {\n    var file = this._files[id];\n    // fix missing name in Safari 4\n    return file && (file.fileName || file.name);\n  },\n  getSize: function getSize(id) {\n    var file = this._files[id];\n    return file && (file.fileSize || file.size);\n  },\n  /**\n   * Returns uploaded bytes for file identified by id\n   */\n  getLoaded: function getLoaded(id) {\n    return this._loaded[id] || 0;\n  },\n  /**\n   * Sends the file identified by id and additional query params to the server\n   * @param {Object} params name-value string pairs\n   */\n  _upload: function _upload(id, params) {\n    var file = this._files[id],\n      name = this.getName(id),\n      size = this.getSize(id);\n    this._loaded[id] = 0;\n    var xhr = this._xhrs[id] = new XMLHttpRequest();\n    var self = this;\n    xhr.upload.onprogress = function (e) {\n      if (e.lengthComputable) {\n        self._loaded[id] = e.loaded;\n        self._options.onProgress(id, name, e.loaded, e.total);\n      }\n    };\n    xhr.onreadystatechange = function () {\n      if (xhr.readyState == 4) {\n        self._onComplete(id, xhr);\n      }\n    };\n    var formData = new FormData();\n    formData.append(params.fileFieldLabel, file, file.name.normalize('NFC'));\n    formData.append('dest', params.dest);\n    var destination = encodeURIComponent(params.dest);\n    var action = this._options.action + \"?dest=\" + destination;\n    xhr.open(\"POST\", action, true);\n    xhr.send(formData);\n  },\n  _onComplete: function _onComplete(id, xhr) {\n    // the request was aborted/cancelled\n    if (!this._files[id]) return;\n    var name = this.getName(id);\n    var size = this.getSize(id);\n    this._options.onProgress(id, name, size, size);\n    if (xhr.status == 200) {\n      this.log(\"xhr - server response received\");\n      this.log(\"responseText = \" + xhr.responseText);\n      var response;\n      try {\n        response = eval(\"(\" + xhr.responseText + \")\");\n      } catch (err) {\n        response = {};\n      }\n      this._options.onComplete(id, name, response);\n    } else {\n      this._options.onComplete(id, name, xhr);\n    }\n    this._files[id] = null;\n    this._xhrs[id] = null;\n    this._dequeue(id);\n  },\n  _cancel: function _cancel(id) {\n    if (this._files[id]) {\n      this._options.onCancel(id, this.getName(id));\n    }\n    this._files[id] = null;\n    if (this._xhrs[id]) {\n      this._xhrs[id].abort();\n      this._xhrs[id] = null;\n    }\n  }\n});\nvar fileuploader = qq;\nexport default fileuploader;","function _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n// Fine Uploader 5.16.2 - MIT licensed. http://fineuploader.com\nimport $ from 'jquery';\n(function (global) {\n  var qq = function qq(element) {\n    \"use strict\";\n\n    return {\n      hide: function hide() {\n        element.style.display = \"none\";\n        return this;\n      },\n      attach: function attach(type, fn) {\n        if (element.addEventListener) {\n          element.addEventListener(type, fn, false);\n        } else if (element.attachEvent) {\n          element.attachEvent(\"on\" + type, fn);\n        }\n        return function () {\n          qq(element).detach(type, fn);\n        };\n      },\n      detach: function detach(type, fn) {\n        if (element.removeEventListener) {\n          element.removeEventListener(type, fn, false);\n        } else if (element.attachEvent) {\n          element.detachEvent(\"on\" + type, fn);\n        }\n        return this;\n      },\n      contains: function contains(descendant) {\n        if (!descendant) {\n          return false;\n        }\n        if (element === descendant) {\n          return true;\n        }\n        if (element.contains) {\n          return element.contains(descendant);\n        } else {\n          return !!(descendant.compareDocumentPosition(element) & 8);\n        }\n      },\n      insertBefore: function insertBefore(elementB) {\n        elementB.parentNode.insertBefore(element, elementB);\n        return this;\n      },\n      remove: function remove() {\n        element.parentNode.removeChild(element);\n        return this;\n      },\n      css: function css(styles) {\n        if (element.style == null) {\n          throw new qq.Error(\"Can't apply style to node as it is not on the HTMLElement prototype chain!\");\n        }\n        if (styles.opacity != null) {\n          if (typeof element.style.opacity !== \"string\" && typeof element.filters !== \"undefined\") {\n            styles.filter = \"alpha(opacity=\" + Math.round(100 * styles.opacity) + \")\";\n          }\n        }\n        qq.extend(element.style, styles);\n        return this;\n      },\n      hasClass: function hasClass(name, considerParent) {\n        var re = new RegExp(\"(^| )\" + name + \"( |$)\");\n        return re.test(element.className) || !!(considerParent && re.test(element.parentNode.className));\n      },\n      addClass: function addClass(name) {\n        if (!qq(element).hasClass(name)) {\n          element.className += \" \" + name;\n        }\n        return this;\n      },\n      removeClass: function removeClass(name) {\n        var re = new RegExp(\"(^| )\" + name + \"( |$)\");\n        element.className = element.className.replace(re, \" \").replace(/^\\s+|\\s+$/g, \"\");\n        return this;\n      },\n      getByClass: function getByClass(className, first) {\n        var candidates,\n          result = [];\n        if (first && element.querySelector) {\n          return element.querySelector(\".\" + className);\n        } else if (element.querySelectorAll) {\n          return element.querySelectorAll(\".\" + className);\n        }\n        candidates = element.getElementsByTagName(\"*\");\n        qq.each(candidates, function (idx, val) {\n          if (qq(val).hasClass(className)) {\n            result.push(val);\n          }\n        });\n        return first ? result[0] : result;\n      },\n      getFirstByClass: function getFirstByClass(className) {\n        return qq(element).getByClass(className, true);\n      },\n      children: function children() {\n        var children = [],\n          child = element.firstChild;\n        while (child) {\n          if (child.nodeType === 1) {\n            children.push(child);\n          }\n          child = child.nextSibling;\n        }\n        return children;\n      },\n      setText: function setText(text) {\n        element.innerText = text;\n        element.textContent = text;\n        return this;\n      },\n      clearText: function clearText() {\n        return qq(element).setText(\"\");\n      },\n      hasAttribute: function hasAttribute(attrName) {\n        var attrVal;\n        if (element.hasAttribute) {\n          if (!element.hasAttribute(attrName)) {\n            return false;\n          }\n          return /^false$/i.exec(element.getAttribute(attrName)) == null;\n        } else {\n          attrVal = element[attrName];\n          if (attrVal === undefined) {\n            return false;\n          }\n          return /^false$/i.exec(attrVal) == null;\n        }\n      }\n    };\n  };\n  (function () {\n    \"use strict\";\n\n    qq.canvasToBlob = function (canvas, mime, quality) {\n      return qq.dataUriToBlob(canvas.toDataURL(mime, quality));\n    };\n    qq.dataUriToBlob = function (dataUri) {\n      var arrayBuffer,\n        byteString,\n        createBlob = function createBlob(data, mime) {\n          var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder,\n            blobBuilder = BlobBuilder && new BlobBuilder();\n          if (blobBuilder) {\n            blobBuilder.append(data);\n            return blobBuilder.getBlob(mime);\n          } else {\n            return new Blob([data], {\n              type: mime\n            });\n          }\n        },\n        intArray,\n        mimeString;\n      if (dataUri.split(\",\")[0].indexOf(\"base64\") >= 0) {\n        byteString = atob(dataUri.split(\",\")[1]);\n      } else {\n        byteString = decodeURI(dataUri.split(\",\")[1]);\n      }\n      mimeString = dataUri.split(\",\")[0].split(\":\")[1].split(\";\")[0];\n      arrayBuffer = new ArrayBuffer(byteString.length);\n      intArray = new Uint8Array(arrayBuffer);\n      qq.each(byteString, function (idx, character) {\n        intArray[idx] = character.charCodeAt(0);\n      });\n      return createBlob(arrayBuffer, mimeString);\n    };\n    qq.log = function (message, level) {\n      if (window.console) {\n        if (!level || level === \"info\") {\n          window.console.log(message);\n        } else {\n          if (window.console[level]) {\n            window.console[level](message);\n          } else {\n            window.console.log(\"<\" + level + \"> \" + message);\n          }\n        }\n      }\n    };\n    qq.isObject = function (variable) {\n      return variable && !variable.nodeType && Object.prototype.toString.call(variable) === \"[object Object]\";\n    };\n    qq.isFunction = function (variable) {\n      return typeof variable === \"function\";\n    };\n    qq.isArray = function (value) {\n      return Object.prototype.toString.call(value) === \"[object Array]\" || value && window.ArrayBuffer && value.buffer && value.buffer.constructor === ArrayBuffer;\n    };\n    qq.isItemList = function (maybeItemList) {\n      return Object.prototype.toString.call(maybeItemList) === \"[object DataTransferItemList]\";\n    };\n    qq.isNodeList = function (maybeNodeList) {\n      return Object.prototype.toString.call(maybeNodeList) === \"[object NodeList]\" || maybeNodeList.item && maybeNodeList.namedItem;\n    };\n    qq.isString = function (maybeString) {\n      return Object.prototype.toString.call(maybeString) === \"[object String]\";\n    };\n    qq.trimStr = function (string) {\n      if (String.prototype.trim) {\n        return string.trim();\n      }\n      return string.replace(/^\\s+|\\s+$/g, \"\");\n    };\n    qq.format = function (str) {\n      var args = Array.prototype.slice.call(arguments, 1),\n        newStr = str,\n        nextIdxToReplace = newStr.indexOf(\"{}\");\n      qq.each(args, function (idx, val) {\n        var strBefore = newStr.substring(0, nextIdxToReplace),\n          strAfter = newStr.substring(nextIdxToReplace + 2);\n        newStr = strBefore + val + strAfter;\n        nextIdxToReplace = newStr.indexOf(\"{}\", nextIdxToReplace + val.length);\n        if (nextIdxToReplace < 0) {\n          return false;\n        }\n      });\n      return newStr;\n    };\n    qq.isFile = function (maybeFile) {\n      return window.File && Object.prototype.toString.call(maybeFile) === \"[object File]\";\n    };\n    qq.isFileList = function (maybeFileList) {\n      return window.FileList && Object.prototype.toString.call(maybeFileList) === \"[object FileList]\";\n    };\n    qq.isFileOrInput = function (maybeFileOrInput) {\n      return qq.isFile(maybeFileOrInput) || qq.isInput(maybeFileOrInput);\n    };\n    qq.isInput = function (maybeInput, notFile) {\n      var evaluateType = function evaluateType(type) {\n        var normalizedType = type.toLowerCase();\n        if (notFile) {\n          return normalizedType !== \"file\";\n        }\n        return normalizedType === \"file\";\n      };\n      if (window.HTMLInputElement) {\n        if (Object.prototype.toString.call(maybeInput) === \"[object HTMLInputElement]\") {\n          if (maybeInput.type && evaluateType(maybeInput.type)) {\n            return true;\n          }\n        }\n      }\n      if (maybeInput.tagName) {\n        if (maybeInput.tagName.toLowerCase() === \"input\") {\n          if (maybeInput.type && evaluateType(maybeInput.type)) {\n            return true;\n          }\n        }\n      }\n      return false;\n    };\n    qq.isBlob = function (maybeBlob) {\n      if (window.Blob && Object.prototype.toString.call(maybeBlob) === \"[object Blob]\") {\n        return true;\n      }\n    };\n    qq.isXhrUploadSupported = function () {\n      var input = document.createElement(\"input\");\n      input.type = \"file\";\n      return input.multiple !== undefined && typeof File !== \"undefined\" && typeof FormData !== \"undefined\" && typeof qq.createXhrInstance().upload !== \"undefined\";\n    };\n    qq.createXhrInstance = function () {\n      if (window.XMLHttpRequest) {\n        return new XMLHttpRequest();\n      }\n      try {\n        return new ActiveXObject(\"MSXML2.XMLHTTP.3.0\");\n      } catch (error) {\n        qq.log(\"Neither XHR or ActiveX are supported!\", \"error\");\n        return null;\n      }\n    };\n    qq.isFolderDropSupported = function (dataTransfer) {\n      return dataTransfer.items && dataTransfer.items.length > 0 && dataTransfer.items[0].webkitGetAsEntry;\n    };\n    qq.isFileChunkingSupported = function () {\n      return !qq.androidStock() && qq.isXhrUploadSupported() && (File.prototype.slice !== undefined || File.prototype.webkitSlice !== undefined || File.prototype.mozSlice !== undefined);\n    };\n    qq.sliceBlob = function (fileOrBlob, start, end) {\n      var slicer = fileOrBlob.slice || fileOrBlob.mozSlice || fileOrBlob.webkitSlice;\n      return slicer.call(fileOrBlob, start, end);\n    };\n    qq.arrayBufferToHex = function (buffer) {\n      var bytesAsHex = \"\",\n        bytes = new Uint8Array(buffer);\n      qq.each(bytes, function (idx, byt) {\n        var byteAsHexStr = byt.toString(16);\n        if (byteAsHexStr.length < 2) {\n          byteAsHexStr = \"0\" + byteAsHexStr;\n        }\n        bytesAsHex += byteAsHexStr;\n      });\n      return bytesAsHex;\n    };\n    qq.readBlobToHex = function (blob, startOffset, length) {\n      var initialBlob = qq.sliceBlob(blob, startOffset, startOffset + length),\n        fileReader = new FileReader(),\n        promise = new qq.Promise();\n      fileReader.onload = function () {\n        promise.success(qq.arrayBufferToHex(fileReader.result));\n      };\n      fileReader.onerror = promise.failure;\n      fileReader.readAsArrayBuffer(initialBlob);\n      return promise;\n    };\n    qq.extend = function (first, second, extendNested) {\n      qq.each(second, function (prop, val) {\n        if (extendNested && qq.isObject(val)) {\n          if (first[prop] === undefined) {\n            first[prop] = {};\n          }\n          qq.extend(first[prop], val, true);\n        } else {\n          first[prop] = val;\n        }\n      });\n      return first;\n    };\n    qq.override = function (target, sourceFn) {\n      var super_ = {},\n        source = sourceFn(super_);\n      qq.each(source, function (srcPropName, srcPropVal) {\n        if (target[srcPropName] !== undefined) {\n          super_[srcPropName] = target[srcPropName];\n        }\n        target[srcPropName] = srcPropVal;\n      });\n      return target;\n    };\n    qq.indexOf = function (arr, elt, from) {\n      if (arr.indexOf) {\n        return arr.indexOf(elt, from);\n      }\n      from = from || 0;\n      var len = arr.length;\n      if (from < 0) {\n        from += len;\n      }\n      for (; from < len; from += 1) {\n        if (arr.hasOwnProperty(from) && arr[from] === elt) {\n          return from;\n        }\n      }\n      return -1;\n    };\n    qq.getUniqueId = function () {\n      return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (c) {\n        var r = Math.random() * 16 | 0,\n          v = c == \"x\" ? r : r & 3 | 8;\n        return v.toString(16);\n      });\n    };\n    qq.ie = function () {\n      return navigator.userAgent.indexOf(\"MSIE\") !== -1 || navigator.userAgent.indexOf(\"Trident\") !== -1;\n    };\n    qq.ie7 = function () {\n      return navigator.userAgent.indexOf(\"MSIE 7\") !== -1;\n    };\n    qq.ie8 = function () {\n      return navigator.userAgent.indexOf(\"MSIE 8\") !== -1;\n    };\n    qq.ie10 = function () {\n      return navigator.userAgent.indexOf(\"MSIE 10\") !== -1;\n    };\n    qq.ie11 = function () {\n      return qq.ie() && navigator.userAgent.indexOf(\"rv:11\") !== -1;\n    };\n    qq.edge = function () {\n      return navigator.userAgent.indexOf(\"Edge\") >= 0;\n    };\n    qq.safari = function () {\n      return navigator.vendor !== undefined && navigator.vendor.indexOf(\"Apple\") !== -1;\n    };\n    qq.chrome = function () {\n      return navigator.vendor !== undefined && navigator.vendor.indexOf(\"Google\") !== -1;\n    };\n    qq.opera = function () {\n      return navigator.vendor !== undefined && navigator.vendor.indexOf(\"Opera\") !== -1;\n    };\n    qq.firefox = function () {\n      return !qq.edge() && !qq.ie11() && navigator.userAgent.indexOf(\"Mozilla\") !== -1 && navigator.vendor !== undefined && navigator.vendor === \"\";\n    };\n    qq.windows = function () {\n      return navigator.platform === \"Win32\";\n    };\n    qq.android = function () {\n      return navigator.userAgent.toLowerCase().indexOf(\"android\") !== -1;\n    };\n    qq.androidStock = function () {\n      return qq.android() && navigator.userAgent.toLowerCase().indexOf(\"chrome\") < 0 && navigator.userAgent.toLowerCase().indexOf(\"firefox\") < 0;\n    };\n    qq.ios6 = function () {\n      return qq.ios() && navigator.userAgent.indexOf(\" OS 6_\") !== -1;\n    };\n    qq.ios7 = function () {\n      return qq.ios() && navigator.userAgent.indexOf(\" OS 7_\") !== -1;\n    };\n    qq.ios8 = function () {\n      return qq.ios() && navigator.userAgent.indexOf(\" OS 8_\") !== -1;\n    };\n    qq.ios800 = function () {\n      return qq.ios() && navigator.userAgent.indexOf(\" OS 8_0 \") !== -1;\n    };\n    qq.ios = function () {\n      return navigator.userAgent.indexOf(\"iPad\") !== -1 || navigator.userAgent.indexOf(\"iPod\") !== -1 || navigator.userAgent.indexOf(\"iPhone\") !== -1;\n    };\n    qq.iosChrome = function () {\n      return qq.ios() && navigator.userAgent.indexOf(\"CriOS\") !== -1;\n    };\n    qq.iosSafari = function () {\n      return qq.ios() && !qq.iosChrome() && navigator.userAgent.indexOf(\"Safari\") !== -1;\n    };\n    qq.iosSafariWebView = function () {\n      return qq.ios() && !qq.iosChrome() && !qq.iosSafari();\n    };\n    qq.preventDefault = function (e) {\n      if (e.preventDefault) {\n        e.preventDefault();\n      } else {\n        e.returnValue = false;\n      }\n    };\n    qq.toElement = function () {\n      var div = document.createElement(\"div\");\n      return function (html) {\n        div.innerHTML = html;\n        var element = div.firstChild;\n        div.removeChild(element);\n        return element;\n      };\n    }();\n    qq.each = function (iterableItem, callback) {\n      var keyOrIndex, retVal;\n      if (iterableItem) {\n        if (window.Storage && iterableItem.constructor === window.Storage) {\n          for (keyOrIndex = 0; keyOrIndex < iterableItem.length; keyOrIndex++) {\n            retVal = callback(iterableItem.key(keyOrIndex), iterableItem.getItem(iterableItem.key(keyOrIndex)));\n            if (retVal === false) {\n              break;\n            }\n          }\n        } else if (qq.isArray(iterableItem) || qq.isItemList(iterableItem) || qq.isNodeList(iterableItem)) {\n          for (keyOrIndex = 0; keyOrIndex < iterableItem.length; keyOrIndex++) {\n            retVal = callback(keyOrIndex, iterableItem[keyOrIndex]);\n            if (retVal === false) {\n              break;\n            }\n          }\n        } else if (qq.isString(iterableItem)) {\n          for (keyOrIndex = 0; keyOrIndex < iterableItem.length; keyOrIndex++) {\n            retVal = callback(keyOrIndex, iterableItem.charAt(keyOrIndex));\n            if (retVal === false) {\n              break;\n            }\n          }\n        } else {\n          for (keyOrIndex in iterableItem) {\n            if (Object.prototype.hasOwnProperty.call(iterableItem, keyOrIndex)) {\n              retVal = callback(keyOrIndex, iterableItem[keyOrIndex]);\n              if (retVal === false) {\n                break;\n              }\n            }\n          }\n        }\n      }\n    };\n    qq.bind = function (oldFunc, context) {\n      if (qq.isFunction(oldFunc)) {\n        var args = Array.prototype.slice.call(arguments, 2);\n        return function () {\n          var newArgs = qq.extend([], args);\n          if (arguments.length) {\n            newArgs = newArgs.concat(Array.prototype.slice.call(arguments));\n          }\n          return oldFunc.apply(context, newArgs);\n        };\n      }\n      throw new Error(\"first parameter must be a function!\");\n    };\n    qq.obj2url = function (obj, temp, prefixDone) {\n      var uristrings = [],\n        prefix = \"&\",\n        add = function add(nextObj, i) {\n          var nextTemp = temp ? /\\[\\]$/.test(temp) ? temp : temp + \"[\" + i + \"]\" : i;\n          if (nextTemp !== \"undefined\" && i !== \"undefined\") {\n            uristrings.push(_typeof(nextObj) === \"object\" ? qq.obj2url(nextObj, nextTemp, true) : Object.prototype.toString.call(nextObj) === \"[object Function]\" ? encodeURIComponent(nextTemp) + \"=\" + encodeURIComponent(nextObj()) : encodeURIComponent(nextTemp) + \"=\" + encodeURIComponent(nextObj));\n          }\n        };\n      if (!prefixDone && temp) {\n        prefix = /\\?/.test(temp) ? /\\?$/.test(temp) ? \"\" : \"&\" : \"?\";\n        uristrings.push(temp);\n        uristrings.push(qq.obj2url(obj));\n      } else if (Object.prototype.toString.call(obj) === \"[object Array]\" && typeof obj !== \"undefined\") {\n        qq.each(obj, function (idx, val) {\n          add(val, idx);\n        });\n      } else if (typeof obj !== \"undefined\" && obj !== null && _typeof(obj) === \"object\") {\n        qq.each(obj, function (prop, val) {\n          add(val, prop);\n        });\n      } else {\n        uristrings.push(encodeURIComponent(temp) + \"=\" + encodeURIComponent(obj));\n      }\n      if (temp) {\n        return uristrings.join(prefix);\n      } else {\n        return uristrings.join(prefix).replace(/^&/, \"\").replace(/%20/g, \"+\");\n      }\n    };\n    qq.obj2FormData = function (obj, formData, arrayKeyName) {\n      if (!formData) {\n        formData = new FormData();\n      }\n      qq.each(obj, function (key, val) {\n        key = arrayKeyName ? arrayKeyName + \"[\" + key + \"]\" : key;\n        if (qq.isObject(val)) {\n          qq.obj2FormData(val, formData, key);\n        } else if (qq.isFunction(val)) {\n          formData.append(key, val());\n        } else {\n          formData.append(key, val);\n        }\n      });\n      return formData;\n    };\n    qq.obj2Inputs = function (obj, form) {\n      var input;\n      if (!form) {\n        form = document.createElement(\"form\");\n      }\n      qq.obj2FormData(obj, {\n        append: function append(key, val) {\n          input = document.createElement(\"input\");\n          input.setAttribute(\"name\", key);\n          input.setAttribute(\"value\", val);\n          form.appendChild(input);\n        }\n      });\n      return form;\n    };\n    qq.parseJson = function (json) {\n      if (window.JSON && qq.isFunction(JSON.parse)) {\n        return JSON.parse(json);\n      } else {\n        return eval(\"(\" + json + \")\");\n      }\n    };\n    qq.getExtension = function (filename) {\n      var extIdx = filename.lastIndexOf(\".\") + 1;\n      if (extIdx > 0) {\n        return filename.substr(extIdx, filename.length - extIdx);\n      }\n    };\n    qq.getFilename = function (blobOrFileInput) {\n      if (qq.isInput(blobOrFileInput)) {\n        return blobOrFileInput.value.replace(/.*(\\/|\\\\)/, \"\");\n      } else if (qq.isFile(blobOrFileInput)) {\n        if (blobOrFileInput.fileName !== null && blobOrFileInput.fileName !== undefined) {\n          return blobOrFileInput.fileName;\n        }\n      }\n      return blobOrFileInput.name;\n    };\n    qq.DisposeSupport = function () {\n      var disposers = [];\n      return {\n        dispose: function dispose() {\n          var disposer;\n          do {\n            disposer = disposers.shift();\n            if (disposer) {\n              disposer();\n            }\n          } while (disposer);\n        },\n        attach: function attach() {\n          var args = arguments;\n          this.addDisposer(qq(args[0]).attach.apply(this, Array.prototype.slice.call(arguments, 1)));\n        },\n        addDisposer: function addDisposer(disposeFunction) {\n          disposers.push(disposeFunction);\n        }\n      };\n    };\n  })();\n  (function () {\n    \"use strict\";\n\n    if (typeof define === \"function\" && define.amd) {\n      define(function () {\n        return qq;\n      });\n    } else if (typeof module !== \"undefined\" && module.exports) {\n      module.exports = qq;\n    } else {\n      global.qq = qq;\n    }\n  })();\n  (function () {\n    \"use strict\";\n\n    qq.Error = function (message) {\n      this.message = \"[Fine Uploader \" + qq.version + \"] \" + message;\n    };\n    qq.Error.prototype = new Error();\n  })();\n  qq.version = \"5.16.2\";\n  qq.supportedFeatures = function () {\n    \"use strict\";\n\n    var supportsUploading, supportsUploadingBlobs, supportsFileDrop, supportsAjaxFileUploading, supportsFolderDrop, supportsChunking, supportsResume, supportsUploadViaPaste, supportsUploadCors, supportsDeleteFileXdr, supportsDeleteFileCorsXhr, supportsDeleteFileCors, supportsFolderSelection, supportsImagePreviews, supportsUploadProgress;\n    function testSupportsFileInputElement() {\n      var supported = true,\n        tempInput;\n      try {\n        tempInput = document.createElement(\"input\");\n        tempInput.type = \"file\";\n        qq(tempInput).hide();\n        if (tempInput.disabled) {\n          supported = false;\n        }\n      } catch (ex) {\n        supported = false;\n      }\n      return supported;\n    }\n    function isChrome14OrHigher() {\n      return (qq.chrome() || qq.opera()) && navigator.userAgent.match(/Chrome\\/[1][4-9]|Chrome\\/[2-9][0-9]/) !== undefined;\n    }\n    function isCrossOriginXhrSupported() {\n      if (window.XMLHttpRequest) {\n        var xhr = qq.createXhrInstance();\n        return xhr.withCredentials !== undefined;\n      }\n      return false;\n    }\n    function isXdrSupported() {\n      return window.XDomainRequest !== undefined;\n    }\n    function isCrossOriginAjaxSupported() {\n      if (isCrossOriginXhrSupported()) {\n        return true;\n      }\n      return isXdrSupported();\n    }\n    function isFolderSelectionSupported() {\n      return document.createElement(\"input\").webkitdirectory !== undefined;\n    }\n    function isLocalStorageSupported() {\n      try {\n        return !!window.localStorage && qq.isFunction(window.localStorage.setItem);\n      } catch (error) {\n        return false;\n      }\n    }\n    function isDragAndDropSupported() {\n      var span = document.createElement(\"span\");\n      return (\"draggable\" in span || \"ondragstart\" in span && \"ondrop\" in span) && !qq.android() && !qq.ios();\n    }\n    supportsUploading = testSupportsFileInputElement();\n    supportsAjaxFileUploading = supportsUploading && qq.isXhrUploadSupported();\n    supportsUploadingBlobs = supportsAjaxFileUploading && !qq.androidStock();\n    supportsFileDrop = supportsAjaxFileUploading && isDragAndDropSupported();\n    supportsFolderDrop = supportsFileDrop && function () {\n      var input = document.createElement(\"input\");\n      input.type = \"file\";\n      return !!(\"webkitdirectory\" in (input || document.querySelectorAll(\"input[type=file]\")[0]));\n    }();\n    supportsChunking = supportsAjaxFileUploading && qq.isFileChunkingSupported();\n    supportsResume = supportsAjaxFileUploading && supportsChunking && isLocalStorageSupported();\n    supportsUploadViaPaste = supportsAjaxFileUploading && isChrome14OrHigher();\n    supportsUploadCors = supportsUploading && (window.postMessage !== undefined || supportsAjaxFileUploading);\n    supportsDeleteFileCorsXhr = isCrossOriginXhrSupported();\n    supportsDeleteFileXdr = isXdrSupported();\n    supportsDeleteFileCors = isCrossOriginAjaxSupported();\n    supportsFolderSelection = isFolderSelectionSupported();\n    supportsImagePreviews = supportsAjaxFileUploading && window.FileReader !== undefined;\n    supportsUploadProgress = function () {\n      if (supportsAjaxFileUploading) {\n        return !qq.androidStock() && !qq.iosChrome();\n      }\n      return false;\n    }();\n    return {\n      ajaxUploading: supportsAjaxFileUploading,\n      blobUploading: supportsUploadingBlobs,\n      canDetermineSize: supportsAjaxFileUploading,\n      chunking: supportsChunking,\n      deleteFileCors: supportsDeleteFileCors,\n      deleteFileCorsXdr: supportsDeleteFileXdr,\n      deleteFileCorsXhr: supportsDeleteFileCorsXhr,\n      dialogElement: !!window.HTMLDialogElement,\n      fileDrop: supportsFileDrop,\n      folderDrop: supportsFolderDrop,\n      folderSelection: supportsFolderSelection,\n      imagePreviews: supportsImagePreviews,\n      imageValidation: supportsImagePreviews,\n      itemSizeValidation: supportsAjaxFileUploading,\n      pause: supportsChunking,\n      progressBar: supportsUploadProgress,\n      resume: supportsResume,\n      scaling: supportsImagePreviews && supportsUploadingBlobs,\n      tiffPreviews: qq.safari(),\n      unlimitedScaledImageSize: !qq.ios(),\n      uploading: supportsUploading,\n      uploadCors: supportsUploadCors,\n      uploadCustomHeaders: supportsAjaxFileUploading,\n      uploadNonMultipart: supportsAjaxFileUploading,\n      uploadViaPaste: supportsUploadViaPaste\n    };\n  }();\n  qq.isGenericPromise = function (maybePromise) {\n    \"use strict\";\n\n    return !!(maybePromise && maybePromise.then && qq.isFunction(maybePromise.then));\n  };\n  qq.Promise = function () {\n    \"use strict\";\n\n    var successArgs,\n      failureArgs,\n      successCallbacks = [],\n      failureCallbacks = [],\n      doneCallbacks = [],\n      state = 0;\n    qq.extend(this, {\n      then: function then(onSuccess, onFailure) {\n        if (state === 0) {\n          if (onSuccess) {\n            successCallbacks.push(onSuccess);\n          }\n          if (onFailure) {\n            failureCallbacks.push(onFailure);\n          }\n        } else if (state === -1) {\n          onFailure && onFailure.apply(null, failureArgs);\n        } else if (onSuccess) {\n          onSuccess.apply(null, successArgs);\n        }\n        return this;\n      },\n      done: function done(callback) {\n        if (state === 0) {\n          doneCallbacks.push(callback);\n        } else {\n          callback.apply(null, failureArgs === undefined ? successArgs : failureArgs);\n        }\n        return this;\n      },\n      success: function success() {\n        state = 1;\n        successArgs = arguments;\n        if (successCallbacks.length) {\n          qq.each(successCallbacks, function (idx, callback) {\n            callback.apply(null, successArgs);\n          });\n        }\n        if (doneCallbacks.length) {\n          qq.each(doneCallbacks, function (idx, callback) {\n            callback.apply(null, successArgs);\n          });\n        }\n        return this;\n      },\n      failure: function failure() {\n        state = -1;\n        failureArgs = arguments;\n        if (failureCallbacks.length) {\n          qq.each(failureCallbacks, function (idx, callback) {\n            callback.apply(null, failureArgs);\n          });\n        }\n        if (doneCallbacks.length) {\n          qq.each(doneCallbacks, function (idx, callback) {\n            callback.apply(null, failureArgs);\n          });\n        }\n        return this;\n      }\n    });\n  };\n  qq.BlobProxy = function (referenceBlob, onCreate) {\n    \"use strict\";\n\n    qq.extend(this, {\n      referenceBlob: referenceBlob,\n      create: function create() {\n        return onCreate(referenceBlob);\n      }\n    });\n  };\n  qq.UploadButton = function (o) {\n    \"use strict\";\n\n    var self = this,\n      disposeSupport = new qq.DisposeSupport(),\n      options = {\n        acceptFiles: null,\n        element: null,\n        focusClass: \"qq-upload-button-focus\",\n        folders: false,\n        hoverClass: \"qq-upload-button-hover\",\n        ios8BrowserCrashWorkaround: false,\n        multiple: false,\n        name: \"qqfile\",\n        onChange: function onChange(input) {},\n        title: null\n      },\n      input,\n      buttonId;\n    qq.extend(options, o);\n    buttonId = qq.getUniqueId();\n    function createInput() {\n      var input = document.createElement(\"input\");\n      input.setAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME, buttonId);\n      input.setAttribute(\"title\", options.title);\n      self.setMultiple(options.multiple, input);\n      if (options.folders && qq.supportedFeatures.folderSelection) {\n        input.setAttribute(\"webkitdirectory\", \"\");\n      }\n      if (options.acceptFiles) {\n        input.setAttribute(\"accept\", options.acceptFiles);\n      }\n      input.setAttribute(\"type\", \"file\");\n      input.setAttribute(\"name\", options.name);\n      qq(input).css({\n        position: \"absolute\",\n        right: 0,\n        top: 0,\n        fontFamily: \"Arial\",\n        fontSize: qq.ie() && !qq.ie8() ? \"3500px\" : \"118px\",\n        margin: 0,\n        padding: 0,\n        cursor: \"pointer\",\n        opacity: 0\n      });\n      !qq.ie7() && qq(input).css({\n        height: \"100%\"\n      });\n      options.element.appendChild(input);\n      disposeSupport.attach(input, \"change\", function () {\n        options.onChange(input);\n      });\n      disposeSupport.attach(input, \"mouseover\", function () {\n        qq(options.element).addClass(options.hoverClass);\n      });\n      disposeSupport.attach(input, \"mouseout\", function () {\n        qq(options.element).removeClass(options.hoverClass);\n      });\n      disposeSupport.attach(input, \"focus\", function () {\n        qq(options.element).addClass(options.focusClass);\n      });\n      disposeSupport.attach(input, \"blur\", function () {\n        qq(options.element).removeClass(options.focusClass);\n      });\n      return input;\n    }\n    qq(options.element).css({\n      position: \"relative\",\n      overflow: \"hidden\",\n      direction: \"ltr\"\n    });\n    qq.extend(this, {\n      getInput: function getInput() {\n        return input;\n      },\n      getButtonId: function getButtonId() {\n        return buttonId;\n      },\n      setMultiple: function setMultiple(isMultiple, optInput) {\n        var input = optInput || this.getInput();\n        if (options.ios8BrowserCrashWorkaround && qq.ios8() && (qq.iosChrome() || qq.iosSafariWebView())) {\n          input.setAttribute(\"multiple\", \"\");\n        } else {\n          if (isMultiple) {\n            input.setAttribute(\"multiple\", \"\");\n          } else {\n            input.removeAttribute(\"multiple\");\n          }\n        }\n      },\n      setAcceptFiles: function setAcceptFiles(acceptFiles) {\n        if (acceptFiles !== options.acceptFiles) {\n          input.setAttribute(\"accept\", acceptFiles);\n        }\n      },\n      reset: function reset() {\n        if (input.parentNode) {\n          qq(input).remove();\n        }\n        qq(options.element).removeClass(options.focusClass);\n        input = null;\n        input = createInput();\n      }\n    });\n    input = createInput();\n  };\n  qq.UploadButton.BUTTON_ID_ATTR_NAME = \"qq-button-id\";\n  qq.UploadData = function (uploaderProxy) {\n    \"use strict\";\n\n    var data = [],\n      byUuid = {},\n      byStatus = {},\n      byProxyGroupId = {},\n      byBatchId = {};\n    function getDataByIds(idOrIds) {\n      if (qq.isArray(idOrIds)) {\n        var entries = [];\n        qq.each(idOrIds, function (idx, id) {\n          entries.push(data[id]);\n        });\n        return entries;\n      }\n      return data[idOrIds];\n    }\n    function getDataByUuids(uuids) {\n      if (qq.isArray(uuids)) {\n        var entries = [];\n        qq.each(uuids, function (idx, uuid) {\n          entries.push(data[byUuid[uuid]]);\n        });\n        return entries;\n      }\n      return data[byUuid[uuids]];\n    }\n    function getDataByStatus(status) {\n      var statusResults = [],\n        statuses = [].concat(status);\n      qq.each(statuses, function (index, statusEnum) {\n        var statusResultIndexes = byStatus[statusEnum];\n        if (statusResultIndexes !== undefined) {\n          qq.each(statusResultIndexes, function (i, dataIndex) {\n            statusResults.push(data[dataIndex]);\n          });\n        }\n      });\n      return statusResults;\n    }\n    qq.extend(this, {\n      addFile: function addFile(spec) {\n        var status = spec.status || qq.status.SUBMITTING,\n          id = data.push({\n            name: spec.name,\n            originalName: spec.name,\n            uuid: spec.uuid,\n            size: spec.size == null ? -1 : spec.size,\n            status: status,\n            file: spec.file\n          }) - 1;\n        if (spec.batchId) {\n          data[id].batchId = spec.batchId;\n          if (byBatchId[spec.batchId] === undefined) {\n            byBatchId[spec.batchId] = [];\n          }\n          byBatchId[spec.batchId].push(id);\n        }\n        if (spec.proxyGroupId) {\n          data[id].proxyGroupId = spec.proxyGroupId;\n          if (byProxyGroupId[spec.proxyGroupId] === undefined) {\n            byProxyGroupId[spec.proxyGroupId] = [];\n          }\n          byProxyGroupId[spec.proxyGroupId].push(id);\n        }\n        data[id].id = id;\n        byUuid[spec.uuid] = id;\n        if (byStatus[status] === undefined) {\n          byStatus[status] = [];\n        }\n        byStatus[status].push(id);\n        spec.onBeforeStatusChange && spec.onBeforeStatusChange(id);\n        uploaderProxy.onStatusChange(id, null, status);\n        return id;\n      },\n      retrieve: function retrieve(optionalFilter) {\n        if (qq.isObject(optionalFilter) && data.length) {\n          if (optionalFilter.id !== undefined) {\n            return getDataByIds(optionalFilter.id);\n          } else if (optionalFilter.uuid !== undefined) {\n            return getDataByUuids(optionalFilter.uuid);\n          } else if (optionalFilter.status) {\n            return getDataByStatus(optionalFilter.status);\n          }\n        } else {\n          return qq.extend([], data, true);\n        }\n      },\n      removeFileRef: function removeFileRef(id) {\n        var record = getDataByIds(id);\n        if (record) {\n          delete record.file;\n        }\n      },\n      reset: function reset() {\n        data = [];\n        byUuid = {};\n        byStatus = {};\n        byBatchId = {};\n      },\n      setStatus: function setStatus(id, newStatus) {\n        var oldStatus = data[id].status,\n          byStatusOldStatusIndex = qq.indexOf(byStatus[oldStatus], id);\n        byStatus[oldStatus].splice(byStatusOldStatusIndex, 1);\n        data[id].status = newStatus;\n        if (byStatus[newStatus] === undefined) {\n          byStatus[newStatus] = [];\n        }\n        byStatus[newStatus].push(id);\n        uploaderProxy.onStatusChange(id, oldStatus, newStatus);\n      },\n      uuidChanged: function uuidChanged(id, newUuid) {\n        var oldUuid = data[id].uuid;\n        data[id].uuid = newUuid;\n        byUuid[newUuid] = id;\n        delete byUuid[oldUuid];\n      },\n      updateName: function updateName(id, newName) {\n        data[id].name = newName;\n      },\n      updateSize: function updateSize(id, newSize) {\n        data[id].size = newSize;\n      },\n      setParentId: function setParentId(targetId, parentId) {\n        data[targetId].parentId = parentId;\n      },\n      getIdsInProxyGroup: function getIdsInProxyGroup(id) {\n        var proxyGroupId = data[id].proxyGroupId;\n        if (proxyGroupId) {\n          return byProxyGroupId[proxyGroupId];\n        }\n        return [];\n      },\n      getIdsInBatch: function getIdsInBatch(id) {\n        var batchId = data[id].batchId;\n        return byBatchId[batchId];\n      }\n    });\n  };\n  qq.status = {\n    SUBMITTING: \"submitting\",\n    SUBMITTED: \"submitted\",\n    REJECTED: \"rejected\",\n    QUEUED: \"queued\",\n    CANCELED: \"canceled\",\n    PAUSED: \"paused\",\n    UPLOADING: \"uploading\",\n    UPLOAD_FINALIZING: \"upload finalizing\",\n    UPLOAD_RETRYING: \"retrying upload\",\n    UPLOAD_SUCCESSFUL: \"upload successful\",\n    UPLOAD_FAILED: \"upload failed\",\n    DELETE_FAILED: \"delete failed\",\n    DELETING: \"deleting\",\n    DELETED: \"deleted\"\n  };\n  (function () {\n    \"use strict\";\n\n    qq.basePublicApi = {\n      addBlobs: function addBlobs(blobDataOrArray, params, endpoint) {\n        this.addFiles(blobDataOrArray, params, endpoint);\n      },\n      addInitialFiles: function addInitialFiles(cannedFileList) {\n        var self = this;\n        qq.each(cannedFileList, function (index, cannedFile) {\n          self._addCannedFile(cannedFile);\n        });\n      },\n      addFiles: function addFiles(data, params, endpoint) {\n        this._maybeHandleIos8SafariWorkaround();\n        var batchId = this._storedIds.length === 0 ? qq.getUniqueId() : this._currentBatchId,\n          processBlob = qq.bind(function (blob) {\n            this._handleNewFile({\n              blob: blob,\n              name: this._options.blobs.defaultName\n            }, batchId, verifiedFiles);\n          }, this),\n          processBlobData = qq.bind(function (blobData) {\n            this._handleNewFile(blobData, batchId, verifiedFiles);\n          }, this),\n          processCanvas = qq.bind(function (canvas) {\n            var blob = qq.canvasToBlob(canvas);\n            this._handleNewFile({\n              blob: blob,\n              name: this._options.blobs.defaultName + \".png\"\n            }, batchId, verifiedFiles);\n          }, this),\n          processCanvasData = qq.bind(function (canvasData) {\n            var normalizedQuality = canvasData.quality && canvasData.quality / 100,\n              blob = qq.canvasToBlob(canvasData.canvas, canvasData.type, normalizedQuality);\n            this._handleNewFile({\n              blob: blob,\n              name: canvasData.name\n            }, batchId, verifiedFiles);\n          }, this),\n          processFileOrInput = qq.bind(function (fileOrInput) {\n            if (qq.isInput(fileOrInput) && qq.supportedFeatures.ajaxUploading) {\n              var files = Array.prototype.slice.call(fileOrInput.files),\n                self = this;\n              qq.each(files, function (idx, file) {\n                self._handleNewFile(file, batchId, verifiedFiles);\n              });\n            } else {\n              this._handleNewFile(fileOrInput, batchId, verifiedFiles);\n            }\n          }, this),\n          normalizeData = function normalizeData() {\n            if (qq.isFileList(data)) {\n              data = Array.prototype.slice.call(data);\n            }\n            data = [].concat(data);\n          },\n          self = this,\n          verifiedFiles = [];\n        this._currentBatchId = batchId;\n        if (data) {\n          normalizeData();\n          qq.each(data, function (idx, fileContainer) {\n            if (qq.isFileOrInput(fileContainer)) {\n              processFileOrInput(fileContainer);\n            } else if (qq.isBlob(fileContainer)) {\n              processBlob(fileContainer);\n            } else if (qq.isObject(fileContainer)) {\n              if (fileContainer.blob && fileContainer.name) {\n                processBlobData(fileContainer);\n              } else if (fileContainer.canvas && fileContainer.name) {\n                processCanvasData(fileContainer);\n              }\n            } else if (fileContainer.tagName && fileContainer.tagName.toLowerCase() === \"canvas\") {\n              processCanvas(fileContainer);\n            } else {\n              self.log(fileContainer + \" is not a valid file container!  Ignoring!\", \"warn\");\n            }\n          });\n          this.log(\"Received \" + verifiedFiles.length + \" files.\");\n          this._prepareItemsForUpload(verifiedFiles, params, endpoint);\n        }\n      },\n      cancel: function cancel(id) {\n        var uploadData = this._uploadData.retrieve({\n          id: id\n        });\n        if (uploadData && uploadData.status === qq.status.UPLOAD_FINALIZING) {\n          this.log(qq.format(\"Ignoring cancel for file ID {} ({}).  Finalizing upload.\", id, this.getName(id)), \"error\");\n        } else {\n          this._handler.cancel(id);\n        }\n      },\n      cancelAll: function cancelAll() {\n        var storedIdsCopy = [],\n          self = this;\n        qq.extend(storedIdsCopy, this._storedIds);\n        qq.each(storedIdsCopy, function (idx, storedFileId) {\n          self.cancel(storedFileId);\n        });\n        this._handler.cancelAll();\n      },\n      clearStoredFiles: function clearStoredFiles() {\n        this._storedIds = [];\n      },\n      continueUpload: function continueUpload(id) {\n        var uploadData = this._uploadData.retrieve({\n          id: id\n        });\n        if (!qq.supportedFeatures.pause || !this._options.chunking.enabled) {\n          return false;\n        }\n        if (uploadData.status === qq.status.PAUSED) {\n          this.log(qq.format(\"Paused file ID {} ({}) will be continued.  Not paused.\", id, this.getName(id)));\n          this._uploadFile(id);\n          return true;\n        } else {\n          this.log(qq.format(\"Ignoring continue for file ID {} ({}).  Not paused.\", id, this.getName(id)), \"error\");\n        }\n        return false;\n      },\n      deleteFile: function deleteFile(id) {\n        return this._onSubmitDelete(id);\n      },\n      doesExist: function doesExist(fileOrBlobId) {\n        return this._handler.isValid(fileOrBlobId);\n      },\n      drawThumbnail: function drawThumbnail(fileId, imgOrCanvas, maxSize, fromServer, customResizeFunction) {\n        var promiseToReturn = new qq.Promise(),\n          fileOrUrl,\n          options;\n        if (this._imageGenerator) {\n          fileOrUrl = this._thumbnailUrls[fileId];\n          options = {\n            customResizeFunction: customResizeFunction,\n            maxSize: maxSize > 0 ? maxSize : null,\n            scale: maxSize > 0\n          };\n          if (!fromServer && qq.supportedFeatures.imagePreviews) {\n            fileOrUrl = this.getFile(fileId);\n          }\n          if (fileOrUrl == null) {\n            promiseToReturn.failure({\n              container: imgOrCanvas,\n              error: \"File or URL not found.\"\n            });\n          } else {\n            this._imageGenerator.generate(fileOrUrl, imgOrCanvas, options).then(function success(modifiedContainer) {\n              promiseToReturn.success(modifiedContainer);\n            }, function failure(container, reason) {\n              promiseToReturn.failure({\n                container: container,\n                error: reason || \"Problem generating thumbnail\"\n              });\n            });\n          }\n        } else {\n          promiseToReturn.failure({\n            container: imgOrCanvas,\n            error: \"Missing image generator module\"\n          });\n        }\n        return promiseToReturn;\n      },\n      getButton: function getButton(fileId) {\n        return this._getButton(this._buttonIdsForFileIds[fileId]);\n      },\n      getEndpoint: function getEndpoint(fileId) {\n        return this._endpointStore.get(fileId);\n      },\n      getFile: function getFile(fileOrBlobId) {\n        var file = this._handler.getFile(fileOrBlobId);\n        var uploadDataRecord;\n        if (!file) {\n          uploadDataRecord = this._uploadData.retrieve({\n            id: fileOrBlobId\n          });\n          if (uploadDataRecord) {\n            file = uploadDataRecord.file;\n          }\n        }\n        return file || null;\n      },\n      getInProgress: function getInProgress() {\n        return this._uploadData.retrieve({\n          status: [qq.status.UPLOADING, qq.status.UPLOAD_RETRYING, qq.status.QUEUED]\n        }).length;\n      },\n      getName: function getName(id) {\n        return this._uploadData.retrieve({\n          id: id\n        }).name;\n      },\n      getParentId: function getParentId(id) {\n        var uploadDataEntry = this.getUploads({\n            id: id\n          }),\n          parentId = null;\n        if (uploadDataEntry) {\n          if (uploadDataEntry.parentId !== undefined) {\n            parentId = uploadDataEntry.parentId;\n          }\n        }\n        return parentId;\n      },\n      getResumableFilesData: function getResumableFilesData() {\n        return this._handler.getResumableFilesData();\n      },\n      getSize: function getSize(id) {\n        return this._uploadData.retrieve({\n          id: id\n        }).size;\n      },\n      getNetUploads: function getNetUploads() {\n        return this._netUploaded;\n      },\n      getRemainingAllowedItems: function getRemainingAllowedItems() {\n        var allowedItems = this._currentItemLimit;\n        if (allowedItems > 0) {\n          return allowedItems - this._netUploadedOrQueued;\n        }\n        return null;\n      },\n      getUploads: function getUploads(optionalFilter) {\n        return this._uploadData.retrieve(optionalFilter);\n      },\n      getUuid: function getUuid(id) {\n        return this._uploadData.retrieve({\n          id: id\n        }).uuid;\n      },\n      isResumable: function isResumable(id) {\n        return this._handler.hasResumeRecord(id);\n      },\n      log: function log(str, level) {\n        if (this._options.debug && (!level || level === \"info\")) {\n          qq.log(\"[Fine Uploader \" + qq.version + \"] \" + str);\n        } else if (level && level !== \"info\") {\n          qq.log(\"[Fine Uploader \" + qq.version + \"] \" + str, level);\n        }\n      },\n      pauseUpload: function pauseUpload(id) {\n        var uploadData = this._uploadData.retrieve({\n          id: id\n        });\n        if (!qq.supportedFeatures.pause || !this._options.chunking.enabled) {\n          return false;\n        }\n        if (qq.indexOf([qq.status.UPLOADING, qq.status.UPLOAD_RETRYING], uploadData.status) >= 0) {\n          if (this._handler.pause(id)) {\n            this._uploadData.setStatus(id, qq.status.PAUSED);\n            return true;\n          } else {\n            this.log(qq.format(\"Unable to pause file ID {} ({}).\", id, this.getName(id)), \"error\");\n          }\n        } else {\n          this.log(qq.format(\"Ignoring pause for file ID {} ({}).  Not in progress.\", id, this.getName(id)), \"error\");\n        }\n        return false;\n      },\n      removeFileRef: function removeFileRef(id) {\n        this._handler.expunge(id);\n        this._uploadData.removeFileRef(id);\n      },\n      reset: function reset() {\n        this.log(\"Resetting uploader...\");\n        this._handler.reset();\n        this._storedIds = [];\n        this._autoRetries = [];\n        this._retryTimeouts = [];\n        this._preventRetries = [];\n        this._thumbnailUrls = [];\n        qq.each(this._buttons, function (idx, button) {\n          button.reset();\n        });\n        this._paramsStore.reset();\n        this._endpointStore.reset();\n        this._netUploadedOrQueued = 0;\n        this._netUploaded = 0;\n        this._uploadData.reset();\n        this._buttonIdsForFileIds = [];\n        this._pasteHandler && this._pasteHandler.reset();\n        this._options.session.refreshOnReset && this._refreshSessionData();\n        this._succeededSinceLastAllComplete = [];\n        this._failedSinceLastAllComplete = [];\n        this._totalProgress && this._totalProgress.reset();\n        this._customResumeDataStore.reset();\n      },\n      retry: function retry(id) {\n        return this._manualRetry(id);\n      },\n      scaleImage: function scaleImage(id, specs) {\n        var self = this;\n        return qq.Scaler.prototype.scaleImage(id, specs, {\n          log: qq.bind(self.log, self),\n          getFile: qq.bind(self.getFile, self),\n          uploadData: self._uploadData\n        });\n      },\n      setCustomHeaders: function setCustomHeaders(headers, id) {\n        this._customHeadersStore.set(headers, id);\n      },\n      setCustomResumeData: function setCustomResumeData(id, data) {\n        this._customResumeDataStore.set(data, id);\n      },\n      setDeleteFileCustomHeaders: function setDeleteFileCustomHeaders(headers, id) {\n        this._deleteFileCustomHeadersStore.set(headers, id);\n      },\n      setDeleteFileEndpoint: function setDeleteFileEndpoint(endpoint, id) {\n        this._deleteFileEndpointStore.set(endpoint, id);\n      },\n      setDeleteFileParams: function setDeleteFileParams(params, id) {\n        this._deleteFileParamsStore.set(params, id);\n      },\n      setEndpoint: function setEndpoint(endpoint, id) {\n        this._endpointStore.set(endpoint, id);\n      },\n      setForm: function setForm(elementOrId) {\n        this._updateFormSupportAndParams(elementOrId);\n      },\n      setItemLimit: function setItemLimit(newItemLimit) {\n        this._currentItemLimit = newItemLimit;\n      },\n      setName: function setName(id, newName) {\n        this._uploadData.updateName(id, newName);\n      },\n      setParams: function setParams(params, id) {\n        this._paramsStore.set(params, id);\n      },\n      setOption: function setOption(key, val) {\n        this._options[key] = val;\n      },\n      setUuid: function setUuid(id, newUuid) {\n        return this._uploadData.uuidChanged(id, newUuid);\n      },\n      setStatus: function setStatus(id, newStatus) {\n        var fileRecord = this.getUploads({\n          id: id\n        });\n        if (!fileRecord) {\n          throw new qq.Error(id + \" is not a valid file ID.\");\n        }\n        switch (newStatus) {\n          case qq.status.DELETED:\n            this._onDeleteComplete(id, null, false);\n            break;\n          case qq.status.DELETE_FAILED:\n            this._onDeleteComplete(id, null, true);\n            break;\n          default:\n            var errorMessage = \"Method setStatus called on '\" + name + \"' not implemented yet for \" + newStatus;\n            this.log(errorMessage);\n            throw new qq.Error(errorMessage);\n        }\n      },\n      uploadStoredFiles: function uploadStoredFiles() {\n        if (this._storedIds.length === 0) {\n          this._itemError(\"noFilesError\");\n        } else {\n          this._uploadStoredFiles();\n        }\n      }\n    };\n    qq.basePrivateApi = {\n      _addCannedFile: function _addCannedFile(sessionData) {\n        var self = this;\n        return this._uploadData.addFile({\n          uuid: sessionData.uuid,\n          name: sessionData.name,\n          size: sessionData.size,\n          status: qq.status.UPLOAD_SUCCESSFUL,\n          onBeforeStatusChange: function onBeforeStatusChange(id) {\n            sessionData.deleteFileEndpoint && self.setDeleteFileEndpoint(sessionData.deleteFileEndpoint, id);\n            sessionData.deleteFileParams && self.setDeleteFileParams(sessionData.deleteFileParams, id);\n            if (sessionData.thumbnailUrl) {\n              self._thumbnailUrls[id] = sessionData.thumbnailUrl;\n            }\n            self._netUploaded++;\n            self._netUploadedOrQueued++;\n          }\n        });\n      },\n      _annotateWithButtonId: function _annotateWithButtonId(file, associatedInput) {\n        if (qq.isFile(file)) {\n          file.qqButtonId = this._getButtonId(associatedInput);\n        }\n      },\n      _batchError: function _batchError(message) {\n        this._options.callbacks.onError(null, null, message, undefined);\n      },\n      _createDeleteHandler: function _createDeleteHandler() {\n        var self = this;\n        return new qq.DeleteFileAjaxRequester({\n          method: this._options.deleteFile.method.toUpperCase(),\n          maxConnections: this._options.maxConnections,\n          uuidParamName: this._options.request.uuidName,\n          customHeaders: this._deleteFileCustomHeadersStore,\n          paramsStore: this._deleteFileParamsStore,\n          endpointStore: this._deleteFileEndpointStore,\n          cors: this._options.cors,\n          log: qq.bind(self.log, self),\n          onDelete: function onDelete(id) {\n            self._onDelete(id);\n            self._options.callbacks.onDelete(id);\n          },\n          onDeleteComplete: function onDeleteComplete(id, xhrOrXdr, isError) {\n            self._onDeleteComplete(id, xhrOrXdr, isError);\n            self._options.callbacks.onDeleteComplete(id, xhrOrXdr, isError);\n          }\n        });\n      },\n      _createPasteHandler: function _createPasteHandler() {\n        var self = this;\n        return new qq.PasteSupport({\n          targetElement: this._options.paste.targetElement,\n          callbacks: {\n            log: qq.bind(self.log, self),\n            pasteReceived: function pasteReceived(blob) {\n              self._handleCheckedCallback({\n                name: \"onPasteReceived\",\n                callback: qq.bind(self._options.callbacks.onPasteReceived, self, blob),\n                onSuccess: qq.bind(self._handlePasteSuccess, self, blob),\n                identifier: \"pasted image\"\n              });\n            }\n          }\n        });\n      },\n      _createStore: function _createStore(initialValue, _readOnlyValues_) {\n        var store = {},\n          catchall = initialValue,\n          perIdReadOnlyValues = {},\n          readOnlyValues = _readOnlyValues_,\n          copy = function copy(orig) {\n            if (qq.isObject(orig)) {\n              return qq.extend({}, orig);\n            }\n            return orig;\n          },\n          getReadOnlyValues = function getReadOnlyValues() {\n            if (qq.isFunction(readOnlyValues)) {\n              return readOnlyValues();\n            }\n            return readOnlyValues;\n          },\n          includeReadOnlyValues = function includeReadOnlyValues(id, existing) {\n            if (readOnlyValues && qq.isObject(existing)) {\n              qq.extend(existing, getReadOnlyValues());\n            }\n            if (perIdReadOnlyValues[id]) {\n              qq.extend(existing, perIdReadOnlyValues[id]);\n            }\n          };\n        return {\n          set: function set(val, id) {\n            if (id == null) {\n              store = {};\n              catchall = copy(val);\n            } else {\n              store[id] = copy(val);\n            }\n          },\n          get: function get(id) {\n            var values;\n            if (id != null && store[id]) {\n              values = store[id];\n            } else {\n              values = copy(catchall);\n            }\n            includeReadOnlyValues(id, values);\n            return copy(values);\n          },\n          addReadOnly: function addReadOnly(id, values) {\n            if (qq.isObject(store)) {\n              if (id === null) {\n                if (qq.isFunction(values)) {\n                  readOnlyValues = values;\n                } else {\n                  readOnlyValues = readOnlyValues || {};\n                  qq.extend(readOnlyValues, values);\n                }\n              } else {\n                perIdReadOnlyValues[id] = perIdReadOnlyValues[id] || {};\n                qq.extend(perIdReadOnlyValues[id], values);\n              }\n            }\n          },\n          remove: function remove(fileId) {\n            return delete store[fileId];\n          },\n          reset: function reset() {\n            store = {};\n            perIdReadOnlyValues = {};\n            catchall = initialValue;\n          }\n        };\n      },\n      _createUploadDataTracker: function _createUploadDataTracker() {\n        var self = this;\n        return new qq.UploadData({\n          getName: function getName(id) {\n            return self.getName(id);\n          },\n          getUuid: function getUuid(id) {\n            return self.getUuid(id);\n          },\n          getSize: function getSize(id) {\n            return self.getSize(id);\n          },\n          onStatusChange: function onStatusChange(id, oldStatus, newStatus) {\n            self._onUploadStatusChange(id, oldStatus, newStatus);\n            self._options.callbacks.onStatusChange(id, oldStatus, newStatus);\n            self._maybeAllComplete(id, newStatus);\n            if (self._totalProgress) {\n              setTimeout(function () {\n                self._totalProgress.onStatusChange(id, oldStatus, newStatus);\n              }, 0);\n            }\n          }\n        });\n      },\n      _createUploadButton: function _createUploadButton(spec) {\n        var self = this,\n          acceptFiles = spec.accept || this._options.validation.acceptFiles,\n          allowedExtensions = spec.allowedExtensions || this._options.validation.allowedExtensions,\n          button;\n        function allowMultiple() {\n          if (qq.supportedFeatures.ajaxUploading) {\n            if (self._options.workarounds.iosEmptyVideos && qq.ios() && !qq.ios6() && self._isAllowedExtension(allowedExtensions, \".mov\")) {\n              return false;\n            }\n            if (spec.multiple === undefined) {\n              return self._options.multiple;\n            }\n            return spec.multiple;\n          }\n          return false;\n        }\n        button = new qq.UploadButton({\n          acceptFiles: acceptFiles,\n          element: spec.element,\n          focusClass: this._options.classes.buttonFocus,\n          folders: spec.folders,\n          hoverClass: this._options.classes.buttonHover,\n          ios8BrowserCrashWorkaround: this._options.workarounds.ios8BrowserCrash,\n          multiple: allowMultiple(),\n          name: this._options.request.inputName,\n          onChange: function onChange(input) {\n            self._onInputChange(input);\n          },\n          title: spec.title == null ? this._options.text.fileInputTitle : spec.title\n        });\n        this._disposeSupport.addDisposer(function () {\n          button.dispose();\n        });\n        self._buttons.push(button);\n        return button;\n      },\n      _createUploadHandler: function _createUploadHandler(additionalOptions, namespace) {\n        var self = this,\n          lastOnProgress = {},\n          options = {\n            debug: this._options.debug,\n            request: {\n              dest: '/',\n              inputName: 'hdfs_file'\n            },\n            maxConnections: this._options.maxConnections,\n            cors: this._options.cors,\n            paramsStore: this._paramsStore,\n            endpointStore: this._endpointStore,\n            chunking: this._options.chunking,\n            resume: this._options.resume,\n            blobs: this._options.blobs,\n            log: qq.bind(self.log, self),\n            preventRetryParam: this._options.retry.preventRetryResponseProperty,\n            onProgress: function onProgress(id, name, loaded, total) {\n              if (loaded < 0 || total < 0) {\n                return;\n              }\n              if (lastOnProgress[id]) {\n                if (lastOnProgress[id].loaded !== loaded || lastOnProgress[id].total !== total) {\n                  self._onProgress(id, name, loaded, total);\n                  self._options.callbacks.onProgress(id, name, loaded, total);\n                }\n              } else {\n                self._onProgress(id, name, loaded, total);\n                self._options.callbacks.onProgress(id, name, loaded, total);\n              }\n              lastOnProgress[id] = {\n                loaded: loaded,\n                total: total\n              };\n            },\n            onComplete: function onComplete(id, name, result, xhr) {\n              delete lastOnProgress[id];\n              var status = self.getUploads({\n                  id: id\n                }).status,\n                retVal;\n              if (status === qq.status.UPLOAD_SUCCESSFUL || status === qq.status.UPLOAD_FAILED) {\n                return;\n              }\n              retVal = self._onComplete(id, name, result, xhr);\n              if (retVal instanceof qq.Promise) {\n                retVal.done(function () {\n                  self._options.callbacks.onComplete(id, name, result, xhr);\n                });\n              } else {\n                self._options.callbacks.onComplete(id, name, result, xhr);\n              }\n            },\n            onCancel: function onCancel(id, name, cancelFinalizationEffort) {\n              var promise = new qq.Promise();\n              self._handleCheckedCallback({\n                name: \"onCancel\",\n                callback: qq.bind(self._options.callbacks.onCancel, self, id, name),\n                onFailure: promise.failure,\n                onSuccess: function onSuccess() {\n                  cancelFinalizationEffort.then(function () {\n                    self._onCancel(id, name);\n                  });\n                  promise.success();\n                },\n                identifier: id\n              });\n              return promise;\n            },\n            onUploadPrep: qq.bind(this._onUploadPrep, this),\n            onUpload: function onUpload(id, name) {\n              self._onUpload(id, name);\n              var onUploadResult = self._options.callbacks.onUpload(id, name);\n              if (qq.isGenericPromise(onUploadResult)) {\n                self.log(qq.format(\"onUpload for {} returned a Promise - waiting for resolution.\", id));\n                return onUploadResult;\n              }\n              return new qq.Promise().success();\n            },\n            onUploadChunk: function onUploadChunk(id, name, chunkData) {\n              self._onUploadChunk(id, chunkData);\n              var onUploadChunkResult = self._options.callbacks.onUploadChunk(id, name, chunkData);\n              if (qq.isGenericPromise(onUploadChunkResult)) {\n                self.log(qq.format(\"onUploadChunk for {}.{} returned a Promise - waiting for resolution.\", id, chunkData.partIndex));\n                return onUploadChunkResult;\n              }\n              return new qq.Promise().success();\n            },\n            onUploadChunkSuccess: function onUploadChunkSuccess(id, chunkData, result, xhr) {\n              self._onUploadChunkSuccess(id, chunkData);\n              self._options.callbacks.onUploadChunkSuccess.apply(self, arguments);\n            },\n            onResume: function onResume(id, name, chunkData, customResumeData) {\n              return self._options.callbacks.onResume(id, name, chunkData, customResumeData);\n            },\n            onAutoRetry: function onAutoRetry(id, name, responseJSON, xhr) {\n              return self._onAutoRetry.apply(self, arguments);\n            },\n            onUuidChanged: function onUuidChanged(id, newUuid) {\n              self.log(\"Server requested UUID change from '\" + self.getUuid(id) + \"' to '\" + newUuid + \"'\");\n              self.setUuid(id, newUuid);\n            },\n            getName: qq.bind(self.getName, self),\n            getUuid: qq.bind(self.getUuid, self),\n            getSize: qq.bind(self.getSize, self),\n            setSize: qq.bind(self._setSize, self),\n            getDataByUuid: function getDataByUuid(uuid) {\n              return self.getUploads({\n                uuid: uuid\n              });\n            },\n            isQueued: function isQueued(id) {\n              var status = self.getUploads({\n                id: id\n              }).status;\n              return status === qq.status.QUEUED || status === qq.status.SUBMITTED || status === qq.status.UPLOAD_RETRYING || status === qq.status.PAUSED;\n            },\n            getIdsInProxyGroup: self._uploadData.getIdsInProxyGroup,\n            getIdsInBatch: self._uploadData.getIdsInBatch,\n            isInProgress: function isInProgress(id) {\n              return self.getUploads({\n                id: id\n              }).status === qq.status.UPLOADING;\n            },\n            getCustomResumeData: qq.bind(self._getCustomResumeData, self),\n            setStatus: function setStatus(id, status) {\n              self._uploadData.setStatus(id, status);\n            }\n          };\n        qq.each(this._options.request, function (prop, val) {\n          options[prop] = val;\n        });\n        options.customHeaders = this._customHeadersStore;\n        if (additionalOptions) {\n          qq.each(additionalOptions, function (key, val) {\n            options[key] = val;\n          });\n        }\n        return new qq.UploadHandlerController(options, namespace);\n      },\n      _fileOrBlobRejected: function _fileOrBlobRejected(id) {\n        this._netUploadedOrQueued--;\n        this._uploadData.setStatus(id, qq.status.REJECTED);\n      },\n      _formatSize: function _formatSize(bytes) {\n        if (bytes === 0) {\n          return bytes + this._options.text.sizeSymbols[0];\n        }\n        var i = -1;\n        do {\n          bytes = bytes / 1e3;\n          i++;\n        } while (bytes > 999);\n        return Math.max(bytes, .1).toFixed(1) + this._options.text.sizeSymbols[i];\n      },\n      _generateExtraButtonSpecs: function _generateExtraButtonSpecs() {\n        var self = this;\n        this._extraButtonSpecs = {};\n        qq.each(this._options.extraButtons, function (idx, extraButtonOptionEntry) {\n          var multiple = extraButtonOptionEntry.multiple,\n            validation = qq.extend({}, self._options.validation, true),\n            extraButtonSpec = qq.extend({}, extraButtonOptionEntry);\n          if (multiple === undefined) {\n            multiple = self._options.multiple;\n          }\n          if (extraButtonSpec.validation) {\n            qq.extend(validation, extraButtonOptionEntry.validation, true);\n          }\n          qq.extend(extraButtonSpec, {\n            multiple: multiple,\n            validation: validation\n          }, true);\n          self._initExtraButton(extraButtonSpec);\n        });\n      },\n      _getButton: function _getButton(buttonId) {\n        var extraButtonsSpec = this._extraButtonSpecs[buttonId];\n        if (extraButtonsSpec) {\n          return extraButtonsSpec.element;\n        } else if (buttonId === this._defaultButtonId) {\n          return this._options.button;\n        }\n      },\n      _getButtonId: function _getButtonId(buttonOrFileInputOrFile) {\n        var inputs,\n          fileInput,\n          fileBlobOrInput = buttonOrFileInputOrFile;\n        if (fileBlobOrInput instanceof qq.BlobProxy) {\n          fileBlobOrInput = fileBlobOrInput.referenceBlob;\n        }\n        if (fileBlobOrInput && !qq.isBlob(fileBlobOrInput)) {\n          if (qq.isFile(fileBlobOrInput)) {\n            return fileBlobOrInput.qqButtonId;\n          } else if (fileBlobOrInput.tagName.toLowerCase() === \"input\" && fileBlobOrInput.type.toLowerCase() === \"file\") {\n            return fileBlobOrInput.getAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME);\n          }\n          inputs = fileBlobOrInput.getElementsByTagName(\"input\");\n          qq.each(inputs, function (idx, input) {\n            if (input.getAttribute(\"type\") === \"file\") {\n              fileInput = input;\n              return false;\n            }\n          });\n          if (fileInput) {\n            return fileInput.getAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME);\n          }\n        }\n      },\n      _getCustomResumeData: function _getCustomResumeData(fileId) {\n        return this._customResumeDataStore.get(fileId);\n      },\n      _getNotFinished: function _getNotFinished() {\n        return this._uploadData.retrieve({\n          status: [qq.status.UPLOADING, qq.status.UPLOAD_RETRYING, qq.status.QUEUED, qq.status.SUBMITTING, qq.status.SUBMITTED, qq.status.PAUSED]\n        }).length;\n      },\n      _getValidationBase: function _getValidationBase(buttonId) {\n        var extraButtonSpec = this._extraButtonSpecs[buttonId];\n        return extraButtonSpec ? extraButtonSpec.validation : this._options.validation;\n      },\n      _getValidationDescriptor: function _getValidationDescriptor(fileWrapper) {\n        if (fileWrapper.file instanceof qq.BlobProxy) {\n          return {\n            name: qq.getFilename(fileWrapper.file.referenceBlob),\n            size: fileWrapper.file.referenceBlob.size\n          };\n        }\n        return {\n          name: this.getUploads({\n            id: fileWrapper.id\n          }).name,\n          size: this.getUploads({\n            id: fileWrapper.id\n          }).size\n        };\n      },\n      _getValidationDescriptors: function _getValidationDescriptors(fileWrappers) {\n        var self = this,\n          fileDescriptors = [];\n        qq.each(fileWrappers, function (idx, fileWrapper) {\n          fileDescriptors.push(self._getValidationDescriptor(fileWrapper));\n        });\n        return fileDescriptors;\n      },\n      _handleCameraAccess: function _handleCameraAccess() {\n        if (this._options.camera.ios && qq.ios()) {\n          var acceptIosCamera = \"image/*;capture=camera\",\n            button = this._options.camera.button,\n            buttonId = button ? this._getButtonId(button) : this._defaultButtonId,\n            optionRoot = this._options;\n          if (buttonId && buttonId !== this._defaultButtonId) {\n            optionRoot = this._extraButtonSpecs[buttonId];\n          }\n          optionRoot.multiple = false;\n          if (optionRoot.validation.acceptFiles === null) {\n            optionRoot.validation.acceptFiles = acceptIosCamera;\n          } else {\n            optionRoot.validation.acceptFiles += \",\" + acceptIosCamera;\n          }\n          qq.each(this._buttons, function (idx, button) {\n            if (button.getButtonId() === buttonId) {\n              button.setMultiple(optionRoot.multiple);\n              button.setAcceptFiles(optionRoot.acceptFiles);\n              return false;\n            }\n          });\n        }\n      },\n      _handleCheckedCallback: function _handleCheckedCallback(details) {\n        var self = this,\n          callbackRetVal = details.callback();\n        if (qq.isGenericPromise(callbackRetVal)) {\n          this.log(details.name + \" - waiting for \" + details.name + \" promise to be fulfilled for \" + details.identifier);\n          return callbackRetVal.then(function (successParam) {\n            self.log(details.name + \" promise success for \" + details.identifier);\n            details.onSuccess(successParam);\n          }, function () {\n            if (details.onFailure) {\n              self.log(details.name + \" promise failure for \" + details.identifier);\n              details.onFailure();\n            } else {\n              self.log(details.name + \" promise failure for \" + details.identifier);\n            }\n          });\n        }\n        if (callbackRetVal !== false) {\n          details.onSuccess(callbackRetVal);\n        } else {\n          if (details.onFailure) {\n            this.log(details.name + \" - return value was 'false' for \" + details.identifier + \".  Invoking failure callback.\");\n            details.onFailure();\n          } else {\n            this.log(details.name + \" - return value was 'false' for \" + details.identifier + \".  Will not proceed.\");\n          }\n        }\n        return callbackRetVal;\n      },\n      _handleNewFile: function _handleNewFile(file, batchId, newFileWrapperList) {\n        var self = this,\n          uuid = qq.getUniqueId(),\n          size = -1,\n          name = qq.getFilename(file),\n          actualFile = file.blob || file,\n          handler = this._customNewFileHandler ? this._customNewFileHandler : qq.bind(self._handleNewFileGeneric, self);\n        if (!qq.isInput(actualFile) && actualFile.size >= 0) {\n          size = actualFile.size;\n        }\n        handler(actualFile, name, uuid, size, newFileWrapperList, batchId, this._options.request.uuidName, {\n          uploadData: self._uploadData,\n          paramsStore: self._paramsStore,\n          addFileToHandler: function addFileToHandler(id, file) {\n            self._handler.add(id, file);\n            self._netUploadedOrQueued++;\n            self._trackButton(id);\n          }\n        });\n      },\n      _handleNewFileGeneric: function _handleNewFileGeneric(file, name, uuid, size, fileList, batchId) {\n        var id = this._uploadData.addFile({\n          uuid: uuid,\n          name: name,\n          size: size,\n          batchId: batchId,\n          file: file\n        });\n        this._handler.add(id, file);\n        this._trackButton(id);\n        this._netUploadedOrQueued++;\n        fileList.push({\n          id: id,\n          file: file\n        });\n      },\n      _handlePasteSuccess: function _handlePasteSuccess(blob, extSuppliedName) {\n        var extension = blob.type.split(\"/\")[1],\n          name = extSuppliedName;\n        if (name == null) {\n          name = this._options.paste.defaultName;\n        }\n        name += \".\" + extension;\n        this.addFiles({\n          name: name,\n          blob: blob\n        });\n      },\n      _handleDeleteSuccess: function _handleDeleteSuccess(id) {\n        if (this.getUploads({\n          id: id\n        }).status !== qq.status.DELETED) {\n          var name = this.getName(id);\n          this._netUploadedOrQueued--;\n          this._netUploaded--;\n          this._handler.expunge(id);\n          this._uploadData.setStatus(id, qq.status.DELETED);\n          this.log(\"Delete request for '\" + name + \"' has succeeded.\");\n        }\n      },\n      _handleDeleteFailed: function _handleDeleteFailed(id, xhrOrXdr) {\n        var name = this.getName(id);\n        this._uploadData.setStatus(id, qq.status.DELETE_FAILED);\n        this.log(\"Delete request for '\" + name + \"' has failed.\", \"error\");\n        if (!xhrOrXdr || xhrOrXdr.withCredentials === undefined) {\n          this._options.callbacks.onError(id, name, \"Delete request failed\", xhrOrXdr);\n        } else {\n          this._options.callbacks.onError(id, name, \"Delete request failed with response code \" + xhrOrXdr.status, xhrOrXdr);\n        }\n      },\n      _initExtraButton: function _initExtraButton(spec) {\n        var button = this._createUploadButton({\n          accept: spec.validation.acceptFiles,\n          allowedExtensions: spec.validation.allowedExtensions,\n          element: spec.element,\n          folders: spec.folders,\n          multiple: spec.multiple,\n          title: spec.fileInputTitle\n        });\n        this._extraButtonSpecs[button.getButtonId()] = spec;\n      },\n      _initFormSupportAndParams: function _initFormSupportAndParams() {\n        this._formSupport = qq.FormSupport && new qq.FormSupport(this._options.form, qq.bind(this.uploadStoredFiles, this), qq.bind(this.log, this));\n        if (this._formSupport && this._formSupport.attachedToForm) {\n          this._paramsStore = this._createStore(this._options.request.params, this._formSupport.getFormInputsAsObject);\n          this._options.autoUpload = this._formSupport.newAutoUpload;\n          if (this._formSupport.newEndpoint) {\n            this._options.request.endpoint = this._formSupport.newEndpoint;\n          }\n        } else {\n          this._paramsStore = this._createStore(this._options.request.params);\n        }\n      },\n      _isDeletePossible: function _isDeletePossible() {\n        if (!qq.DeleteFileAjaxRequester || !this._options.deleteFile.enabled) {\n          return false;\n        }\n        if (this._options.cors.expected) {\n          if (qq.supportedFeatures.deleteFileCorsXhr) {\n            return true;\n          }\n          if (qq.supportedFeatures.deleteFileCorsXdr && this._options.cors.allowXdr) {\n            return true;\n          }\n          return false;\n        }\n        return true;\n      },\n      _isAllowedExtension: function _isAllowedExtension(allowed, fileName) {\n        var valid = false;\n        if (!allowed.length) {\n          return true;\n        }\n        qq.each(allowed, function (idx, allowedExt) {\n          if (qq.isString(allowedExt)) {\n            var extRegex = new RegExp(\"\\\\.\" + allowedExt + \"$\", \"i\");\n            if (fileName.match(extRegex) != null) {\n              valid = true;\n              return false;\n            }\n          }\n        });\n        return valid;\n      },\n      _itemError: function _itemError(code, maybeNameOrNames, item) {\n        var message = this._options.messages[code],\n          allowedExtensions = [],\n          names = [].concat(maybeNameOrNames),\n          name = names[0],\n          buttonId = this._getButtonId(item),\n          validationBase = this._getValidationBase(buttonId),\n          extensionsForMessage,\n          placeholderMatch;\n        function r(name, replacement) {\n          message = message.replace(name, replacement);\n        }\n        qq.each(validationBase.allowedExtensions, function (idx, allowedExtension) {\n          if (qq.isString(allowedExtension)) {\n            allowedExtensions.push(allowedExtension);\n          }\n        });\n        extensionsForMessage = allowedExtensions.join(\", \").toLowerCase();\n        r(\"{file}\", this._options.formatFileName(name));\n        r(\"{extensions}\", extensionsForMessage);\n        r(\"{sizeLimit}\", this._formatSize(validationBase.sizeLimit));\n        r(\"{minSizeLimit}\", this._formatSize(validationBase.minSizeLimit));\n        placeholderMatch = message.match(/(\\{\\w+\\})/g);\n        if (placeholderMatch !== null) {\n          qq.each(placeholderMatch, function (idx, placeholder) {\n            r(placeholder, names[idx]);\n          });\n        }\n        this._options.callbacks.onError(null, name, message, undefined);\n        return message;\n      },\n      _manualRetry: function _manualRetry(id, callback) {\n        if (this._onBeforeManualRetry(id)) {\n          this._netUploadedOrQueued++;\n          this._uploadData.setStatus(id, qq.status.UPLOAD_RETRYING);\n          if (callback) {\n            callback(id);\n          } else {\n            this._handler.retry(id);\n          }\n          return true;\n        }\n      },\n      _maybeAllComplete: function _maybeAllComplete(id, status) {\n        var self = this,\n          notFinished = this._getNotFinished();\n        if (status === qq.status.UPLOAD_SUCCESSFUL) {\n          this._succeededSinceLastAllComplete.push(id);\n        } else if (status === qq.status.UPLOAD_FAILED) {\n          this._failedSinceLastAllComplete.push(id);\n        }\n        if (notFinished === 0 && (this._succeededSinceLastAllComplete.length || this._failedSinceLastAllComplete.length)) {\n          setTimeout(function () {\n            self._onAllComplete(self._succeededSinceLastAllComplete, self._failedSinceLastAllComplete);\n          }, 0);\n        }\n      },\n      _maybeHandleIos8SafariWorkaround: function _maybeHandleIos8SafariWorkaround() {\n        var self = this;\n        if (this._options.workarounds.ios8SafariUploads && qq.ios800() && qq.iosSafari()) {\n          setTimeout(function () {\n            window.alert(self._options.messages.unsupportedBrowserIos8Safari);\n          }, 0);\n          throw new qq.Error(this._options.messages.unsupportedBrowserIos8Safari);\n        }\n      },\n      _maybeParseAndSendUploadError: function _maybeParseAndSendUploadError(id, name, response, xhr) {\n        if (!response.success) {\n          if (xhr && xhr.status !== 200 && !response.error) {\n            this._options.callbacks.onError(id, name, \"XHR returned response code \" + xhr.status, xhr);\n          } else {\n            var errorReason = response.error ? response.error : this._options.text.defaultResponseError;\n            this._options.callbacks.onError(id, name, errorReason, xhr);\n          }\n        }\n      },\n      _maybeProcessNextItemAfterOnValidateCallback: function _maybeProcessNextItemAfterOnValidateCallback(validItem, items, index, params, endpoint) {\n        var self = this;\n        if (items.length > index) {\n          if (validItem || !this._options.validation.stopOnFirstInvalidFile) {\n            setTimeout(function () {\n              var validationDescriptor = self._getValidationDescriptor(items[index]),\n                buttonId = self._getButtonId(items[index].file),\n                button = self._getButton(buttonId);\n              self._handleCheckedCallback({\n                name: \"onValidate\",\n                callback: qq.bind(self._options.callbacks.onValidate, self, validationDescriptor, button),\n                onSuccess: qq.bind(self._onValidateCallbackSuccess, self, items, index, params, endpoint),\n                onFailure: qq.bind(self._onValidateCallbackFailure, self, items, index, params, endpoint),\n                identifier: \"Item '\" + validationDescriptor.name + \"', size: \" + validationDescriptor.size\n              });\n            }, 0);\n          } else if (!validItem) {\n            for (; index < items.length; index++) {\n              self._fileOrBlobRejected(items[index].id);\n            }\n          }\n        }\n      },\n      _onAllComplete: function _onAllComplete(successful, failed) {\n        this._totalProgress && this._totalProgress.onAllComplete(successful, failed, this._preventRetries);\n        this._options.callbacks.onAllComplete(qq.extend([], successful), qq.extend([], failed));\n        this._succeededSinceLastAllComplete = [];\n        this._failedSinceLastAllComplete = [];\n      },\n      _onAutoRetry: function _onAutoRetry(id, name, responseJSON, xhr, callback) {\n        var self = this;\n        self._preventRetries[id] = responseJSON[self._options.retry.preventRetryResponseProperty];\n        if (self._shouldAutoRetry(id)) {\n          var retryWaitPeriod = self._options.retry.autoAttemptDelay * 1e3;\n          self._maybeParseAndSendUploadError.apply(self, arguments);\n          self._options.callbacks.onAutoRetry(id, name, self._autoRetries[id]);\n          self._onBeforeAutoRetry(id, name);\n          self._uploadData.setStatus(id, qq.status.UPLOAD_RETRYING);\n          self._retryTimeouts[id] = setTimeout(function () {\n            self.log(\"Starting retry for \" + name + \"...\");\n            if (callback) {\n              callback(id);\n            } else {\n              self._handler.retry(id);\n            }\n          }, retryWaitPeriod);\n          return true;\n        }\n      },\n      _onBeforeAutoRetry: function _onBeforeAutoRetry(id, name) {\n        this.log(\"Waiting \" + this._options.retry.autoAttemptDelay + \" seconds before retrying \" + name + \"...\");\n      },\n      _onBeforeManualRetry: function _onBeforeManualRetry(id) {\n        var itemLimit = this._currentItemLimit,\n          fileName;\n        if (this._preventRetries[id]) {\n          this.log(\"Retries are forbidden for id \" + id, \"warn\");\n          return false;\n        } else if (this._handler.isValid(id)) {\n          fileName = this.getName(id);\n          if (this._options.callbacks.onManualRetry(id, fileName) === false) {\n            return false;\n          }\n          if (itemLimit > 0 && this._netUploadedOrQueued + 1 > itemLimit) {\n            this._itemError(\"retryFailTooManyItems\");\n            return false;\n          }\n          this.log(\"Retrying upload for '\" + fileName + \"' (id: \" + id + \")...\");\n          return true;\n        } else {\n          this.log(\"'\" + id + \"' is not a valid file ID\", \"error\");\n          return false;\n        }\n      },\n      _onCancel: function _onCancel(id, name) {\n        this._netUploadedOrQueued--;\n        clearTimeout(this._retryTimeouts[id]);\n        var storedItemIndex = qq.indexOf(this._storedIds, id);\n        if (!this._options.autoUpload && storedItemIndex >= 0) {\n          this._storedIds.splice(storedItemIndex, 1);\n        }\n        this._uploadData.setStatus(id, qq.status.CANCELED);\n      },\n      _onComplete: function _onComplete(id, name, result, xhr) {\n        if (!result.success) {\n          this._netUploadedOrQueued--;\n          this._uploadData.setStatus(id, qq.status.UPLOAD_FAILED);\n          if (result[this._options.retry.preventRetryResponseProperty] === true) {\n            this._preventRetries[id] = true;\n          }\n        } else {\n          if (result.thumbnailUrl) {\n            this._thumbnailUrls[id] = result.thumbnailUrl;\n          }\n          this._netUploaded++;\n          this._uploadData.setStatus(id, qq.status.UPLOAD_SUCCESSFUL);\n        }\n        this._maybeParseAndSendUploadError(id, name, result, xhr);\n        return result.success ? true : false;\n      },\n      _onDelete: function _onDelete(id) {\n        this._uploadData.setStatus(id, qq.status.DELETING);\n      },\n      _onDeleteComplete: function _onDeleteComplete(id, xhrOrXdr, isError) {\n        var name = this.getName(id);\n        if (isError) {\n          this._handleDeleteFailed(id, xhrOrXdr);\n        } else {\n          this._handleDeleteSuccess(id);\n        }\n      },\n      _onInputChange: function _onInputChange(input) {\n        var fileIndex;\n        if (qq.supportedFeatures.ajaxUploading) {\n          for (fileIndex = 0; fileIndex < input.files.length; fileIndex++) {\n            this._annotateWithButtonId(input.files[fileIndex], input);\n          }\n          this.addFiles(input.files);\n        } else if (input.value.length > 0) {\n          this.addFiles(input);\n        }\n        qq.each(this._buttons, function (idx, button) {\n          button.reset();\n        });\n      },\n      _onProgress: function _onProgress(id, name, loaded, total) {\n        this._totalProgress && this._totalProgress.onIndividualProgress(id, loaded, total);\n      },\n      _onSubmit: function _onSubmit(id, name) {},\n      _onSubmitCallbackSuccess: function _onSubmitCallbackSuccess(id, name) {\n        this._onSubmit.apply(this, arguments);\n        this._uploadData.setStatus(id, qq.status.SUBMITTED);\n        this._onSubmitted.apply(this, arguments);\n        if (this._options.autoUpload) {\n          this._options.callbacks.onSubmitted.apply(this, arguments);\n          this._uploadFile(id);\n        } else {\n          this._storeForLater(id);\n          this._options.callbacks.onSubmitted.apply(this, arguments);\n        }\n      },\n      _onSubmitDelete: function _onSubmitDelete(id, onSuccessCallback, additionalMandatedParams) {\n        var uuid = this.getUuid(id),\n          adjustedOnSuccessCallback;\n        if (onSuccessCallback) {\n          adjustedOnSuccessCallback = qq.bind(onSuccessCallback, this, id, uuid, additionalMandatedParams);\n        }\n        if (this._isDeletePossible()) {\n          this._handleCheckedCallback({\n            name: \"onSubmitDelete\",\n            callback: qq.bind(this._options.callbacks.onSubmitDelete, this, id),\n            onSuccess: adjustedOnSuccessCallback || qq.bind(this._deleteHandler.sendDelete, this, id, uuid, additionalMandatedParams),\n            identifier: id\n          });\n          return true;\n        } else {\n          this.log(\"Delete request ignored for ID \" + id + \", delete feature is disabled or request not possible \" + \"due to CORS on a user agent that does not support pre-flighting.\", \"warn\");\n          return false;\n        }\n      },\n      _onSubmitted: function _onSubmitted(id) {},\n      _onTotalProgress: function _onTotalProgress(loaded, total) {\n        this._options.callbacks.onTotalProgress(loaded, total);\n      },\n      _onUploadPrep: function _onUploadPrep(id) {},\n      _onUpload: function _onUpload(id, name) {\n        this._uploadData.setStatus(id, qq.status.UPLOADING);\n      },\n      _onUploadChunk: function _onUploadChunk(id, chunkData) {},\n      _onUploadChunkSuccess: function _onUploadChunkSuccess(id, chunkData) {\n        if (!this._preventRetries[id] && this._options.retry.enableAuto) {\n          this._autoRetries[id] = 0;\n        }\n      },\n      _onUploadStatusChange: function _onUploadStatusChange(id, oldStatus, newStatus) {\n        if (newStatus === qq.status.PAUSED) {\n          clearTimeout(this._retryTimeouts[id]);\n        }\n      },\n      _onValidateBatchCallbackFailure: function _onValidateBatchCallbackFailure(fileWrappers) {\n        var self = this;\n        qq.each(fileWrappers, function (idx, fileWrapper) {\n          self._fileOrBlobRejected(fileWrapper.id);\n        });\n      },\n      _onValidateBatchCallbackSuccess: function _onValidateBatchCallbackSuccess(validationDescriptors, items, params, endpoint, button) {\n        var errorMessage,\n          itemLimit = this._currentItemLimit,\n          proposedNetFilesUploadedOrQueued = this._netUploadedOrQueued;\n        if (itemLimit === 0 || proposedNetFilesUploadedOrQueued <= itemLimit) {\n          if (items.length > 0) {\n            this._handleCheckedCallback({\n              name: \"onValidate\",\n              callback: qq.bind(this._options.callbacks.onValidate, this, validationDescriptors[0], button),\n              onSuccess: qq.bind(this._onValidateCallbackSuccess, this, items, 0, params, endpoint),\n              onFailure: qq.bind(this._onValidateCallbackFailure, this, items, 0, params, endpoint),\n              identifier: \"Item '\" + items[0].file.name + \"', size: \" + items[0].file.size\n            });\n          } else {\n            this._itemError(\"noFilesError\");\n          }\n        } else {\n          this._onValidateBatchCallbackFailure(items);\n          errorMessage = this._options.messages.tooManyItemsError.replace(/\\{netItems\\}/g, proposedNetFilesUploadedOrQueued).replace(/\\{itemLimit\\}/g, itemLimit);\n          this._batchError(errorMessage);\n        }\n      },\n      _onValidateCallbackFailure: function _onValidateCallbackFailure(items, index, params, endpoint) {\n        var nextIndex = index + 1;\n        this._fileOrBlobRejected(items[index].id, items[index].file.name);\n        this._maybeProcessNextItemAfterOnValidateCallback(false, items, nextIndex, params, endpoint);\n      },\n      _onValidateCallbackSuccess: function _onValidateCallbackSuccess(items, index, params, endpoint) {\n        var self = this,\n          nextIndex = index + 1,\n          validationDescriptor = this._getValidationDescriptor(items[index]);\n        this._validateFileOrBlobData(items[index], validationDescriptor).then(function () {\n          self._upload(items[index].id, params, endpoint);\n          self._maybeProcessNextItemAfterOnValidateCallback(true, items, nextIndex, params, endpoint);\n        }, function () {\n          self._maybeProcessNextItemAfterOnValidateCallback(false, items, nextIndex, params, endpoint);\n        });\n      },\n      _prepareItemsForUpload: function _prepareItemsForUpload(items, params, endpoint) {\n        if (items.length === 0) {\n          this._itemError(\"noFilesError\");\n          return;\n        }\n        var validationDescriptors = this._getValidationDescriptors(items),\n          buttonId = this._getButtonId(items[0].file),\n          button = this._getButton(buttonId);\n        this._handleCheckedCallback({\n          name: \"onValidateBatch\",\n          callback: qq.bind(this._options.callbacks.onValidateBatch, this, validationDescriptors, button),\n          onSuccess: qq.bind(this._onValidateBatchCallbackSuccess, this, validationDescriptors, items, params, endpoint, button),\n          onFailure: qq.bind(this._onValidateBatchCallbackFailure, this, items),\n          identifier: \"batch validation\"\n        });\n      },\n      _preventLeaveInProgress: function _preventLeaveInProgress() {\n        var self = this;\n        this._disposeSupport.attach(window, \"beforeunload\", function (e) {\n          if (self.getInProgress()) {\n            e = e || window.event;\n            e.returnValue = self._options.messages.onLeave;\n            return self._options.messages.onLeave;\n          }\n        });\n      },\n      _refreshSessionData: function _refreshSessionData() {\n        var self = this,\n          options = this._options.session;\n        if (qq.Session && this._options.session.endpoint != null) {\n          if (!this._session) {\n            qq.extend(options, {\n              cors: this._options.cors\n            });\n            options.log = qq.bind(this.log, this);\n            options.addFileRecord = qq.bind(this._addCannedFile, this);\n            this._session = new qq.Session(options);\n          }\n          setTimeout(function () {\n            self._session.refresh().then(function (response, xhrOrXdr) {\n              self._sessionRequestComplete();\n              self._options.callbacks.onSessionRequestComplete(response, true, xhrOrXdr);\n            }, function (response, xhrOrXdr) {\n              self._options.callbacks.onSessionRequestComplete(response, false, xhrOrXdr);\n            });\n          }, 0);\n        }\n      },\n      _sessionRequestComplete: function _sessionRequestComplete() {},\n      _setSize: function _setSize(id, newSize) {\n        this._uploadData.updateSize(id, newSize);\n        this._totalProgress && this._totalProgress.onNewSize(id);\n      },\n      _shouldAutoRetry: function _shouldAutoRetry(id) {\n        var uploadData = this._uploadData.retrieve({\n          id: id\n        });\n        if (!this._preventRetries[id] && this._options.retry.enableAuto && uploadData.status !== qq.status.PAUSED) {\n          if (this._autoRetries[id] === undefined) {\n            this._autoRetries[id] = 0;\n          }\n          if (this._autoRetries[id] < this._options.retry.maxAutoAttempts) {\n            this._autoRetries[id] += 1;\n            return true;\n          }\n        }\n        return false;\n      },\n      _storeForLater: function _storeForLater(id) {\n        this._storedIds.push(id);\n      },\n      _trackButton: function _trackButton(id) {\n        var buttonId;\n        if (qq.supportedFeatures.ajaxUploading) {\n          buttonId = this._handler.getFile(id).qqButtonId;\n        } else {\n          buttonId = this._getButtonId(this._handler.getInput(id));\n        }\n        if (buttonId) {\n          this._buttonIdsForFileIds[id] = buttonId;\n        }\n      },\n      _updateFormSupportAndParams: function _updateFormSupportAndParams(formElementOrId) {\n        this._options.form.element = formElementOrId;\n        this._formSupport = qq.FormSupport && new qq.FormSupport(this._options.form, qq.bind(this.uploadStoredFiles, this), qq.bind(this.log, this));\n        if (this._formSupport && this._formSupport.attachedToForm) {\n          this._paramsStore.addReadOnly(null, this._formSupport.getFormInputsAsObject);\n          this._options.autoUpload = this._formSupport.newAutoUpload;\n          if (this._formSupport.newEndpoint) {\n            this.setEndpoint(this._formSupport.newEndpoint);\n          }\n        }\n      },\n      _upload: function _upload(id, params, endpoint) {\n        var name = this.getName(id);\n        if (params) {\n          this.setParams(params, id);\n        }\n        if (endpoint) {\n          this.setEndpoint(endpoint, id);\n        }\n        this._handleCheckedCallback({\n          name: \"onSubmit\",\n          callback: qq.bind(this._options.callbacks.onSubmit, this, id, name),\n          onSuccess: qq.bind(this._onSubmitCallbackSuccess, this, id, name),\n          onFailure: qq.bind(this._fileOrBlobRejected, this, id, name),\n          identifier: id\n        });\n      },\n      _uploadFile: function _uploadFile(id) {\n        if (!this._handler.upload(id)) {\n          this._uploadData.setStatus(id, qq.status.QUEUED);\n        }\n      },\n      _uploadStoredFiles: function _uploadStoredFiles() {\n        var idToUpload,\n          stillSubmitting,\n          self = this;\n        while (this._storedIds.length) {\n          idToUpload = this._storedIds.shift();\n          this._uploadFile(idToUpload);\n        }\n        stillSubmitting = this.getUploads({\n          status: qq.status.SUBMITTING\n        }).length;\n        if (stillSubmitting) {\n          qq.log(\"Still waiting for \" + stillSubmitting + \" files to clear submit queue. Will re-parse stored IDs array shortly.\");\n          setTimeout(function () {\n            self._uploadStoredFiles();\n          }, 1e3);\n        }\n      },\n      _validateFileOrBlobData: function _validateFileOrBlobData(fileWrapper, validationDescriptor) {\n        var self = this,\n          file = function () {\n            if (fileWrapper.file instanceof qq.BlobProxy) {\n              return fileWrapper.file.referenceBlob;\n            }\n            return fileWrapper.file;\n          }(),\n          name = validationDescriptor.name,\n          size = validationDescriptor.size,\n          buttonId = this._getButtonId(fileWrapper.file),\n          validationBase = this._getValidationBase(buttonId),\n          validityChecker = new qq.Promise();\n        validityChecker.then(function () {}, function () {\n          self._fileOrBlobRejected(fileWrapper.id, name);\n        });\n        if (qq.isFileOrInput(file) && !this._isAllowedExtension(validationBase.allowedExtensions, name)) {\n          this._itemError(\"typeError\", name, file);\n          return validityChecker.failure();\n        }\n        if (!this._options.validation.allowEmpty && size === 0) {\n          this._itemError(\"emptyError\", name, file);\n          return validityChecker.failure();\n        }\n        if (size > 0 && validationBase.sizeLimit && size > validationBase.sizeLimit) {\n          this._itemError(\"sizeError\", name, file);\n          return validityChecker.failure();\n        }\n        if (size > 0 && size < validationBase.minSizeLimit) {\n          this._itemError(\"minSizeError\", name, file);\n          return validityChecker.failure();\n        }\n        if (qq.ImageValidation && qq.supportedFeatures.imagePreviews && qq.isFile(file)) {\n          new qq.ImageValidation(file, qq.bind(self.log, self)).validate(validationBase.image).then(validityChecker.success, function (errorCode) {\n            self._itemError(errorCode + \"ImageError\", name, file);\n            validityChecker.failure();\n          });\n        } else {\n          validityChecker.success();\n        }\n        return validityChecker;\n      },\n      _wrapCallbacks: function _wrapCallbacks() {\n        var self, safeCallback, prop;\n        self = this;\n        safeCallback = function safeCallback(name, callback, args) {\n          var errorMsg;\n          try {\n            return callback.apply(self, args);\n          } catch (exception) {\n            errorMsg = exception.message || exception.toString();\n            self.log(\"Caught exception in '\" + name + \"' callback - \" + errorMsg, \"error\");\n          }\n        };\n        for (prop in this._options.callbacks) {\n          (function () {\n            var callbackName, callbackFunc;\n            callbackName = prop;\n            callbackFunc = self._options.callbacks[callbackName];\n            self._options.callbacks[callbackName] = function () {\n              return safeCallback(callbackName, callbackFunc, arguments);\n            };\n          })();\n        }\n      }\n    };\n  })();\n  (function () {\n    \"use strict\";\n\n    qq.FileUploaderBasic = function (o) {\n      var self = this;\n      this._options = {\n        debug: false,\n        button: null,\n        multiple: true,\n        maxConnections: 3,\n        disableCancelForFormUploads: false,\n        autoUpload: true,\n        warnBeforeUnload: true,\n        request: {\n          customHeaders: {},\n          endpoint: \"/server/upload\",\n          filenameParam: \"qqfilename\",\n          forceMultipart: true,\n          dest: '/',\n          inputName: \"hdfs_file\",\n          method: \"POST\",\n          omitDefaultParams: false,\n          params: {},\n          paramsInBody: true,\n          requireSuccessJson: true,\n          totalFileSizeName: \"qqtotalfilesize\",\n          uuidName: \"qquuid\"\n        },\n        validation: {\n          allowedExtensions: [],\n          sizeLimit: 0,\n          minSizeLimit: 0,\n          itemLimit: 0,\n          stopOnFirstInvalidFile: true,\n          acceptFiles: null,\n          image: {\n            maxHeight: 0,\n            maxWidth: 0,\n            minHeight: 0,\n            minWidth: 0\n          },\n          allowEmpty: false\n        },\n        callbacks: {\n          onSubmit: function onSubmit(id, name) {},\n          onSubmitted: function onSubmitted(id, name) {},\n          onComplete: function onComplete(id, name, responseJSON, maybeXhr) {},\n          onAllComplete: function onAllComplete(successful, failed) {},\n          onCancel: function onCancel(id, name) {},\n          onUpload: function onUpload(id, name) {},\n          onUploadChunk: function onUploadChunk(id, name, chunkData) {},\n          onUploadChunkSuccess: function onUploadChunkSuccess(id, chunkData, responseJSON, xhr) {},\n          onResume: function onResume(id, fileName, chunkData, customResumeData) {},\n          onProgress: function onProgress(id, name, loaded, total) {},\n          onTotalProgress: function onTotalProgress(loaded, total) {},\n          onError: function onError(id, name, reason, maybeXhrOrXdr) {},\n          onAutoRetry: function onAutoRetry(id, name, attemptNumber) {},\n          onManualRetry: function onManualRetry(id, name) {},\n          onValidateBatch: function onValidateBatch(fileOrBlobData) {},\n          onValidate: function onValidate(fileOrBlobData) {},\n          onSubmitDelete: function onSubmitDelete(id) {},\n          onDelete: function onDelete(id) {},\n          onDeleteComplete: function onDeleteComplete(id, xhrOrXdr, isError) {},\n          onPasteReceived: function onPasteReceived(blob) {},\n          onStatusChange: function onStatusChange(id, oldStatus, newStatus) {},\n          onSessionRequestComplete: function onSessionRequestComplete(response, success, xhrOrXdr) {}\n        },\n        messages: {\n          typeError: \"{file} has an invalid extension. Valid extension(s): {extensions}.\",\n          sizeError: \"{file} is too large, maximum file size is {sizeLimit}.\",\n          minSizeError: \"{file} is too small, minimum file size is {minSizeLimit}.\",\n          emptyError: \"{file} is empty, please select files again without it.\",\n          noFilesError: \"No files to upload.\",\n          tooManyItemsError: \"Too many items ({netItems}) would be uploaded.  Item limit is {itemLimit}.\",\n          maxHeightImageError: \"Image is too tall.\",\n          maxWidthImageError: \"Image is too wide.\",\n          minHeightImageError: \"Image is not tall enough.\",\n          minWidthImageError: \"Image is not wide enough.\",\n          retryFailTooManyItems: \"Retry failed - you have reached your file limit.\",\n          onLeave: \"The files are being uploaded, if you leave now the upload will be canceled.\",\n          unsupportedBrowserIos8Safari: \"Unrecoverable error - this browser does not permit file uploading of any kind due to serious bugs in iOS8 Safari.  Please use iOS8 Chrome until Apple fixes these issues.\"\n        },\n        retry: {\n          enableAuto: false,\n          maxAutoAttempts: 3,\n          autoAttemptDelay: 5,\n          preventRetryResponseProperty: \"preventRetry\"\n        },\n        classes: {\n          buttonHover: \"qq-upload-button-hover\",\n          buttonFocus: \"qq-upload-button-focus\"\n        },\n        chunking: {\n          enabled: true,\n          concurrent: {\n            enabled: false\n          },\n          mandatory: false,\n          paramNames: {\n            partIndex: \"qqpartindex\",\n            partByteOffset: \"qqpartbyteoffset\",\n            chunkSize: \"qqchunksize\",\n            totalFileSize: \"qqtotalfilesize\",\n            totalParts: \"qqtotalparts\"\n          },\n          partSize: function partSize(id) {\n            return 2e6;\n          },\n          success: {\n            endpoint: null,\n            headers: function headers(id) {\n              return null;\n            },\n            jsonPayload: false,\n            method: \"POST\",\n            params: function params(id) {\n              return null;\n            },\n            resetOnStatus: []\n          }\n        },\n        resume: {\n          enabled: false,\n          recordsExpireIn: 7,\n          paramNames: {\n            resuming: \"qqresume\"\n          },\n          customKeys: function customKeys(fileId) {\n            return [];\n          }\n        },\n        formatFileName: function formatFileName(fileOrBlobName) {\n          return fileOrBlobName;\n        },\n        text: {\n          defaultResponseError: \"Upload failure reason unknown\",\n          fileInputTitle: \"file input\",\n          sizeSymbols: [\"kB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\"]\n        },\n        deleteFile: {\n          enabled: false,\n          method: \"DELETE\",\n          endpoint: \"/server/upload\",\n          customHeaders: {},\n          params: {}\n        },\n        cors: {\n          expected: false,\n          sendCredentials: false,\n          allowXdr: false\n        },\n        blobs: {\n          defaultName: \"misc_data\"\n        },\n        paste: {\n          targetElement: null,\n          defaultName: \"pasted_image\"\n        },\n        camera: {\n          ios: false,\n          button: null\n        },\n        extraButtons: [],\n        session: {\n          endpoint: null,\n          params: {},\n          customHeaders: {},\n          refreshOnReset: true\n        },\n        form: {\n          element: \"qq-form\",\n          autoUpload: false,\n          interceptSubmit: true\n        },\n        scaling: {\n          customResizer: null,\n          sendOriginal: true,\n          orient: true,\n          defaultType: null,\n          defaultQuality: 80,\n          failureText: \"Failed to scale\",\n          includeExif: false,\n          sizes: []\n        },\n        workarounds: {\n          iosEmptyVideos: true,\n          ios8SafariUploads: true,\n          ios8BrowserCrash: false\n        }\n      };\n      qq.extend(this._options, o, true);\n      this._buttons = [];\n      this._extraButtonSpecs = {};\n      this._buttonIdsForFileIds = [];\n      this._wrapCallbacks();\n      this._disposeSupport = new qq.DisposeSupport();\n      this._storedIds = [];\n      this._autoRetries = [];\n      this._retryTimeouts = [];\n      this._preventRetries = [];\n      this._thumbnailUrls = [];\n      this._netUploadedOrQueued = 0;\n      this._netUploaded = 0;\n      this._uploadData = this._createUploadDataTracker();\n      this._initFormSupportAndParams();\n      this._customHeadersStore = this._createStore(this._options.request.customHeaders);\n      this._deleteFileCustomHeadersStore = this._createStore(this._options.deleteFile.customHeaders);\n      this._deleteFileParamsStore = this._createStore(this._options.deleteFile.params);\n      this._endpointStore = this._createStore(this._options.request.endpoint);\n      this._deleteFileEndpointStore = this._createStore(this._options.deleteFile.endpoint);\n      this._handler = this._createUploadHandler();\n      this._deleteHandler = qq.DeleteFileAjaxRequester && this._createDeleteHandler();\n      if (this._options.button) {\n        this._defaultButtonId = this._createUploadButton({\n          element: this._options.button,\n          title: this._options.text.fileInputTitle\n        }).getButtonId();\n      }\n      this._generateExtraButtonSpecs();\n      this._handleCameraAccess();\n      if (this._options.paste.targetElement) {\n        if (qq.PasteSupport) {\n          this._pasteHandler = this._createPasteHandler();\n        } else {\n          this.log(\"Paste support module not found\", \"error\");\n        }\n      }\n      this._options.warnBeforeUnload && this._preventLeaveInProgress();\n      this._imageGenerator = qq.ImageGenerator && new qq.ImageGenerator(qq.bind(this.log, this));\n      this._refreshSessionData();\n      this._succeededSinceLastAllComplete = [];\n      this._failedSinceLastAllComplete = [];\n      this._scaler = qq.Scaler && new qq.Scaler(this._options.scaling, qq.bind(this.log, this)) || {};\n      if (this._scaler.enabled) {\n        this._customNewFileHandler = qq.bind(this._scaler.handleNewFile, this._scaler);\n      }\n      if (qq.TotalProgress && qq.supportedFeatures.progressBar) {\n        this._totalProgress = new qq.TotalProgress(qq.bind(this._onTotalProgress, this), function (id) {\n          var entry = self._uploadData.retrieve({\n            id: id\n          });\n          return entry && entry.size || 0;\n        });\n      }\n      this._currentItemLimit = this._options.validation.itemLimit;\n      this._customResumeDataStore = this._createStore();\n    };\n    qq.FileUploaderBasic.prototype = qq.basePublicApi;\n    qq.extend(qq.FileUploaderBasic.prototype, qq.basePrivateApi);\n  })();\n  qq.AjaxRequester = function (o) {\n    \"use strict\";\n\n    var log,\n      shouldParamsBeInQueryString,\n      queue = [],\n      requestData = {},\n      options = {\n        acceptHeader: null,\n        validMethods: [\"PATCH\", \"POST\", \"PUT\"],\n        method: \"POST\",\n        contentType: \"application/x-www-form-urlencoded\",\n        maxConnections: 3,\n        customHeaders: {},\n        endpointStore: {},\n        paramsStore: {},\n        mandatedParams: {},\n        allowXRequestedWithAndCacheControl: true,\n        successfulResponseCodes: {\n          DELETE: [200, 202, 204],\n          PATCH: [200, 201, 202, 203, 204],\n          POST: [200, 201, 202, 203, 204],\n          PUT: [200, 201, 202, 203, 204],\n          GET: [200]\n        },\n        cors: {\n          expected: false,\n          sendCredentials: false\n        },\n        log: function log(str, level) {},\n        onSend: function onSend(id) {},\n        onComplete: function onComplete(id, xhrOrXdr, isError) {},\n        onProgress: null\n      };\n    qq.extend(options, o);\n    log = options.log;\n    if (qq.indexOf(options.validMethods, options.method) < 0) {\n      throw new Error(\"'\" + options.method + \"' is not a supported method for this type of request!\");\n    }\n    function isSimpleMethod() {\n      return qq.indexOf([\"GET\", \"POST\", \"HEAD\"], options.method) >= 0;\n    }\n    function containsNonSimpleHeaders(headers) {\n      var containsNonSimple = false;\n      qq.each(containsNonSimple, function (idx, header) {\n        if (qq.indexOf([\"Accept\", \"Accept-Language\", \"Content-Language\", \"Content-Type\"], header) < 0) {\n          containsNonSimple = true;\n          return false;\n        }\n      });\n      return containsNonSimple;\n    }\n    function isXdr(xhr) {\n      return options.cors.expected && xhr.withCredentials === undefined;\n    }\n    function getCorsAjaxTransport() {\n      var xhrOrXdr;\n      if (window.XMLHttpRequest || window.ActiveXObject) {\n        xhrOrXdr = qq.createXhrInstance();\n        if (xhrOrXdr.withCredentials === undefined) {\n          xhrOrXdr = new XDomainRequest();\n          xhrOrXdr.onload = function () {};\n          xhrOrXdr.onerror = function () {};\n          xhrOrXdr.ontimeout = function () {};\n          xhrOrXdr.onprogress = function () {};\n        }\n      }\n      return xhrOrXdr;\n    }\n    function getXhrOrXdr(id, suppliedXhr) {\n      var xhrOrXdr = requestData[id] && requestData[id].xhr;\n      if (!xhrOrXdr) {\n        if (suppliedXhr) {\n          xhrOrXdr = suppliedXhr;\n        } else {\n          if (options.cors.expected) {\n            xhrOrXdr = getCorsAjaxTransport();\n          } else {\n            xhrOrXdr = qq.createXhrInstance();\n          }\n        }\n        requestData[id].xhr = xhrOrXdr;\n      }\n      return xhrOrXdr;\n    }\n    function dequeue(id) {\n      var i = qq.indexOf(queue, id),\n        max = options.maxConnections,\n        nextId;\n      delete requestData[id];\n      queue.splice(i, 1);\n      if (queue.length >= max && i < max) {\n        nextId = queue[max - 1];\n        sendRequest(nextId);\n      }\n    }\n    function onComplete(id, xdrError) {\n      var xhr = getXhrOrXdr(id),\n        method = options.method,\n        isError = xdrError === true;\n      dequeue(id);\n      if (isError) {\n        log(method + \" request for \" + id + \" has failed\", \"error\");\n      } else if (!isXdr(xhr) && !isResponseSuccessful(xhr.status)) {\n        isError = true;\n        log(method + \" request for \" + id + \" has failed - response code \" + xhr.status, \"error\");\n      }\n      options.onComplete(id, xhr, isError);\n    }\n    function getParams(id) {\n      var onDemandParams = requestData[id].additionalParams,\n        mandatedParams = options.mandatedParams,\n        params;\n      if (options.paramsStore.get) {\n        params = options.paramsStore.get(id);\n      }\n      if (onDemandParams) {\n        qq.each(onDemandParams, function (name, val) {\n          params = params || {};\n          params[name] = val;\n        });\n      }\n      if (mandatedParams) {\n        qq.each(mandatedParams, function (name, val) {\n          params = params || {};\n          params[name] = val;\n        });\n      }\n      return params;\n    }\n    function sendRequest(id, optXhr) {\n      var xhr = getXhrOrXdr(id, optXhr),\n        method = options.method,\n        params = getParams(id),\n        payload = requestData[id].payload,\n        url;\n      options.onSend(id);\n      url = createUrl(id, params, requestData[id].additionalQueryParams);\n      if (isXdr(xhr)) {\n        xhr.onload = getXdrLoadHandler(id);\n        xhr.onerror = getXdrErrorHandler(id);\n      } else {\n        xhr.onreadystatechange = getXhrReadyStateChangeHandler(id);\n      }\n      registerForUploadProgress(id);\n      xhr.open(method, url, true);\n      if (options.cors.expected && options.cors.sendCredentials && !isXdr(xhr)) {\n        xhr.withCredentials = true;\n      }\n      setHeaders(id);\n      log(\"Sending \" + method + \" request for \" + id);\n      if (payload) {\n        xhr.send(payload);\n      } else if (shouldParamsBeInQueryString || !params) {\n        xhr.send();\n      } else if (params && options.contentType && options.contentType.toLowerCase().indexOf(\"application/x-www-form-urlencoded\") >= 0) {\n        xhr.send(qq.obj2url(params, \"\"));\n      } else if (params && options.contentType && options.contentType.toLowerCase().indexOf(\"application/json\") >= 0) {\n        xhr.send(JSON.stringify(params));\n      } else {\n        xhr.send(params);\n      }\n      return xhr;\n    }\n    function createUrl(id, params, additionalQueryParams) {\n      var endpoint = options.endpointStore.get(id),\n        addToPath = requestData[id].addToPath;\n      if (addToPath != undefined) {\n        endpoint += \"/\" + addToPath;\n      }\n      if (shouldParamsBeInQueryString && params) {\n        endpoint = qq.obj2url(params, endpoint);\n      }\n      if (additionalQueryParams) {\n        endpoint = qq.obj2url(additionalQueryParams, endpoint);\n      }\n      return endpoint;\n    }\n    function getXhrReadyStateChangeHandler(id) {\n      return function () {\n        if (getXhrOrXdr(id).readyState === 4) {\n          onComplete(id);\n        }\n      };\n    }\n    function registerForUploadProgress(id) {\n      var onProgress = options.onProgress;\n      if (onProgress) {\n        getXhrOrXdr(id).upload.onprogress = function (e) {\n          if (e.lengthComputable) {\n            onProgress(id, e.loaded, e.total);\n          }\n        };\n      }\n    }\n    function getXdrLoadHandler(id) {\n      return function () {\n        onComplete(id);\n      };\n    }\n    function getXdrErrorHandler(id) {\n      return function () {\n        onComplete(id, true);\n      };\n    }\n    function setHeaders(id) {\n      var xhr = getXhrOrXdr(id),\n        customHeaders = options.customHeaders,\n        onDemandHeaders = requestData[id].additionalHeaders || {},\n        method = options.method,\n        allHeaders = {};\n      if (!isXdr(xhr)) {\n        options.acceptHeader && xhr.setRequestHeader(\"Accept\", options.acceptHeader);\n        if (options.allowXRequestedWithAndCacheControl) {\n          if (!options.cors.expected || !isSimpleMethod() || containsNonSimpleHeaders(customHeaders)) {\n            xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n            xhr.setRequestHeader(\"Cache-Control\", \"no-cache\");\n          }\n        }\n        if (options.contentType && (method === \"POST\" || method === \"PUT\")) {\n          xhr.setRequestHeader(\"Content-Type\", options.contentType);\n        }\n        qq.extend(allHeaders, qq.isFunction(customHeaders) ? customHeaders(id) : customHeaders);\n        qq.extend(allHeaders, onDemandHeaders);\n        qq.each(allHeaders, function (name, val) {\n          xhr.setRequestHeader(name, val);\n        });\n      }\n    }\n    function isResponseSuccessful(responseCode) {\n      return qq.indexOf(options.successfulResponseCodes[options.method], responseCode) >= 0;\n    }\n    function prepareToSend(id, optXhr, addToPath, additionalParams, additionalQueryParams, additionalHeaders, payload) {\n      requestData[id] = {\n        addToPath: addToPath,\n        additionalParams: additionalParams,\n        additionalQueryParams: additionalQueryParams,\n        additionalHeaders: additionalHeaders,\n        payload: payload\n      };\n      var len = queue.push(id);\n      if (len <= options.maxConnections) {\n        return sendRequest(id, optXhr);\n      }\n    }\n    shouldParamsBeInQueryString = options.method === \"GET\" || options.method === \"DELETE\";\n    qq.extend(this, {\n      initTransport: function initTransport(id) {\n        var path, params, headers, payload, cacheBuster, additionalQueryParams;\n        return {\n          withPath: function withPath(appendToPath) {\n            path = appendToPath;\n            return this;\n          },\n          withParams: function withParams(additionalParams) {\n            params = additionalParams;\n            return this;\n          },\n          withQueryParams: function withQueryParams(_additionalQueryParams_) {\n            additionalQueryParams = _additionalQueryParams_;\n            return this;\n          },\n          withHeaders: function withHeaders(additionalHeaders) {\n            headers = additionalHeaders;\n            return this;\n          },\n          withPayload: function withPayload(thePayload) {\n            payload = thePayload;\n            return this;\n          },\n          withCacheBuster: function withCacheBuster() {\n            cacheBuster = true;\n            return this;\n          },\n          send: function send(optXhr) {\n            if (cacheBuster && qq.indexOf([\"GET\", \"DELETE\"], options.method) >= 0) {\n              params.qqtimestamp = new Date().getTime();\n            }\n            return prepareToSend(id, optXhr, path, params, additionalQueryParams, headers, payload);\n          }\n        };\n      },\n      canceled: function canceled(id) {\n        dequeue(id);\n      }\n    });\n  };\n  qq.UploadHandler = function (spec) {\n    \"use strict\";\n\n    var proxy = spec.proxy,\n      fileState = {},\n      onCancel = proxy.onCancel,\n      getName = proxy.getName;\n    qq.extend(this, {\n      add: function add(id, fileItem) {\n        fileState[id] = fileItem;\n        fileState[id].temp = {};\n      },\n      cancel: function cancel(id) {\n        var self = this,\n          cancelFinalizationEffort = new qq.Promise(),\n          onCancelRetVal = onCancel(id, getName(id), cancelFinalizationEffort);\n        onCancelRetVal.then(function () {\n          if (self.isValid(id)) {\n            fileState[id].canceled = true;\n            self.expunge(id);\n          }\n          cancelFinalizationEffort.success();\n        });\n      },\n      expunge: function expunge(id) {\n        delete fileState[id];\n      },\n      getThirdPartyFileId: function getThirdPartyFileId(id) {\n        return fileState[id].key;\n      },\n      isValid: function isValid(id) {\n        return fileState[id] !== undefined;\n      },\n      reset: function reset() {\n        fileState = {};\n      },\n      _getFileState: function _getFileState(id) {\n        return fileState[id];\n      },\n      _setThirdPartyFileId: function _setThirdPartyFileId(id, thirdPartyFileId) {\n        fileState[id].key = thirdPartyFileId;\n      },\n      _wasCanceled: function _wasCanceled(id) {\n        return !!fileState[id].canceled;\n      }\n    });\n  };\n  qq.UploadHandlerController = function (o, namespace) {\n    \"use strict\";\n\n    var controller = this,\n      chunkingPossible = false,\n      concurrentChunkingPossible = false,\n      chunking,\n      preventRetryResponse,\n      log,\n      handler,\n      options = {\n        paramsStore: {},\n        maxConnections: 3,\n        chunking: {\n          enabled: false,\n          multiple: {\n            enabled: false\n          }\n        },\n        log: function log(str, level) {},\n        onProgress: function onProgress(id, fileName, loaded, total) {},\n        onComplete: function onComplete(id, fileName, response, xhr) {},\n        onCancel: function onCancel(id, fileName) {},\n        onUploadPrep: function onUploadPrep(id) {},\n        onUpload: function onUpload(id, fileName) {},\n        onUploadChunk: function onUploadChunk(id, fileName, chunkData) {},\n        onUploadChunkSuccess: function onUploadChunkSuccess(id, chunkData, response, xhr) {},\n        onAutoRetry: function onAutoRetry(id, fileName, response, xhr) {},\n        onResume: function onResume(id, fileName, chunkData, customResumeData) {},\n        onUuidChanged: function onUuidChanged(id, newUuid) {},\n        getName: function getName(id) {},\n        setSize: function setSize(id, newSize) {},\n        isQueued: function isQueued(id) {},\n        getIdsInProxyGroup: function getIdsInProxyGroup(id) {},\n        getIdsInBatch: function getIdsInBatch(id) {},\n        isInProgress: function isInProgress(id) {}\n      },\n      chunked = {\n        done: function done(id, chunkIdx, response, xhr) {\n          var chunkData = handler._getChunkData(id, chunkIdx);\n          handler._getFileState(id).attemptingResume = false;\n          delete handler._getFileState(id).temp.chunkProgress[chunkIdx];\n          handler._getFileState(id).loaded += chunkData.size;\n          options.onUploadChunkSuccess(id, handler._getChunkDataForCallback(chunkData), response, xhr);\n        },\n        finalize: function finalize(id) {\n          var size = options.getSize(id),\n            name = options.getName(id);\n          log(\"All chunks have been uploaded for \" + id + \" - finalizing....\");\n          handler.finalizeChunks(id).then(function (response, xhr) {\n            log(\"Finalize successful for \" + id);\n            var normaizedResponse = _upload2.normalizeResponse(response, true);\n            options.onProgress(id, name, size, size);\n            handler._maybeDeletePersistedChunkData(id);\n            _upload2.cleanup(id, normaizedResponse, xhr);\n          }, function (response, xhr) {\n            var normalizedResponse = _upload2.normalizeResponse(response, false);\n            log(\"Problem finalizing chunks for file ID \" + id + \" - \" + normalizedResponse.error, \"error\");\n            if (normalizedResponse.reset || xhr && options.chunking.success.resetOnStatus.indexOf(xhr.status) >= 0) {\n              chunked.reset(id);\n            }\n            if (!options.onAutoRetry(id, name, normalizedResponse, xhr)) {\n              _upload2.cleanup(id, normalizedResponse, xhr);\n            }\n          });\n        },\n        handleFailure: function handleFailure(chunkIdx, id, response, xhr) {\n          var name = options.getName(id);\n          log(\"Chunked upload request failed for \" + id + \", chunk \" + chunkIdx);\n          handler.clearCachedChunk(id, chunkIdx);\n          var responseToReport = _upload2.normalizeResponse(response, false),\n            inProgressIdx;\n          if (responseToReport.reset) {\n            chunked.reset(id);\n          } else {\n            var inProgressChunksArray = handler._getFileState(id).chunking.inProgress;\n            inProgressIdx = inProgressChunksArray ? qq.indexOf(inProgressChunksArray, chunkIdx) : -1;\n            if (inProgressIdx >= 0) {\n              handler._getFileState(id).chunking.inProgress.splice(inProgressIdx, 1);\n              handler._getFileState(id).chunking.remaining.unshift(chunkIdx);\n            }\n          }\n          if (!handler._getFileState(id).temp.ignoreFailure) {\n            if (concurrentChunkingPossible) {\n              handler._getFileState(id).temp.ignoreFailure = true;\n              log(qq.format(\"Going to attempt to abort these chunks: {}. These are currently in-progress: {}.\", JSON.stringify(Object.keys(handler._getXhrs(id))), JSON.stringify(handler._getFileState(id).chunking.inProgress)));\n              qq.each(handler._getXhrs(id), function (ckid, ckXhr) {\n                log(qq.format(\"Attempting to abort file {}.{}. XHR readyState {}. \", id, ckid, ckXhr.readyState));\n                ckXhr.abort();\n                ckXhr._cancelled = true;\n              });\n              handler.moveInProgressToRemaining(id);\n              connectionManager.free(id, true);\n            }\n            if (!options.onAutoRetry(id, name, responseToReport, xhr)) {\n              _upload2.cleanup(id, responseToReport, xhr);\n            }\n          }\n        },\n        hasMoreParts: function hasMoreParts(id) {\n          return !!handler._getFileState(id).chunking.remaining.length;\n        },\n        nextPart: function nextPart(id) {\n          var nextIdx = handler._getFileState(id).chunking.remaining.shift();\n          if (nextIdx >= handler._getTotalChunks(id)) {\n            nextIdx = null;\n          }\n          return nextIdx;\n        },\n        reset: function reset(id) {\n          log(\"Server or callback has ordered chunking effort to be restarted on next attempt for item ID \" + id, \"error\");\n          handler._maybeDeletePersistedChunkData(id);\n          handler.reevaluateChunking(id);\n          handler._getFileState(id).loaded = 0;\n          handler._getFileState(id).attemptingResume = false;\n        },\n        sendNext: function sendNext(id) {\n          var size = options.getSize(id),\n            name = options.getName(id),\n            chunkIdx = chunked.nextPart(id),\n            chunkData = handler._getChunkData(id, chunkIdx),\n            fileState = handler._getFileState(id),\n            resuming = fileState.attemptingResume,\n            inProgressChunks = fileState.chunking.inProgress || [];\n          if (fileState.loaded == null) {\n            fileState.loaded = 0;\n          }\n          if (resuming && options.onResume(id, name, chunkData, fileState.customResumeData) === false) {\n            chunked.reset(id);\n            chunkIdx = chunked.nextPart(id);\n            chunkData = handler._getChunkData(id, chunkIdx);\n            resuming = false;\n          }\n          if (chunkIdx == null && inProgressChunks.length === 0) {\n            chunked.finalize(id);\n          } else {\n            inProgressChunks.push(chunkIdx);\n            handler._getFileState(id).chunking.inProgress = inProgressChunks;\n            if (concurrentChunkingPossible) {\n              connectionManager.open(id, chunkIdx);\n            }\n            if (concurrentChunkingPossible && connectionManager.available() && handler._getFileState(id).chunking.remaining.length) {\n              chunked.sendNext(id);\n            }\n            if (chunkData.blob.size === 0) {\n              log(qq.format(\"Chunk {} for file {} will not be uploaded, zero sized chunk.\", chunkIdx, id), \"error\");\n              chunked.handleFailure(chunkIdx, id, \"File is no longer available\", null);\n            }\n            var onUploadChunkPromise = options.onUploadChunk(id, name, handler._getChunkDataForCallback(chunkData));\n            onUploadChunkPromise.then(function (requestOverrides) {\n              if (!options.isInProgress(id)) {\n                log(qq.format(\"Not sending chunked upload request for item {}.{} - no longer in progress.\", id, chunkIdx));\n              } else {\n                log(qq.format(\"Sending chunked upload request for item {}.{}, bytes {}-{} of {}.\", id, chunkIdx, chunkData.start + 1, chunkData.end, size));\n                var uploadChunkData = {\n                  chunkIdx: chunkIdx,\n                  id: id,\n                  overrides: requestOverrides,\n                  resuming: resuming\n                };\n                handler.uploadChunk(uploadChunkData).then(function success(response, xhr) {\n                  log(\"Chunked upload request succeeded for \" + id + \", chunk \" + chunkIdx);\n                  handler.clearCachedChunk(id, chunkIdx);\n                  var inProgressChunks = handler._getFileState(id).chunking.inProgress || [],\n                    responseToReport = _upload2.normalizeResponse(response, true),\n                    inProgressChunkIdx = qq.indexOf(inProgressChunks, chunkIdx);\n                  log(qq.format(\"Chunk {} for file {} uploaded successfully.\", chunkIdx, id));\n                  chunked.done(id, chunkIdx, responseToReport, xhr);\n                  if (inProgressChunkIdx >= 0) {\n                    inProgressChunks.splice(inProgressChunkIdx, 1);\n                  }\n                  handler._maybePersistChunkedState(id);\n                  if (!chunked.hasMoreParts(id) && inProgressChunks.length === 0) {\n                    chunked.finalize(id);\n                  } else if (chunked.hasMoreParts(id)) {\n                    chunked.sendNext(id);\n                  } else {\n                    log(qq.format(\"File ID {} has no more chunks to send and these chunk indexes are still marked as in-progress: {}\", id, JSON.stringify(inProgressChunks)));\n                  }\n                }, function failure(response, xhr) {\n                  chunked.handleFailure(chunkIdx, id, response, xhr);\n                }).done(function () {\n                  handler.clearXhr(id, chunkIdx);\n                });\n              }\n            }, function (error) {\n              chunked.handleFailure(chunkIdx, id, error, null);\n            });\n          }\n        }\n      },\n      connectionManager = {\n        _open: [],\n        _openChunks: {},\n        _waiting: [],\n        available: function available() {\n          var max = options.maxConnections,\n            openChunkEntriesCount = 0,\n            openChunksCount = 0;\n          qq.each(connectionManager._openChunks, function (fileId, openChunkIndexes) {\n            openChunkEntriesCount++;\n            openChunksCount += openChunkIndexes.length;\n          });\n          return max - (connectionManager._open.length - openChunkEntriesCount + openChunksCount);\n        },\n        free: function free(id, dontAllowNext) {\n          var allowNext = !dontAllowNext,\n            waitingIndex = qq.indexOf(connectionManager._waiting, id),\n            connectionsIndex = qq.indexOf(connectionManager._open, id),\n            nextId;\n          delete connectionManager._openChunks[id];\n          if (_upload2.getProxyOrBlob(id) instanceof qq.BlobProxy) {\n            log(\"Generated blob upload has ended for \" + id + \", disposing generated blob.\");\n            delete handler._getFileState(id).file;\n          }\n          if (waitingIndex >= 0) {\n            connectionManager._waiting.splice(waitingIndex, 1);\n          } else if (allowNext && connectionsIndex >= 0) {\n            connectionManager._open.splice(connectionsIndex, 1);\n            nextId = connectionManager._waiting.shift();\n            if (nextId >= 0) {\n              connectionManager._open.push(nextId);\n              _upload2.start(nextId);\n            }\n          }\n        },\n        getWaitingOrConnected: function getWaitingOrConnected() {\n          var waitingOrConnected = [];\n          qq.each(connectionManager._openChunks, function (fileId, chunks) {\n            if (chunks && chunks.length) {\n              waitingOrConnected.push(parseInt(fileId));\n            }\n          });\n          qq.each(connectionManager._open, function (idx, fileId) {\n            if (!connectionManager._openChunks[fileId]) {\n              waitingOrConnected.push(parseInt(fileId));\n            }\n          });\n          waitingOrConnected = waitingOrConnected.concat(connectionManager._waiting);\n          return waitingOrConnected;\n        },\n        isUsingConnection: function isUsingConnection(id) {\n          return qq.indexOf(connectionManager._open, id) >= 0;\n        },\n        open: function open(id, chunkIdx) {\n          if (chunkIdx == null) {\n            connectionManager._waiting.push(id);\n          }\n          if (connectionManager.available()) {\n            if (chunkIdx == null) {\n              connectionManager._waiting.pop();\n              connectionManager._open.push(id);\n            } else {\n              (function () {\n                var openChunksEntry = connectionManager._openChunks[id] || [];\n                openChunksEntry.push(chunkIdx);\n                connectionManager._openChunks[id] = openChunksEntry;\n              })();\n            }\n            return true;\n          }\n          return false;\n        },\n        reset: function reset() {\n          connectionManager._waiting = [];\n          connectionManager._open = [];\n        }\n      },\n      simple = {\n        send: function send(id, name) {\n          var fileState = handler._getFileState(id);\n          if (!fileState) {\n            log(\"Ignoring send request as this upload may have been cancelled, File ID \" + id, \"warn\");\n            return;\n          }\n          fileState.loaded = 0;\n          log(\"Sending simple upload request for \" + id);\n          handler.uploadFile(id).then(function (response, optXhr) {\n            log(\"Simple upload request succeeded for \" + id);\n            var responseToReport = _upload2.normalizeResponse(response, true),\n              size = options.getSize(id);\n            options.onProgress(id, name, size, size);\n            _upload2.maybeNewUuid(id, responseToReport);\n            _upload2.cleanup(id, responseToReport, optXhr);\n          }, function (response, optXhr) {\n            log(\"Simple upload request failed for \" + id);\n            var responseToReport = _upload2.normalizeResponse(response, false);\n            if (!options.onAutoRetry(id, name, responseToReport, optXhr)) {\n              _upload2.cleanup(id, responseToReport, optXhr);\n            }\n          });\n        }\n      },\n      _upload2 = {\n        cancel: function cancel(id) {\n          log(\"Cancelling \" + id);\n          options.paramsStore.remove(id);\n          connectionManager.free(id);\n        },\n        cleanup: function cleanup(id, response, optXhr) {\n          var name = options.getName(id);\n          options.onComplete(id, name, response, optXhr);\n          if (handler._getFileState(id)) {\n            handler._clearXhrs && handler._clearXhrs(id);\n          }\n          connectionManager.free(id);\n        },\n        getProxyOrBlob: function getProxyOrBlob(id) {\n          return handler.getProxy && handler.getProxy(id) || handler.getFile && handler.getFile(id);\n        },\n        initHandler: function initHandler() {\n          var handlerType = namespace ? qq[namespace] : qq.traditional,\n            handlerModuleSubtype = qq.supportedFeatures.ajaxUploading ? \"Xhr\" : \"Form\";\n          handler = new handlerType[handlerModuleSubtype + \"UploadHandler\"](options, {\n            getCustomResumeData: options.getCustomResumeData,\n            getDataByUuid: options.getDataByUuid,\n            getName: options.getName,\n            getSize: options.getSize,\n            getUuid: options.getUuid,\n            log: log,\n            onCancel: options.onCancel,\n            onProgress: options.onProgress,\n            onUuidChanged: options.onUuidChanged,\n            onFinalizing: function onFinalizing(id) {\n              options.setStatus(id, qq.status.UPLOAD_FINALIZING);\n            }\n          });\n          if (handler._removeExpiredChunkingRecords) {\n            handler._removeExpiredChunkingRecords();\n          }\n        },\n        isDeferredEligibleForUpload: function isDeferredEligibleForUpload(id) {\n          return options.isQueued(id);\n        },\n        maybeDefer: function maybeDefer(id, blob) {\n          if (blob && !handler.getFile(id) && blob instanceof qq.BlobProxy) {\n            options.onUploadPrep(id);\n            log(\"Attempting to generate a blob on-demand for \" + id);\n            blob.create().then(function (generatedBlob) {\n              log(\"Generated an on-demand blob for \" + id);\n              handler.updateBlob(id, generatedBlob);\n              options.setSize(id, generatedBlob.size);\n              handler.reevaluateChunking(id);\n              _upload2.maybeSendDeferredFiles(id);\n            }, function (errorMessage) {\n              var errorResponse = {};\n              if (errorMessage) {\n                errorResponse.error = errorMessage;\n              }\n              log(qq.format(\"Failed to generate blob for ID {}.  Error message: {}.\", id, errorMessage), \"error\");\n              options.onComplete(id, options.getName(id), qq.extend(errorResponse, preventRetryResponse), null);\n              _upload2.maybeSendDeferredFiles(id);\n              connectionManager.free(id);\n            });\n          } else {\n            return _upload2.maybeSendDeferredFiles(id);\n          }\n          return false;\n        },\n        maybeSendDeferredFiles: function maybeSendDeferredFiles(id) {\n          var idsInGroup = options.getIdsInProxyGroup(id),\n            uploadedThisId = false;\n          if (idsInGroup && idsInGroup.length) {\n            log(\"Maybe ready to upload proxy group file \" + id);\n            qq.each(idsInGroup, function (idx, idInGroup) {\n              if (_upload2.isDeferredEligibleForUpload(idInGroup) && !!handler.getFile(idInGroup)) {\n                uploadedThisId = idInGroup === id;\n                _upload2.now(idInGroup);\n              } else if (_upload2.isDeferredEligibleForUpload(idInGroup)) {\n                return false;\n              }\n            });\n          } else {\n            uploadedThisId = true;\n            _upload2.now(id);\n          }\n          return uploadedThisId;\n        },\n        maybeNewUuid: function maybeNewUuid(id, response) {\n          if (response.newUuid !== undefined) {\n            options.onUuidChanged(id, response.newUuid);\n          }\n        },\n        normalizeResponse: function normalizeResponse(originalResponse, successful) {\n          var response = originalResponse;\n          if (!qq.isObject(originalResponse)) {\n            response = {};\n            if (qq.isString(originalResponse) && !successful) {\n              response.error = originalResponse;\n            }\n          }\n          response.success = successful;\n          return response;\n        },\n        now: function now(id) {\n          var name = options.getName(id);\n          if (!controller.isValid(id)) {\n            throw new qq.Error(id + \" is not a valid file ID to upload!\");\n          }\n          options.onUpload(id, name).then(function (response) {\n            if (response && response.pause) {\n              options.setStatus(id, qq.status.PAUSED);\n              handler.pause(id);\n              connectionManager.free(id);\n            } else {\n              if (chunkingPossible && handler._shouldChunkThisFile(id)) {\n                chunked.sendNext(id);\n              } else {\n                simple.send(id, name);\n              }\n            }\n          }, function (error) {\n            error = error || {};\n            log(id + \" upload start aborted due to rejected onUpload Promise - details: \" + error, \"error\");\n            if (!options.onAutoRetry(id, name, error.responseJSON || {})) {\n              var response = _upload2.normalizeResponse(error.responseJSON, false);\n              _upload2.cleanup(id, response);\n            }\n          });\n        },\n        start: function start(id) {\n          var blobToUpload = _upload2.getProxyOrBlob(id);\n          if (blobToUpload) {\n            return _upload2.maybeDefer(id, blobToUpload);\n          } else {\n            _upload2.now(id);\n            return true;\n          }\n        }\n      };\n    qq.extend(this, {\n      add: function add(id, file) {\n        handler.add.apply(this, arguments);\n      },\n      upload: function upload(id) {\n        if (connectionManager.open(id)) {\n          return _upload2.start(id);\n        }\n        return false;\n      },\n      retry: function retry(id) {\n        if (concurrentChunkingPossible) {\n          handler._getFileState(id).temp.ignoreFailure = false;\n        }\n        if (connectionManager.isUsingConnection(id)) {\n          return _upload2.start(id);\n        } else {\n          return controller.upload(id);\n        }\n      },\n      cancel: function cancel(id) {\n        var cancelRetVal = handler.cancel(id);\n        if (qq.isGenericPromise(cancelRetVal)) {\n          cancelRetVal.then(function () {\n            _upload2.cancel(id);\n          });\n        } else if (cancelRetVal !== false) {\n          _upload2.cancel(id);\n        }\n      },\n      cancelAll: function cancelAll() {\n        var waitingOrConnected = connectionManager.getWaitingOrConnected(),\n          i;\n        if (waitingOrConnected.length) {\n          for (i = waitingOrConnected.length - 1; i >= 0; i--) {\n            controller.cancel(waitingOrConnected[i]);\n          }\n        }\n        connectionManager.reset();\n      },\n      getFile: function getFile(id) {\n        if (handler.getProxy && handler.getProxy(id)) {\n          return handler.getProxy(id).referenceBlob;\n        }\n        return handler.getFile && handler.getFile(id);\n      },\n      isProxied: function isProxied(id) {\n        return !!(handler.getProxy && handler.getProxy(id));\n      },\n      getInput: function getInput(id) {\n        if (handler.getInput) {\n          return handler.getInput(id);\n        }\n      },\n      reset: function reset() {\n        log(\"Resetting upload handler\");\n        controller.cancelAll();\n        connectionManager.reset();\n        handler.reset();\n      },\n      expunge: function expunge(id) {\n        if (controller.isValid(id)) {\n          return handler.expunge(id);\n        }\n      },\n      isValid: function isValid(id) {\n        return handler.isValid(id);\n      },\n      hasResumeRecord: function hasResumeRecord(id) {\n        var key = handler.isValid(id) && handler._getLocalStorageId && handler._getLocalStorageId(id);\n        if (key) {\n          return !!localStorage.getItem(key);\n        }\n        return false;\n      },\n      getResumableFilesData: function getResumableFilesData() {\n        if (handler.getResumableFilesData) {\n          return handler.getResumableFilesData();\n        }\n        return [];\n      },\n      getThirdPartyFileId: function getThirdPartyFileId(id) {\n        if (controller.isValid(id)) {\n          return handler.getThirdPartyFileId(id);\n        }\n      },\n      pause: function pause(id) {\n        if (controller.isResumable(id) && handler.pause && controller.isValid(id) && handler.pause(id)) {\n          connectionManager.free(id);\n          handler.moveInProgressToRemaining(id);\n          return true;\n        }\n        return false;\n      },\n      isAttemptingResume: function isAttemptingResume(id) {\n        return !!handler.isAttemptingResume && handler.isAttemptingResume(id);\n      },\n      isResumable: function isResumable(id) {\n        return !!handler.isResumable && handler.isResumable(id);\n      }\n    });\n    qq.extend(options, o);\n    log = options.log;\n    chunkingPossible = options.chunking.enabled && qq.supportedFeatures.chunking;\n    concurrentChunkingPossible = chunkingPossible && options.chunking.concurrent.enabled;\n    preventRetryResponse = function () {\n      var response = {};\n      response[options.preventRetryParam] = true;\n      return response;\n    }();\n    _upload2.initHandler();\n  };\n  qq.WindowReceiveMessage = function (o) {\n    \"use strict\";\n\n    var options = {\n        log: function log(message, level) {}\n      },\n      callbackWrapperDetachers = {};\n    qq.extend(options, o);\n    qq.extend(this, {\n      receiveMessage: function receiveMessage(id, callback) {\n        var onMessageCallbackWrapper = function onMessageCallbackWrapper(event) {\n          callback(event.data);\n        };\n        if (window.postMessage) {\n          callbackWrapperDetachers[id] = qq(window).attach(\"message\", onMessageCallbackWrapper);\n        } else {\n          log(\"iframe message passing not supported in this browser!\", \"error\");\n        }\n      },\n      stopReceivingMessages: function stopReceivingMessages(id) {\n        if (window.postMessage) {\n          var detacher = callbackWrapperDetachers[id];\n          if (detacher) {\n            detacher();\n          }\n        }\n      }\n    });\n  };\n  qq.FormUploadHandler = function (spec) {\n    \"use strict\";\n\n    var options = spec.options,\n      handler = this,\n      proxy = spec.proxy,\n      formHandlerInstanceId = qq.getUniqueId(),\n      onloadCallbacks = {},\n      detachLoadEvents = {},\n      postMessageCallbackTimers = {},\n      isCors = options.isCors,\n      inputName = options.inputName,\n      getUuid = proxy.getUuid,\n      log = proxy.log,\n      corsMessageReceiver = new qq.WindowReceiveMessage({\n        log: log\n      });\n    function expungeFile(id) {\n      delete detachLoadEvents[id];\n      if (isCors) {\n        clearTimeout(postMessageCallbackTimers[id]);\n        delete postMessageCallbackTimers[id];\n        corsMessageReceiver.stopReceivingMessages(id);\n      }\n      var iframe = document.getElementById(handler._getIframeName(id));\n      if (iframe) {\n        iframe.setAttribute(\"src\", \"javascript:false;\");\n        qq(iframe).remove();\n      }\n    }\n    function getFileIdForIframeName(iframeName) {\n      return iframeName.split(\"_\")[0];\n    }\n    function initIframeForUpload(name) {\n      var iframe = qq.toElement(\"<iframe src='javascript:false;' name='\" + name + \"' />\");\n      iframe.setAttribute(\"id\", name);\n      iframe.style.display = \"none\";\n      document.body.appendChild(iframe);\n      return iframe;\n    }\n    function registerPostMessageCallback(iframe, callback) {\n      var iframeName = iframe.id,\n        fileId = getFileIdForIframeName(iframeName),\n        uuid = getUuid(fileId);\n      onloadCallbacks[uuid] = callback;\n      detachLoadEvents[fileId] = qq(iframe).attach(\"load\", function () {\n        if (handler.getInput(fileId)) {\n          log(\"Received iframe load event for CORS upload request (iframe name \" + iframeName + \")\");\n          postMessageCallbackTimers[iframeName] = setTimeout(function () {\n            var errorMessage = \"No valid message received from loaded iframe for iframe name \" + iframeName;\n            log(errorMessage, \"error\");\n            callback({\n              error: errorMessage\n            });\n          }, 1e3);\n        }\n      });\n      corsMessageReceiver.receiveMessage(iframeName, function (message) {\n        log(\"Received the following window message: '\" + message + \"'\");\n        var fileId = getFileIdForIframeName(iframeName),\n          response = handler._parseJsonResponse(message),\n          uuid = response.uuid,\n          onloadCallback;\n        if (uuid && onloadCallbacks[uuid]) {\n          log(\"Handling response for iframe name \" + iframeName);\n          clearTimeout(postMessageCallbackTimers[iframeName]);\n          delete postMessageCallbackTimers[iframeName];\n          handler._detachLoadEvent(iframeName);\n          onloadCallback = onloadCallbacks[uuid];\n          delete onloadCallbacks[uuid];\n          corsMessageReceiver.stopReceivingMessages(iframeName);\n          onloadCallback(response);\n        } else if (!uuid) {\n          log(\"'\" + message + \"' does not contain a UUID - ignoring.\");\n        }\n      });\n    }\n    qq.extend(this, new qq.UploadHandler(spec));\n    qq.override(this, function (super_) {\n      return {\n        add: function add(id, fileInput) {\n          super_.add(id, {\n            input: fileInput\n          });\n          fileInput.setAttribute(\"name\", inputName);\n          if (fileInput.parentNode) {\n            qq(fileInput).remove();\n          }\n        },\n        expunge: function expunge(id) {\n          expungeFile(id);\n          super_.expunge(id);\n        },\n        isValid: function isValid(id) {\n          return super_.isValid(id) && handler._getFileState(id).input !== undefined;\n        }\n      };\n    });\n    qq.extend(this, {\n      getInput: function getInput(id) {\n        return handler._getFileState(id).input;\n      },\n      _attachLoadEvent: function _attachLoadEvent(iframe, callback) {\n        var responseDescriptor;\n        if (isCors) {\n          registerPostMessageCallback(iframe, callback);\n        } else {\n          detachLoadEvents[iframe.id] = qq(iframe).attach(\"load\", function () {\n            log(\"Received response for \" + iframe.id);\n            if (!iframe.parentNode) {\n              return;\n            }\n            try {\n              if (iframe.contentDocument && iframe.contentDocument.body && iframe.contentDocument.body.innerHTML == \"false\") {\n                return;\n              }\n            } catch (error) {\n              log(\"Error when attempting to access iframe during handling of upload response (\" + error.message + \")\", \"error\");\n              responseDescriptor = {\n                success: false\n              };\n            }\n            callback(responseDescriptor);\n          });\n        }\n      },\n      _createIframe: function _createIframe(id) {\n        var iframeName = handler._getIframeName(id);\n        return initIframeForUpload(iframeName);\n      },\n      _detachLoadEvent: function _detachLoadEvent(id) {\n        if (detachLoadEvents[id] !== undefined) {\n          detachLoadEvents[id]();\n          delete detachLoadEvents[id];\n        }\n      },\n      _getIframeName: function _getIframeName(fileId) {\n        return fileId + \"_\" + formHandlerInstanceId;\n      },\n      _initFormForUpload: function _initFormForUpload(spec) {\n        var method = spec.method,\n          endpoint = spec.endpoint,\n          params = spec.params,\n          paramsInBody = spec.paramsInBody,\n          targetName = spec.targetName,\n          form = qq.toElement(\"<form method='\" + method + \"' enctype='multipart/form-data'></form>\"),\n          url = endpoint;\n        if (paramsInBody) {\n          qq.obj2Inputs(params, form);\n        } else {\n          url = qq.obj2url(params, endpoint);\n        }\n        form.setAttribute(\"action\", url);\n        form.setAttribute(\"target\", targetName);\n        form.style.display = \"none\";\n        document.body.appendChild(form);\n        return form;\n      },\n      _parseJsonResponse: function _parseJsonResponse(innerHtmlOrMessage) {\n        var response = {};\n        try {\n          response = qq.parseJson(innerHtmlOrMessage);\n        } catch (error) {\n          log(\"Error when attempting to parse iframe upload response (\" + error.message + \")\", \"error\");\n        }\n        return response;\n      }\n    });\n  };\n  qq.XhrUploadHandler = function (spec) {\n    \"use strict\";\n\n    var handler = this,\n      namespace = spec.options.namespace,\n      proxy = spec.proxy,\n      chunking = spec.options.chunking,\n      getChunkSize = function getChunkSize(id) {\n        var fileState = handler._getFileState(id);\n        if (fileState.chunkSize) {\n          return fileState.chunkSize;\n        } else {\n          var chunkSize = chunking.partSize;\n          if (qq.isFunction(chunkSize)) {\n            chunkSize = chunkSize(id, getSize(id));\n          }\n          fileState.chunkSize = chunkSize;\n          return chunkSize;\n        }\n      },\n      resume = spec.options.resume,\n      chunkFiles = chunking && spec.options.chunking.enabled && qq.supportedFeatures.chunking,\n      resumeEnabled = resume && spec.options.resume.enabled && chunkFiles && qq.supportedFeatures.resume,\n      getName = proxy.getName,\n      getSize = proxy.getSize,\n      getUuid = proxy.getUuid,\n      getEndpoint = proxy.getEndpoint,\n      getDataByUuid = proxy.getDataByUuid,\n      onUuidChanged = proxy.onUuidChanged,\n      onProgress = proxy.onProgress,\n      log = proxy.log,\n      getCustomResumeData = proxy.getCustomResumeData;\n    function abort(id) {\n      qq.each(handler._getXhrs(id), function (xhrId, xhr) {\n        var ajaxRequester = handler._getAjaxRequester(id, xhrId);\n        xhr.onreadystatechange = null;\n        xhr.upload.onprogress = null;\n        xhr.abort();\n        ajaxRequester && ajaxRequester.canceled && ajaxRequester.canceled(id);\n      });\n    }\n    qq.extend(this, new qq.UploadHandler(spec));\n    qq.override(this, function (super_) {\n      return {\n        add: function add(id, blobOrProxy) {\n          if (qq.isFile(blobOrProxy) || qq.isBlob(blobOrProxy)) {\n            super_.add(id, {\n              file: blobOrProxy\n            });\n          } else if (blobOrProxy instanceof qq.BlobProxy) {\n            super_.add(id, {\n              proxy: blobOrProxy\n            });\n          } else {\n            throw new Error(\"Passed obj is not a File, Blob, or proxy\");\n          }\n          handler._initTempState(id);\n          resumeEnabled && handler._maybePrepareForResume(id);\n        },\n        expunge: function expunge(id) {\n          abort(id);\n          handler._maybeDeletePersistedChunkData(id);\n          handler._clearXhrs(id);\n          super_.expunge(id);\n        }\n      };\n    });\n    qq.extend(this, {\n      clearCachedChunk: function clearCachedChunk(id, chunkIdx) {\n        var fileState = handler._getFileState(id);\n        if (fileState) {\n          delete fileState.temp.cachedChunks[chunkIdx];\n        }\n      },\n      clearXhr: function clearXhr(id, chunkIdx) {\n        var tempState = handler._getFileState(id).temp;\n        if (tempState.xhrs) {\n          delete tempState.xhrs[chunkIdx];\n        }\n        if (tempState.ajaxRequesters) {\n          delete tempState.ajaxRequesters[chunkIdx];\n        }\n      },\n      finalizeChunks: function finalizeChunks(id, responseParser) {\n        var lastChunkIdx = handler._getTotalChunks(id) - 1,\n          xhr = handler._getXhr(id, lastChunkIdx);\n        if (responseParser) {\n          return new qq.Promise().success(responseParser(xhr), xhr);\n        }\n        return new qq.Promise().success({}, xhr);\n      },\n      getFile: function getFile(id) {\n        return handler.isValid(id) && handler._getFileState(id).file;\n      },\n      getProxy: function getProxy(id) {\n        return handler.isValid(id) && handler._getFileState(id).proxy;\n      },\n      getResumableFilesData: function getResumableFilesData() {\n        var resumableFilesData = [];\n        handler._iterateResumeRecords(function (key, uploadData) {\n          handler.moveInProgressToRemaining(null, uploadData.chunking.inProgress, uploadData.chunking.remaining);\n          var data = {\n            name: uploadData.name,\n            remaining: uploadData.chunking.remaining,\n            size: uploadData.size,\n            uuid: uploadData.uuid\n          };\n          if (uploadData.key) {\n            data.key = uploadData.key;\n          }\n          if (uploadData.customResumeData) {\n            data.customResumeData = uploadData.customResumeData;\n          }\n          resumableFilesData.push(data);\n        });\n        return resumableFilesData;\n      },\n      isAttemptingResume: function isAttemptingResume(id) {\n        return handler._getFileState(id).attemptingResume;\n      },\n      isResumable: function isResumable(id) {\n        return !!chunking && handler.isValid(id) && !handler._getFileState(id).notResumable;\n      },\n      moveInProgressToRemaining: function moveInProgressToRemaining(id, optInProgress, optRemaining) {\n        var fileState = handler._getFileState(id) || {},\n          chunkingState = fileState.chunking || {},\n          inProgress = optInProgress || chunkingState.inProgress,\n          remaining = optRemaining || chunkingState.remaining;\n        if (inProgress) {\n          log(qq.format(\"Moving these chunks from in-progress {}, to remaining.\", JSON.stringify(inProgress)));\n          inProgress.reverse();\n          qq.each(inProgress, function (idx, chunkIdx) {\n            remaining.unshift(chunkIdx);\n          });\n          inProgress.length = 0;\n        }\n      },\n      pause: function pause(id) {\n        if (handler.isValid(id)) {\n          log(qq.format(\"Aborting XHR upload for {} '{}' due to pause instruction.\", id, getName(id)));\n          handler._getFileState(id).paused = true;\n          abort(id);\n          return true;\n        }\n      },\n      reevaluateChunking: function reevaluateChunking(id) {\n        if (chunking && handler.isValid(id)) {\n          var state = handler._getFileState(id),\n            totalChunks,\n            i;\n          delete state.chunking;\n          state.chunking = {};\n          totalChunks = handler._getTotalChunks(id);\n          if (totalChunks > 1 || chunking.mandatory) {\n            state.chunking.enabled = true;\n            state.chunking.parts = totalChunks;\n            state.chunking.remaining = [];\n            for (i = 0; i < totalChunks; i++) {\n              state.chunking.remaining.push(i);\n            }\n            handler._initTempState(id);\n          } else {\n            state.chunking.enabled = false;\n          }\n        }\n      },\n      updateBlob: function updateBlob(id, newBlob) {\n        if (handler.isValid(id)) {\n          handler._getFileState(id).file = newBlob;\n        }\n      },\n      _clearXhrs: function _clearXhrs(id) {\n        var tempState = handler._getFileState(id).temp;\n        qq.each(tempState.ajaxRequesters, function (chunkId) {\n          delete tempState.ajaxRequesters[chunkId];\n        });\n        qq.each(tempState.xhrs, function (chunkId) {\n          delete tempState.xhrs[chunkId];\n        });\n      },\n      _createXhr: function _createXhr(id, optChunkIdx) {\n        return handler._registerXhr(id, optChunkIdx, qq.createXhrInstance());\n      },\n      _getAjaxRequester: function _getAjaxRequester(id, optChunkIdx) {\n        var chunkIdx = optChunkIdx == null ? -1 : optChunkIdx;\n        return handler._getFileState(id).temp.ajaxRequesters[chunkIdx];\n      },\n      _getChunkData: function _getChunkData(id, chunkIndex) {\n        var chunkSize = getChunkSize(id),\n          fileSize = getSize(id),\n          fileOrBlob = handler.getFile(id),\n          startBytes = chunkSize * chunkIndex,\n          endBytes = startBytes + chunkSize >= fileSize ? fileSize : startBytes + chunkSize,\n          totalChunks = handler._getTotalChunks(id),\n          cachedChunks = this._getFileState(id).temp.cachedChunks,\n          blob = cachedChunks[chunkIndex] || qq.sliceBlob(fileOrBlob, startBytes, endBytes);\n        cachedChunks[chunkIndex] = blob;\n        return {\n          part: chunkIndex,\n          start: startBytes,\n          end: endBytes,\n          count: totalChunks,\n          blob: blob,\n          size: endBytes - startBytes\n        };\n      },\n      _getChunkDataForCallback: function _getChunkDataForCallback(chunkData) {\n        return {\n          partIndex: chunkData.part,\n          startByte: chunkData.start + 1,\n          endByte: chunkData.end,\n          totalParts: chunkData.count\n        };\n      },\n      _getLocalStorageId: function _getLocalStorageId(id) {\n        var formatVersion = \"5.0\",\n          name = getName(id),\n          size = getSize(id),\n          chunkSize = getChunkSize(id),\n          endpoint = getEndpoint(id),\n          customKeys = resume.customKeys(id),\n          localStorageId = qq.format(\"qq{}resume{}-{}-{}-{}-{}\", namespace, formatVersion, name, size, chunkSize, endpoint);\n        customKeys.forEach(function (key) {\n          localStorageId += \"-\" + key;\n        });\n        return localStorageId;\n      },\n      _getMimeType: function _getMimeType(id) {\n        return handler.getFile(id).type;\n      },\n      _getPersistableData: function _getPersistableData(id) {\n        return handler._getFileState(id).chunking;\n      },\n      _getTotalChunks: function _getTotalChunks(id) {\n        if (chunking) {\n          var fileSize = getSize(id),\n            chunkSize = getChunkSize(id);\n          return Math.ceil(fileSize / chunkSize);\n        }\n      },\n      _getXhr: function _getXhr(id, optChunkIdx) {\n        var chunkIdx = optChunkIdx == null ? -1 : optChunkIdx;\n        return handler._getFileState(id).temp.xhrs[chunkIdx];\n      },\n      _getXhrs: function _getXhrs(id) {\n        return handler._getFileState(id).temp.xhrs;\n      },\n      _iterateResumeRecords: function _iterateResumeRecords(callback) {\n        if (resumeEnabled) {\n          qq.each(localStorage, function (key, item) {\n            if (key.indexOf(qq.format(\"qq{}resume\", namespace)) === 0) {\n              var uploadData = JSON.parse(item);\n              callback(key, uploadData);\n            }\n          });\n        }\n      },\n      _initTempState: function _initTempState(id) {\n        handler._getFileState(id).temp = {\n          ajaxRequesters: {},\n          chunkProgress: {},\n          xhrs: {},\n          cachedChunks: {}\n        };\n      },\n      _markNotResumable: function _markNotResumable(id) {\n        handler._getFileState(id).notResumable = true;\n      },\n      _maybeDeletePersistedChunkData: function _maybeDeletePersistedChunkData(id) {\n        var localStorageId;\n        if (resumeEnabled && handler.isResumable(id)) {\n          localStorageId = handler._getLocalStorageId(id);\n          if (localStorageId && localStorage.getItem(localStorageId)) {\n            localStorage.removeItem(localStorageId);\n            return true;\n          }\n        }\n        return false;\n      },\n      _maybePrepareForResume: function _maybePrepareForResume(id) {\n        var state = handler._getFileState(id),\n          localStorageId,\n          persistedData;\n        if (resumeEnabled && state.key === undefined) {\n          localStorageId = handler._getLocalStorageId(id);\n          persistedData = localStorage.getItem(localStorageId);\n          if (persistedData) {\n            persistedData = JSON.parse(persistedData);\n            if (getDataByUuid(persistedData.uuid)) {\n              handler._markNotResumable(id);\n            } else {\n              log(qq.format(\"Identified file with ID {} and name of {} as resumable.\", id, getName(id)));\n              onUuidChanged(id, persistedData.uuid);\n              state.key = persistedData.key;\n              state.chunking = persistedData.chunking;\n              state.loaded = persistedData.loaded;\n              state.customResumeData = persistedData.customResumeData;\n              state.attemptingResume = true;\n              handler.moveInProgressToRemaining(id);\n            }\n          }\n        }\n      },\n      _maybePersistChunkedState: function _maybePersistChunkedState(id) {\n        var state = handler._getFileState(id),\n          localStorageId,\n          persistedData;\n        if (resumeEnabled && handler.isResumable(id)) {\n          var customResumeData = getCustomResumeData(id);\n          localStorageId = handler._getLocalStorageId(id);\n          persistedData = {\n            name: getName(id),\n            size: getSize(id),\n            uuid: getUuid(id),\n            key: state.key,\n            chunking: state.chunking,\n            loaded: state.loaded,\n            lastUpdated: Date.now()\n          };\n          if (customResumeData) {\n            persistedData.customResumeData = customResumeData;\n          }\n          try {\n            localStorage.setItem(localStorageId, JSON.stringify(persistedData));\n          } catch (error) {\n            log(qq.format(\"Unable to save resume data for '{}' due to error: '{}'.\", id, error.toString()), \"warn\");\n          }\n        }\n      },\n      _registerProgressHandler: function _registerProgressHandler(id, chunkIdx, chunkSize) {\n        var xhr = handler._getXhr(id, chunkIdx),\n          name = getName(id),\n          progressCalculator = {\n            simple: function simple(loaded, total) {\n              var fileSize = getSize(id);\n              if (loaded === total) {\n                onProgress(id, name, fileSize, fileSize);\n              } else {\n                onProgress(id, name, loaded >= fileSize ? fileSize - 1 : loaded, fileSize);\n              }\n            },\n            chunked: function chunked(loaded, total) {\n              var chunkProgress = handler._getFileState(id).temp.chunkProgress,\n                totalSuccessfullyLoadedForFile = handler._getFileState(id).loaded,\n                loadedForRequest = loaded,\n                totalForRequest = total,\n                totalFileSize = getSize(id),\n                estActualChunkLoaded = loadedForRequest - (totalForRequest - chunkSize),\n                totalLoadedForFile = totalSuccessfullyLoadedForFile;\n              chunkProgress[chunkIdx] = estActualChunkLoaded;\n              qq.each(chunkProgress, function (chunkIdx, chunkLoaded) {\n                totalLoadedForFile += chunkLoaded;\n              });\n              onProgress(id, name, totalLoadedForFile, totalFileSize);\n            }\n          };\n        xhr.upload.onprogress = function (e) {\n          if (e.lengthComputable) {\n            var type = chunkSize == null ? \"simple\" : \"chunked\";\n            progressCalculator[type](e.loaded, e.total);\n          }\n        };\n      },\n      _registerXhr: function _registerXhr(id, optChunkIdx, xhr, optAjaxRequester) {\n        var xhrsId = optChunkIdx == null ? -1 : optChunkIdx,\n          tempState = handler._getFileState(id).temp;\n        tempState.xhrs = tempState.xhrs || {};\n        tempState.ajaxRequesters = tempState.ajaxRequesters || {};\n        tempState.xhrs[xhrsId] = xhr;\n        if (optAjaxRequester) {\n          tempState.ajaxRequesters[xhrsId] = optAjaxRequester;\n        }\n        return xhr;\n      },\n      _removeExpiredChunkingRecords: function _removeExpiredChunkingRecords() {\n        var expirationDays = resume.recordsExpireIn;\n        handler._iterateResumeRecords(function (key, uploadData) {\n          var expirationDate = new Date(uploadData.lastUpdated);\n          expirationDate.setDate(expirationDate.getDate() + expirationDays);\n          if (expirationDate.getTime() <= Date.now()) {\n            log(\"Removing expired resume record with key \" + key);\n            localStorage.removeItem(key);\n          }\n        });\n      },\n      _shouldChunkThisFile: function _shouldChunkThisFile(id) {\n        var state = handler._getFileState(id);\n        if (state) {\n          if (!state.chunking) {\n            handler.reevaluateChunking(id);\n          }\n          return state.chunking.enabled;\n        }\n      }\n    });\n  };\n  qq.DeleteFileAjaxRequester = function (o) {\n    \"use strict\";\n\n    var requester,\n      options = {\n        method: \"DELETE\",\n        uuidParamName: \"qquuid\",\n        endpointStore: {},\n        maxConnections: 3,\n        customHeaders: function customHeaders(id) {\n          return {};\n        },\n        paramsStore: {},\n        cors: {\n          expected: false,\n          sendCredentials: false\n        },\n        log: function log(str, level) {},\n        onDelete: function onDelete(id) {},\n        onDeleteComplete: function onDeleteComplete(id, xhrOrXdr, isError) {}\n      };\n    qq.extend(options, o);\n    function getMandatedParams() {\n      if (options.method.toUpperCase() === \"POST\") {\n        return {\n          _method: \"DELETE\"\n        };\n      }\n      return {};\n    }\n    requester = qq.extend(this, new qq.AjaxRequester({\n      acceptHeader: \"application/json\",\n      validMethods: [\"POST\", \"DELETE\"],\n      method: options.method,\n      endpointStore: options.endpointStore,\n      paramsStore: options.paramsStore,\n      mandatedParams: getMandatedParams(),\n      maxConnections: options.maxConnections,\n      customHeaders: function customHeaders(id) {\n        return options.customHeaders.get(id);\n      },\n      log: options.log,\n      onSend: options.onDelete,\n      onComplete: options.onDeleteComplete,\n      cors: options.cors\n    }));\n    qq.extend(this, {\n      sendDelete: function sendDelete(id, uuid, additionalMandatedParams) {\n        var additionalOptions = additionalMandatedParams || {};\n        options.log(\"Submitting delete file request for \" + id);\n        if (options.method === \"DELETE\") {\n          requester.initTransport(id).withPath(uuid).withParams(additionalOptions).send();\n        } else {\n          additionalOptions[options.uuidParamName] = uuid;\n          requester.initTransport(id).withParams(additionalOptions).send();\n        }\n      }\n    });\n  };\n  (function () {\n    function detectSubsampling(img) {\n      var iw = img.naturalWidth,\n        ih = img.naturalHeight,\n        canvas = document.createElement(\"canvas\"),\n        ctx;\n      if (iw * ih > 1024 * 1024) {\n        canvas.width = canvas.height = 1;\n        ctx = canvas.getContext(\"2d\");\n        ctx.drawImage(img, -iw + 1, 0);\n        return ctx.getImageData(0, 0, 1, 1).data[3] === 0;\n      } else {\n        return false;\n      }\n    }\n    function detectVerticalSquash(img, iw, ih) {\n      var canvas = document.createElement(\"canvas\"),\n        sy = 0,\n        ey = ih,\n        py = ih,\n        ctx,\n        data,\n        alpha,\n        ratio;\n      canvas.width = 1;\n      canvas.height = ih;\n      ctx = canvas.getContext(\"2d\");\n      ctx.drawImage(img, 0, 0);\n      data = ctx.getImageData(0, 0, 1, ih).data;\n      while (py > sy) {\n        alpha = data[(py - 1) * 4 + 3];\n        if (alpha === 0) {\n          ey = py;\n        } else {\n          sy = py;\n        }\n        py = ey + sy >> 1;\n      }\n      ratio = py / ih;\n      return ratio === 0 ? 1 : ratio;\n    }\n    function renderImageToDataURL(img, blob, options, doSquash) {\n      var canvas = document.createElement(\"canvas\"),\n        mime = options.mime || \"image/jpeg\",\n        promise = new qq.Promise();\n      renderImageToCanvas(img, blob, canvas, options, doSquash).then(function () {\n        promise.success(canvas.toDataURL(mime, options.quality || .8));\n      });\n      return promise;\n    }\n    function maybeCalculateDownsampledDimensions(spec) {\n      var maxPixels = 5241e3;\n      if (!qq.ios()) {\n        throw new qq.Error(\"Downsampled dimensions can only be reliably calculated for iOS!\");\n      }\n      if (spec.origHeight * spec.origWidth > maxPixels) {\n        return {\n          newHeight: Math.round(Math.sqrt(maxPixels * (spec.origHeight / spec.origWidth))),\n          newWidth: Math.round(Math.sqrt(maxPixels * (spec.origWidth / spec.origHeight)))\n        };\n      }\n    }\n    function renderImageToCanvas(img, blob, canvas, options, doSquash) {\n      var iw = img.naturalWidth,\n        ih = img.naturalHeight,\n        width = options.width,\n        height = options.height,\n        ctx = canvas.getContext(\"2d\"),\n        promise = new qq.Promise(),\n        modifiedDimensions;\n      ctx.save();\n      if (options.resize) {\n        return renderImageToCanvasWithCustomResizer({\n          blob: blob,\n          canvas: canvas,\n          image: img,\n          imageHeight: ih,\n          imageWidth: iw,\n          orientation: options.orientation,\n          resize: options.resize,\n          targetHeight: height,\n          targetWidth: width\n        });\n      }\n      if (!qq.supportedFeatures.unlimitedScaledImageSize) {\n        modifiedDimensions = maybeCalculateDownsampledDimensions({\n          origWidth: width,\n          origHeight: height\n        });\n        if (modifiedDimensions) {\n          qq.log(qq.format(\"Had to reduce dimensions due to device limitations from {}w / {}h to {}w / {}h\", width, height, modifiedDimensions.newWidth, modifiedDimensions.newHeight), \"warn\");\n          width = modifiedDimensions.newWidth;\n          height = modifiedDimensions.newHeight;\n        }\n      }\n      transformCoordinate(canvas, width, height, options.orientation);\n      if (qq.ios()) {\n        (function () {\n          if (detectSubsampling(img)) {\n            iw /= 2;\n            ih /= 2;\n          }\n          var d = 1024,\n            tmpCanvas = document.createElement(\"canvas\"),\n            vertSquashRatio = doSquash ? detectVerticalSquash(img, iw, ih) : 1,\n            dw = Math.ceil(d * width / iw),\n            dh = Math.ceil(d * height / ih / vertSquashRatio),\n            sy = 0,\n            dy = 0,\n            tmpCtx,\n            sx,\n            dx;\n          tmpCanvas.width = tmpCanvas.height = d;\n          tmpCtx = tmpCanvas.getContext(\"2d\");\n          while (sy < ih) {\n            sx = 0;\n            dx = 0;\n            while (sx < iw) {\n              tmpCtx.clearRect(0, 0, d, d);\n              tmpCtx.drawImage(img, -sx, -sy);\n              ctx.drawImage(tmpCanvas, 0, 0, d, d, dx, dy, dw, dh);\n              sx += d;\n              dx += dw;\n            }\n            sy += d;\n            dy += dh;\n          }\n          ctx.restore();\n          tmpCanvas = tmpCtx = null;\n        })();\n      } else {\n        ctx.drawImage(img, 0, 0, width, height);\n      }\n      canvas.qqImageRendered && canvas.qqImageRendered();\n      promise.success();\n      return promise;\n    }\n    function renderImageToCanvasWithCustomResizer(resizeInfo) {\n      var blob = resizeInfo.blob,\n        image = resizeInfo.image,\n        imageHeight = resizeInfo.imageHeight,\n        imageWidth = resizeInfo.imageWidth,\n        orientation = resizeInfo.orientation,\n        promise = new qq.Promise(),\n        resize = resizeInfo.resize,\n        sourceCanvas = document.createElement(\"canvas\"),\n        sourceCanvasContext = sourceCanvas.getContext(\"2d\"),\n        targetCanvas = resizeInfo.canvas,\n        targetHeight = resizeInfo.targetHeight,\n        targetWidth = resizeInfo.targetWidth;\n      transformCoordinate(sourceCanvas, imageWidth, imageHeight, orientation);\n      targetCanvas.height = targetHeight;\n      targetCanvas.width = targetWidth;\n      sourceCanvasContext.drawImage(image, 0, 0);\n      resize({\n        blob: blob,\n        height: targetHeight,\n        image: image,\n        sourceCanvas: sourceCanvas,\n        targetCanvas: targetCanvas,\n        width: targetWidth\n      }).then(function success() {\n        targetCanvas.qqImageRendered && targetCanvas.qqImageRendered();\n        promise.success();\n      }, promise.failure);\n      return promise;\n    }\n    function transformCoordinate(canvas, width, height, orientation) {\n      switch (orientation) {\n        case 5:\n        case 6:\n        case 7:\n        case 8:\n          canvas.width = height;\n          canvas.height = width;\n          break;\n        default:\n          canvas.width = width;\n          canvas.height = height;\n      }\n      var ctx = canvas.getContext(\"2d\");\n      switch (orientation) {\n        case 2:\n          ctx.translate(width, 0);\n          ctx.scale(-1, 1);\n          break;\n        case 3:\n          ctx.translate(width, height);\n          ctx.rotate(Math.PI);\n          break;\n        case 4:\n          ctx.translate(0, height);\n          ctx.scale(1, -1);\n          break;\n        case 5:\n          ctx.rotate(.5 * Math.PI);\n          ctx.scale(1, -1);\n          break;\n        case 6:\n          ctx.rotate(.5 * Math.PI);\n          ctx.translate(0, -height);\n          break;\n        case 7:\n          ctx.rotate(.5 * Math.PI);\n          ctx.translate(width, -height);\n          ctx.scale(-1, 1);\n          break;\n        case 8:\n          ctx.rotate(-.5 * Math.PI);\n          ctx.translate(-width, 0);\n          break;\n        default:\n          break;\n      }\n    }\n    function MegaPixImage(srcImage, errorCallback) {\n      var self = this;\n      if (window.Blob && srcImage instanceof Blob) {\n        (function () {\n          var img = new Image(),\n            URL = window.URL && window.URL.createObjectURL ? window.URL : window.webkitURL && window.webkitURL.createObjectURL ? window.webkitURL : null;\n          if (!URL) {\n            throw Error(\"No createObjectURL function found to create blob url\");\n          }\n          img.src = URL.createObjectURL(srcImage);\n          self.blob = srcImage;\n          srcImage = img;\n        })();\n      }\n      if (!srcImage.naturalWidth && !srcImage.naturalHeight) {\n        srcImage.onload = function () {\n          var listeners = self.imageLoadListeners;\n          if (listeners) {\n            self.imageLoadListeners = null;\n            setTimeout(function () {\n              for (var i = 0, len = listeners.length; i < len; i++) {\n                listeners[i]();\n              }\n            }, 0);\n          }\n        };\n        srcImage.onerror = errorCallback;\n        this.imageLoadListeners = [];\n      }\n      this.srcImage = srcImage;\n    }\n    MegaPixImage.prototype.render = function (target, options) {\n      options = options || {};\n      var self = this,\n        imgWidth = this.srcImage.naturalWidth,\n        imgHeight = this.srcImage.naturalHeight,\n        width = options.width,\n        height = options.height,\n        maxWidth = options.maxWidth,\n        maxHeight = options.maxHeight,\n        doSquash = !this.blob || this.blob.type === \"image/jpeg\",\n        tagName = target.tagName.toLowerCase(),\n        opt;\n      if (this.imageLoadListeners) {\n        this.imageLoadListeners.push(function () {\n          self.render(target, options);\n        });\n        return;\n      }\n      if (width && !height) {\n        height = imgHeight * width / imgWidth << 0;\n      } else if (height && !width) {\n        width = imgWidth * height / imgHeight << 0;\n      } else {\n        width = imgWidth;\n        height = imgHeight;\n      }\n      if (maxWidth && width > maxWidth) {\n        width = maxWidth;\n        height = imgHeight * width / imgWidth << 0;\n      }\n      if (maxHeight && height > maxHeight) {\n        height = maxHeight;\n        width = imgWidth * height / imgHeight << 0;\n      }\n      opt = {\n        width: width,\n        height: height\n      }, qq.each(options, function (optionsKey, optionsValue) {\n        opt[optionsKey] = optionsValue;\n      });\n      if (tagName === \"img\") {\n        (function () {\n          var oldTargetSrc = target.src;\n          renderImageToDataURL(self.srcImage, self.blob, opt, doSquash).then(function (dataUri) {\n            target.src = dataUri;\n            oldTargetSrc === target.src && target.onload && target.onload();\n          });\n        })();\n      } else if (tagName === \"canvas\") {\n        renderImageToCanvas(this.srcImage, this.blob, target, opt, doSquash);\n      }\n      if (typeof this.onrender === \"function\") {\n        this.onrender(target);\n      }\n    };\n    qq.MegaPixImage = MegaPixImage;\n  })();\n  qq.ImageGenerator = function (log) {\n    \"use strict\";\n\n    function isImg(el) {\n      return el.tagName.toLowerCase() === \"img\";\n    }\n    function isCanvas(el) {\n      return el.tagName.toLowerCase() === \"canvas\";\n    }\n    function isImgCorsSupported() {\n      return new Image().crossOrigin !== undefined;\n    }\n    function isCanvasSupported() {\n      var canvas = document.createElement(\"canvas\");\n      return canvas.getContext && canvas.getContext(\"2d\");\n    }\n    function determineMimeOfFileName(nameWithPath) {\n      var pathSegments = nameWithPath.split(\"/\"),\n        name = pathSegments[pathSegments.length - 1].split(\"?\")[0],\n        extension = qq.getExtension(name);\n      extension = extension && extension.toLowerCase();\n      switch (extension) {\n        case \"jpeg\":\n        case \"jpg\":\n          return \"image/jpeg\";\n        case \"png\":\n          return \"image/png\";\n        case \"bmp\":\n          return \"image/bmp\";\n        case \"gif\":\n          return \"image/gif\";\n        case \"tiff\":\n        case \"tif\":\n          return \"image/tiff\";\n      }\n    }\n    function isCrossOrigin(url) {\n      var targetAnchor = document.createElement(\"a\"),\n        targetProtocol,\n        targetHostname,\n        targetPort;\n      targetAnchor.href = url;\n      targetProtocol = targetAnchor.protocol;\n      targetPort = targetAnchor.port;\n      targetHostname = targetAnchor.hostname;\n      if (targetProtocol.toLowerCase() !== window.location.protocol.toLowerCase()) {\n        return true;\n      }\n      if (targetHostname.toLowerCase() !== window.location.hostname.toLowerCase()) {\n        return true;\n      }\n      if (targetPort !== window.location.port && !qq.ie()) {\n        return true;\n      }\n      return false;\n    }\n    function registerImgLoadListeners(img, promise) {\n      img.onload = function () {\n        img.onload = null;\n        img.onerror = null;\n        promise.success(img);\n      };\n      img.onerror = function () {\n        img.onload = null;\n        img.onerror = null;\n        log(\"Problem drawing thumbnail!\", \"error\");\n        promise.failure(img, \"Problem drawing thumbnail!\");\n      };\n    }\n    function registerCanvasDrawImageListener(canvas, promise) {\n      canvas.qqImageRendered = function () {\n        promise.success(canvas);\n      };\n    }\n    function registerThumbnailRenderedListener(imgOrCanvas, promise) {\n      var registered = isImg(imgOrCanvas) || isCanvas(imgOrCanvas);\n      if (isImg(imgOrCanvas)) {\n        registerImgLoadListeners(imgOrCanvas, promise);\n      } else if (isCanvas(imgOrCanvas)) {\n        registerCanvasDrawImageListener(imgOrCanvas, promise);\n      } else {\n        promise.failure(imgOrCanvas);\n        log(qq.format(\"Element container of type {} is not supported!\", imgOrCanvas.tagName), \"error\");\n      }\n      return registered;\n    }\n    function draw(fileOrBlob, container, options) {\n      var drawPreview = new qq.Promise(),\n        identifier = new qq.Identify(fileOrBlob, log),\n        maxSize = options.maxSize,\n        orient = options.orient == null ? true : options.orient,\n        megapixErrorHandler = function megapixErrorHandler() {\n          container.onerror = null;\n          container.onload = null;\n          log(\"Could not render preview, file may be too large!\", \"error\");\n          drawPreview.failure(container, \"Browser cannot render image!\");\n        };\n      identifier.isPreviewable().then(function (mime) {\n        var dummyExif = {\n            parse: function parse() {\n              return new qq.Promise().success();\n            }\n          },\n          exif = orient ? new qq.Exif(fileOrBlob, log) : dummyExif,\n          mpImg = new qq.MegaPixImage(fileOrBlob, megapixErrorHandler);\n        if (registerThumbnailRenderedListener(container, drawPreview)) {\n          exif.parse().then(function (exif) {\n            var orientation = exif && exif.Orientation;\n            mpImg.render(container, {\n              maxWidth: maxSize,\n              maxHeight: maxSize,\n              orientation: orientation,\n              mime: mime,\n              resize: options.customResizeFunction\n            });\n          }, function (failureMsg) {\n            log(qq.format(\"EXIF data could not be parsed ({}).  Assuming orientation = 1.\", failureMsg));\n            mpImg.render(container, {\n              maxWidth: maxSize,\n              maxHeight: maxSize,\n              mime: mime,\n              resize: options.customResizeFunction\n            });\n          });\n        }\n      }, function () {\n        log(\"Not previewable\");\n        drawPreview.failure(container, \"Not previewable\");\n      });\n      return drawPreview;\n    }\n    function drawOnCanvasOrImgFromUrl(url, canvasOrImg, draw, maxSize, customResizeFunction) {\n      var tempImg = new Image(),\n        tempImgRender = new qq.Promise();\n      registerThumbnailRenderedListener(tempImg, tempImgRender);\n      if (isCrossOrigin(url)) {\n        tempImg.crossOrigin = \"anonymous\";\n      }\n      tempImg.src = url;\n      tempImgRender.then(function rendered() {\n        registerThumbnailRenderedListener(canvasOrImg, draw);\n        var mpImg = new qq.MegaPixImage(tempImg);\n        mpImg.render(canvasOrImg, {\n          maxWidth: maxSize,\n          maxHeight: maxSize,\n          mime: determineMimeOfFileName(url),\n          resize: customResizeFunction\n        });\n      }, draw.failure);\n    }\n    function drawOnImgFromUrlWithCssScaling(url, img, draw, maxSize) {\n      registerThumbnailRenderedListener(img, draw);\n      qq(img).css({\n        maxWidth: maxSize + \"px\",\n        maxHeight: maxSize + \"px\"\n      });\n      img.src = url;\n    }\n    function drawFromUrl(url, container, options) {\n      var draw = new qq.Promise(),\n        scale = options.scale,\n        maxSize = scale ? options.maxSize : null;\n      if (scale && isImg(container)) {\n        if (isCanvasSupported()) {\n          if (isCrossOrigin(url) && !isImgCorsSupported()) {\n            drawOnImgFromUrlWithCssScaling(url, container, draw, maxSize);\n          } else {\n            drawOnCanvasOrImgFromUrl(url, container, draw, maxSize);\n          }\n        } else {\n          drawOnImgFromUrlWithCssScaling(url, container, draw, maxSize);\n        }\n      } else if (isCanvas(container)) {\n        drawOnCanvasOrImgFromUrl(url, container, draw, maxSize);\n      } else if (registerThumbnailRenderedListener(container, draw)) {\n        container.src = url;\n      }\n      return draw;\n    }\n    qq.extend(this, {\n      generate: function generate(fileBlobOrUrl, container, options) {\n        if (qq.isString(fileBlobOrUrl)) {\n          log(\"Attempting to update thumbnail based on server response.\");\n          return drawFromUrl(fileBlobOrUrl, container, options || {});\n        } else {\n          log(\"Attempting to draw client-side image preview.\");\n          return draw(fileBlobOrUrl, container, options || {});\n        }\n      }\n    });\n    this._testing = {};\n    this._testing.isImg = isImg;\n    this._testing.isCanvas = isCanvas;\n    this._testing.isCrossOrigin = isCrossOrigin;\n    this._testing.determineMimeOfFileName = determineMimeOfFileName;\n  };\n  qq.Exif = function (fileOrBlob, log) {\n    \"use strict\";\n\n    var TAG_IDS = [274],\n      TAG_INFO = {\n        274: {\n          name: \"Orientation\",\n          bytes: 2\n        }\n      };\n    function parseLittleEndian(hex) {\n      var result = 0,\n        pow = 0;\n      while (hex.length > 0) {\n        result += parseInt(hex.substring(0, 2), 16) * Math.pow(2, pow);\n        hex = hex.substring(2, hex.length);\n        pow += 8;\n      }\n      return result;\n    }\n    function seekToApp1(offset, promise) {\n      var theOffset = offset,\n        thePromise = promise;\n      if (theOffset === undefined) {\n        theOffset = 2;\n        thePromise = new qq.Promise();\n      }\n      qq.readBlobToHex(fileOrBlob, theOffset, 4).then(function (hex) {\n        var match = /^ffe([0-9])/.exec(hex),\n          segmentLength;\n        if (match) {\n          if (match[1] !== \"1\") {\n            segmentLength = parseInt(hex.slice(4, 8), 16);\n            seekToApp1(theOffset + segmentLength + 2, thePromise);\n          } else {\n            thePromise.success(theOffset);\n          }\n        } else {\n          thePromise.failure(\"No EXIF header to be found!\");\n        }\n      });\n      return thePromise;\n    }\n    function getApp1Offset() {\n      var promise = new qq.Promise();\n      qq.readBlobToHex(fileOrBlob, 0, 6).then(function (hex) {\n        if (hex.indexOf(\"ffd8\") !== 0) {\n          promise.failure(\"Not a valid JPEG!\");\n        } else {\n          seekToApp1().then(function (offset) {\n            promise.success(offset);\n          }, function (error) {\n            promise.failure(error);\n          });\n        }\n      });\n      return promise;\n    }\n    function isLittleEndian(app1Start) {\n      var promise = new qq.Promise();\n      qq.readBlobToHex(fileOrBlob, app1Start + 10, 2).then(function (hex) {\n        promise.success(hex === \"4949\");\n      });\n      return promise;\n    }\n    function getDirEntryCount(app1Start, littleEndian) {\n      var promise = new qq.Promise();\n      qq.readBlobToHex(fileOrBlob, app1Start + 18, 2).then(function (hex) {\n        if (littleEndian) {\n          return promise.success(parseLittleEndian(hex));\n        } else {\n          promise.success(parseInt(hex, 16));\n        }\n      });\n      return promise;\n    }\n    function getIfd(app1Start, dirEntries) {\n      var offset = app1Start + 20,\n        bytes = dirEntries * 12;\n      return qq.readBlobToHex(fileOrBlob, offset, bytes);\n    }\n    function getDirEntries(ifdHex) {\n      var entries = [],\n        offset = 0;\n      while (offset + 24 <= ifdHex.length) {\n        entries.push(ifdHex.slice(offset, offset + 24));\n        offset += 24;\n      }\n      return entries;\n    }\n    function getTagValues(littleEndian, dirEntries) {\n      var TAG_VAL_OFFSET = 16,\n        tagsToFind = qq.extend([], TAG_IDS),\n        vals = {};\n      qq.each(dirEntries, function (idx, entry) {\n        var idHex = entry.slice(0, 4),\n          id = littleEndian ? parseLittleEndian(idHex) : parseInt(idHex, 16),\n          tagsToFindIdx = tagsToFind.indexOf(id),\n          tagValHex,\n          tagName,\n          tagValLength;\n        if (tagsToFindIdx >= 0) {\n          tagName = TAG_INFO[id].name;\n          tagValLength = TAG_INFO[id].bytes;\n          tagValHex = entry.slice(TAG_VAL_OFFSET, TAG_VAL_OFFSET + tagValLength * 2);\n          vals[tagName] = littleEndian ? parseLittleEndian(tagValHex) : parseInt(tagValHex, 16);\n          tagsToFind.splice(tagsToFindIdx, 1);\n        }\n        if (tagsToFind.length === 0) {\n          return false;\n        }\n      });\n      return vals;\n    }\n    qq.extend(this, {\n      parse: function parse() {\n        var parser = new qq.Promise(),\n          onParseFailure = function onParseFailure(message) {\n            log(qq.format(\"EXIF header parse failed: '{}' \", message));\n            parser.failure(message);\n          };\n        getApp1Offset().then(function (app1Offset) {\n          log(qq.format(\"Moving forward with EXIF header parsing for '{}'\", fileOrBlob.name === undefined ? \"blob\" : fileOrBlob.name));\n          isLittleEndian(app1Offset).then(function (littleEndian) {\n            log(qq.format(\"EXIF Byte order is {} endian\", littleEndian ? \"little\" : \"big\"));\n            getDirEntryCount(app1Offset, littleEndian).then(function (dirEntryCount) {\n              log(qq.format(\"Found {} APP1 directory entries\", dirEntryCount));\n              getIfd(app1Offset, dirEntryCount).then(function (ifdHex) {\n                var dirEntries = getDirEntries(ifdHex),\n                  tagValues = getTagValues(littleEndian, dirEntries);\n                log(\"Successfully parsed some EXIF tags\");\n                parser.success(tagValues);\n              }, onParseFailure);\n            }, onParseFailure);\n          }, onParseFailure);\n        }, onParseFailure);\n        return parser;\n      }\n    });\n    this._testing = {};\n    this._testing.parseLittleEndian = parseLittleEndian;\n  };\n  qq.Identify = function (fileOrBlob, log) {\n    \"use strict\";\n\n    function isIdentifiable(magicBytes, questionableBytes) {\n      var identifiable = false,\n        magicBytesEntries = [].concat(magicBytes);\n      qq.each(magicBytesEntries, function (idx, magicBytesArrayEntry) {\n        if (questionableBytes.indexOf(magicBytesArrayEntry) === 0) {\n          identifiable = true;\n          return false;\n        }\n      });\n      return identifiable;\n    }\n    qq.extend(this, {\n      isPreviewable: function isPreviewable() {\n        var self = this,\n          identifier = new qq.Promise(),\n          previewable = false,\n          name = fileOrBlob.name === undefined ? \"blob\" : fileOrBlob.name;\n        log(qq.format(\"Attempting to determine if {} can be rendered in this browser\", name));\n        log(\"First pass: check type attribute of blob object.\");\n        if (this.isPreviewableSync()) {\n          log(\"Second pass: check for magic bytes in file header.\");\n          qq.readBlobToHex(fileOrBlob, 0, 4).then(function (hex) {\n            qq.each(self.PREVIEWABLE_MIME_TYPES, function (mime, bytes) {\n              if (isIdentifiable(bytes, hex)) {\n                if (mime !== \"image/tiff\" || qq.supportedFeatures.tiffPreviews) {\n                  previewable = true;\n                  identifier.success(mime);\n                }\n                return false;\n              }\n            });\n            log(qq.format(\"'{}' is {} able to be rendered in this browser\", name, previewable ? \"\" : \"NOT\"));\n            if (!previewable) {\n              identifier.failure();\n            }\n          }, function () {\n            log(\"Error reading file w/ name '\" + name + \"'.  Not able to be rendered in this browser.\");\n            identifier.failure();\n          });\n        } else {\n          identifier.failure();\n        }\n        return identifier;\n      },\n      isPreviewableSync: function isPreviewableSync() {\n        var fileMime = fileOrBlob.type,\n          isRecognizedImage = qq.indexOf(Object.keys(this.PREVIEWABLE_MIME_TYPES), fileMime) >= 0,\n          previewable = false,\n          name = fileOrBlob.name === undefined ? \"blob\" : fileOrBlob.name;\n        if (isRecognizedImage) {\n          if (fileMime === \"image/tiff\") {\n            previewable = qq.supportedFeatures.tiffPreviews;\n          } else {\n            previewable = true;\n          }\n        }\n        !previewable && log(name + \" is not previewable in this browser per the blob's type attr\");\n        return previewable;\n      }\n    });\n  };\n  qq.Identify.prototype.PREVIEWABLE_MIME_TYPES = {\n    \"image/jpeg\": \"ffd8ff\",\n    \"image/gif\": \"474946\",\n    \"image/png\": \"89504e\",\n    \"image/bmp\": \"424d\",\n    \"image/tiff\": [\"49492a00\", \"4d4d002a\"]\n  };\n  qq.ImageValidation = function (blob, log) {\n    \"use strict\";\n\n    function hasNonZeroLimits(limits) {\n      var atLeastOne = false;\n      qq.each(limits, function (limit, value) {\n        if (value > 0) {\n          atLeastOne = true;\n          return false;\n        }\n      });\n      return atLeastOne;\n    }\n    function getWidthHeight() {\n      var sizeDetermination = new qq.Promise();\n      new qq.Identify(blob, log).isPreviewable().then(function () {\n        var image = new Image(),\n          url = window.URL && window.URL.createObjectURL ? window.URL : window.webkitURL && window.webkitURL.createObjectURL ? window.webkitURL : null;\n        if (url) {\n          image.onerror = function () {\n            log(\"Cannot determine dimensions for image.  May be too large.\", \"error\");\n            sizeDetermination.failure();\n          };\n          image.onload = function () {\n            sizeDetermination.success({\n              width: this.width,\n              height: this.height\n            });\n          };\n          image.src = url.createObjectURL(blob);\n        } else {\n          log(\"No createObjectURL function available to generate image URL!\", \"error\");\n          sizeDetermination.failure();\n        }\n      }, sizeDetermination.failure);\n      return sizeDetermination;\n    }\n    function getFailingLimit(limits, dimensions) {\n      var failingLimit;\n      qq.each(limits, function (limitName, limitValue) {\n        if (limitValue > 0) {\n          var limitMatcher = /(max|min)(Width|Height)/.exec(limitName),\n            dimensionPropName = limitMatcher[2].charAt(0).toLowerCase() + limitMatcher[2].slice(1),\n            actualValue = dimensions[dimensionPropName];\n          switch (limitMatcher[1]) {\n            case \"min\":\n              if (actualValue < limitValue) {\n                failingLimit = limitName;\n                return false;\n              }\n              break;\n            case \"max\":\n              if (actualValue > limitValue) {\n                failingLimit = limitName;\n                return false;\n              }\n              break;\n          }\n        }\n      });\n      return failingLimit;\n    }\n    this.validate = function (limits) {\n      var validationEffort = new qq.Promise();\n      log(\"Attempting to validate image.\");\n      if (hasNonZeroLimits(limits)) {\n        getWidthHeight().then(function (dimensions) {\n          var failingLimit = getFailingLimit(limits, dimensions);\n          if (failingLimit) {\n            validationEffort.failure(failingLimit);\n          } else {\n            validationEffort.success();\n          }\n        }, validationEffort.success);\n      } else {\n        validationEffort.success();\n      }\n      return validationEffort;\n    };\n  };\n  qq.Session = function (spec) {\n    \"use strict\";\n\n    var options = {\n      endpoint: null,\n      params: {},\n      customHeaders: {},\n      cors: {},\n      addFileRecord: function addFileRecord(sessionData) {},\n      log: function log(message, level) {}\n    };\n    qq.extend(options, spec, true);\n    function isJsonResponseValid(response) {\n      if (qq.isArray(response)) {\n        return true;\n      }\n      options.log(\"Session response is not an array.\", \"error\");\n    }\n    function handleFileItems(fileItems, success, xhrOrXdr, promise) {\n      var someItemsIgnored = false;\n      success = success && isJsonResponseValid(fileItems);\n      if (success) {\n        qq.each(fileItems, function (idx, fileItem) {\n          if (fileItem.uuid == null) {\n            someItemsIgnored = true;\n            options.log(qq.format(\"Session response item {} did not include a valid UUID - ignoring.\", idx), \"error\");\n          } else if (fileItem.name == null) {\n            someItemsIgnored = true;\n            options.log(qq.format(\"Session response item {} did not include a valid name - ignoring.\", idx), \"error\");\n          } else {\n            try {\n              options.addFileRecord(fileItem);\n              return true;\n            } catch (err) {\n              someItemsIgnored = true;\n              options.log(err.message, \"error\");\n            }\n          }\n          return false;\n        });\n      }\n      promise[success && !someItemsIgnored ? \"success\" : \"failure\"](fileItems, xhrOrXdr);\n    }\n    this.refresh = function () {\n      var refreshEffort = new qq.Promise(),\n        refreshCompleteCallback = function refreshCompleteCallback(response, success, xhrOrXdr) {\n          handleFileItems(response, success, xhrOrXdr, refreshEffort);\n        },\n        requesterOptions = qq.extend({}, options),\n        requester = new qq.SessionAjaxRequester(qq.extend(requesterOptions, {\n          onComplete: refreshCompleteCallback\n        }));\n      requester.queryServer();\n      return refreshEffort;\n    };\n  };\n  qq.SessionAjaxRequester = function (spec) {\n    \"use strict\";\n\n    var requester,\n      options = {\n        endpoint: null,\n        customHeaders: {},\n        params: {},\n        cors: {\n          expected: false,\n          sendCredentials: false\n        },\n        onComplete: function onComplete(response, success, xhrOrXdr) {},\n        log: function log(str, level) {}\n      };\n    qq.extend(options, spec);\n    function onComplete(id, xhrOrXdr, isError) {\n      var response = null;\n      if (xhrOrXdr.responseText != null) {\n        try {\n          response = qq.parseJson(xhrOrXdr.responseText);\n        } catch (err) {\n          options.log(\"Problem parsing session response: \" + err.message, \"error\");\n          isError = true;\n        }\n      }\n      options.onComplete(response, !isError, xhrOrXdr);\n    }\n    requester = qq.extend(this, new qq.AjaxRequester({\n      acceptHeader: \"application/json\",\n      validMethods: [\"GET\"],\n      method: \"GET\",\n      endpointStore: {\n        get: function get() {\n          return options.endpoint;\n        }\n      },\n      customHeaders: options.customHeaders,\n      log: options.log,\n      onComplete: onComplete,\n      cors: options.cors\n    }));\n    qq.extend(this, {\n      queryServer: function queryServer() {\n        var params = qq.extend({}, options.params);\n        options.log(\"Session query request.\");\n        requester.initTransport(\"sessionRefresh\").withParams(params).withCacheBuster().send();\n      }\n    });\n  };\n  qq.Scaler = function (spec, log) {\n    \"use strict\";\n\n    var self = this,\n      customResizeFunction = spec.customResizer,\n      includeOriginal = spec.sendOriginal,\n      orient = spec.orient,\n      defaultType = spec.defaultType,\n      defaultQuality = spec.defaultQuality / 100,\n      failedToScaleText = spec.failureText,\n      includeExif = spec.includeExif,\n      sizes = this._getSortedSizes(spec.sizes);\n    qq.extend(this, {\n      enabled: qq.supportedFeatures.scaling && sizes.length > 0,\n      getFileRecords: function getFileRecords(originalFileUuid, originalFileName, originalBlobOrBlobData) {\n        var self = this,\n          records = [],\n          originalBlob = originalBlobOrBlobData.blob ? originalBlobOrBlobData.blob : originalBlobOrBlobData,\n          identifier = new qq.Identify(originalBlob, log);\n        if (identifier.isPreviewableSync()) {\n          qq.each(sizes, function (idx, sizeRecord) {\n            var outputType = self._determineOutputType({\n              defaultType: defaultType,\n              requestedType: sizeRecord.type,\n              refType: originalBlob.type\n            });\n            records.push({\n              uuid: qq.getUniqueId(),\n              name: self._getName(originalFileName, {\n                name: sizeRecord.name,\n                type: outputType,\n                refType: originalBlob.type\n              }),\n              blob: new qq.BlobProxy(originalBlob, qq.bind(self._generateScaledImage, self, {\n                customResizeFunction: customResizeFunction,\n                maxSize: sizeRecord.maxSize,\n                orient: orient,\n                type: outputType,\n                quality: defaultQuality,\n                failedText: failedToScaleText,\n                includeExif: includeExif,\n                log: log\n              }))\n            });\n          });\n          records.push({\n            uuid: originalFileUuid,\n            name: originalFileName,\n            size: originalBlob.size,\n            blob: includeOriginal ? originalBlob : null\n          });\n        } else {\n          records.push({\n            uuid: originalFileUuid,\n            name: originalFileName,\n            size: originalBlob.size,\n            blob: originalBlob\n          });\n        }\n        return records;\n      },\n      handleNewFile: function handleNewFile(file, name, uuid, size, fileList, batchId, uuidParamName, api) {\n        var self = this,\n          buttonId = file.qqButtonId || file.blob && file.blob.qqButtonId,\n          scaledIds = [],\n          originalId = null,\n          addFileToHandler = api.addFileToHandler,\n          uploadData = api.uploadData,\n          paramsStore = api.paramsStore,\n          proxyGroupId = qq.getUniqueId();\n        qq.each(self.getFileRecords(uuid, name, file), function (idx, record) {\n          var blobSize = record.size,\n            id;\n          if (record.blob instanceof qq.BlobProxy) {\n            blobSize = -1;\n          }\n          id = uploadData.addFile({\n            uuid: record.uuid,\n            name: record.name,\n            size: blobSize,\n            batchId: batchId,\n            proxyGroupId: proxyGroupId\n          });\n          if (record.blob instanceof qq.BlobProxy) {\n            scaledIds.push(id);\n          } else {\n            originalId = id;\n          }\n          if (record.blob) {\n            addFileToHandler(id, record.blob);\n            fileList.push({\n              id: id,\n              file: record.blob\n            });\n          } else {\n            uploadData.setStatus(id, qq.status.REJECTED);\n          }\n        });\n        if (originalId !== null) {\n          qq.each(scaledIds, function (idx, scaledId) {\n            var params = {\n              qqparentuuid: uploadData.retrieve({\n                id: originalId\n              }).uuid,\n              qqparentsize: uploadData.retrieve({\n                id: originalId\n              }).size\n            };\n            params[uuidParamName] = uploadData.retrieve({\n              id: scaledId\n            }).uuid;\n            uploadData.setParentId(scaledId, originalId);\n            paramsStore.addReadOnly(scaledId, params);\n          });\n          if (scaledIds.length) {\n            (function () {\n              var param = {};\n              param[uuidParamName] = uploadData.retrieve({\n                id: originalId\n              }).uuid;\n              paramsStore.addReadOnly(originalId, param);\n            })();\n          }\n        }\n      }\n    });\n  };\n  qq.extend(qq.Scaler.prototype, {\n    scaleImage: function scaleImage(id, specs, api) {\n      \"use strict\";\n\n      if (!qq.supportedFeatures.scaling) {\n        throw new qq.Error(\"Scaling is not supported in this browser!\");\n      }\n      var scalingEffort = new qq.Promise(),\n        log = api.log,\n        file = api.getFile(id),\n        uploadData = api.uploadData.retrieve({\n          id: id\n        }),\n        name = uploadData && uploadData.name,\n        uuid = uploadData && uploadData.uuid,\n        scalingOptions = {\n          customResizer: specs.customResizer,\n          sendOriginal: false,\n          orient: specs.orient,\n          defaultType: specs.type || null,\n          defaultQuality: specs.quality,\n          failedToScaleText: \"Unable to scale\",\n          sizes: [{\n            name: \"\",\n            maxSize: specs.maxSize\n          }]\n        },\n        scaler = new qq.Scaler(scalingOptions, log);\n      if (!qq.Scaler || !qq.supportedFeatures.imagePreviews || !file) {\n        scalingEffort.failure();\n        log(\"Could not generate requested scaled image for \" + id + \".  \" + \"Scaling is either not possible in this browser, or the file could not be located.\", \"error\");\n      } else {\n        qq.bind(function () {\n          var record = scaler.getFileRecords(uuid, name, file)[0];\n          if (record && record.blob instanceof qq.BlobProxy) {\n            record.blob.create().then(scalingEffort.success, scalingEffort.failure);\n          } else {\n            log(id + \" is not a scalable image!\", \"error\");\n            scalingEffort.failure();\n          }\n        }, this)();\n      }\n      return scalingEffort;\n    },\n    _determineOutputType: function _determineOutputType(spec) {\n      \"use strict\";\n\n      var requestedType = spec.requestedType,\n        defaultType = spec.defaultType,\n        referenceType = spec.refType;\n      if (!defaultType && !requestedType) {\n        if (referenceType !== \"image/jpeg\") {\n          return \"image/png\";\n        }\n        return referenceType;\n      }\n      if (!requestedType) {\n        return defaultType;\n      }\n      if (qq.indexOf(Object.keys(qq.Identify.prototype.PREVIEWABLE_MIME_TYPES), requestedType) >= 0) {\n        if (requestedType === \"image/tiff\") {\n          return qq.supportedFeatures.tiffPreviews ? requestedType : defaultType;\n        }\n        return requestedType;\n      }\n      return defaultType;\n    },\n    _getName: function _getName(originalName, scaledVersionProperties) {\n      \"use strict\";\n\n      var startOfExt = originalName.lastIndexOf(\".\"),\n        versionType = scaledVersionProperties.type || \"image/png\",\n        referenceType = scaledVersionProperties.refType,\n        scaledName = \"\",\n        scaledExt = qq.getExtension(originalName),\n        nameAppendage = \"\";\n      if (scaledVersionProperties.name && scaledVersionProperties.name.trim().length) {\n        nameAppendage = \" (\" + scaledVersionProperties.name + \")\";\n      }\n      if (startOfExt >= 0) {\n        scaledName = originalName.substr(0, startOfExt);\n        if (referenceType !== versionType) {\n          scaledExt = versionType.split(\"/\")[1];\n        }\n        scaledName += nameAppendage + \".\" + scaledExt;\n      } else {\n        scaledName = originalName + nameAppendage;\n      }\n      return scaledName;\n    },\n    _getSortedSizes: function _getSortedSizes(sizes) {\n      \"use strict\";\n\n      sizes = qq.extend([], sizes);\n      return sizes.sort(function (a, b) {\n        if (a.maxSize > b.maxSize) {\n          return 1;\n        }\n        if (a.maxSize < b.maxSize) {\n          return -1;\n        }\n        return 0;\n      });\n    },\n    _generateScaledImage: function _generateScaledImage(spec, sourceFile) {\n      \"use strict\";\n\n      var self = this,\n        customResizeFunction = spec.customResizeFunction,\n        log = spec.log,\n        maxSize = spec.maxSize,\n        orient = spec.orient,\n        type = spec.type,\n        quality = spec.quality,\n        failedText = spec.failedText,\n        includeExif = spec.includeExif && sourceFile.type === \"image/jpeg\" && type === \"image/jpeg\",\n        scalingEffort = new qq.Promise(),\n        imageGenerator = new qq.ImageGenerator(log),\n        canvas = document.createElement(\"canvas\");\n      log(\"Attempting to generate scaled version for \" + sourceFile.name);\n      imageGenerator.generate(sourceFile, canvas, {\n        maxSize: maxSize,\n        orient: orient,\n        customResizeFunction: customResizeFunction\n      }).then(function () {\n        var scaledImageDataUri = canvas.toDataURL(type, quality),\n          signalSuccess = function signalSuccess() {\n            log(\"Success generating scaled version for \" + sourceFile.name);\n            var blob = qq.dataUriToBlob(scaledImageDataUri);\n            scalingEffort.success(blob);\n          };\n        if (includeExif) {\n          self._insertExifHeader(sourceFile, scaledImageDataUri, log).then(function (scaledImageDataUriWithExif) {\n            scaledImageDataUri = scaledImageDataUriWithExif;\n            signalSuccess();\n          }, function () {\n            log(\"Problem inserting EXIF header into scaled image.  Using scaled image w/out EXIF data.\", \"error\");\n            signalSuccess();\n          });\n        } else {\n          signalSuccess();\n        }\n      }, function () {\n        log(\"Failed attempt to generate scaled version for \" + sourceFile.name, \"error\");\n        scalingEffort.failure(failedText);\n      });\n      return scalingEffort;\n    },\n    _insertExifHeader: function _insertExifHeader(originalImage, scaledImageDataUri, log) {\n      \"use strict\";\n\n      var reader = new FileReader(),\n        insertionEffort = new qq.Promise(),\n        originalImageDataUri = \"\";\n      reader.onload = function () {\n        originalImageDataUri = reader.result;\n        insertionEffort.success(qq.ExifRestorer.restore(originalImageDataUri, scaledImageDataUri));\n      };\n      reader.onerror = function () {\n        log(\"Problem reading \" + originalImage.name + \" during attempt to transfer EXIF data to scaled version.\", \"error\");\n        insertionEffort.failure();\n      };\n      reader.readAsDataURL(originalImage);\n      return insertionEffort;\n    },\n    _dataUriToBlob: function _dataUriToBlob(dataUri) {\n      \"use strict\";\n\n      var byteString, mimeString, arrayBuffer, intArray;\n      if (dataUri.split(\",\")[0].indexOf(\"base64\") >= 0) {\n        byteString = atob(dataUri.split(\",\")[1]);\n      } else {\n        byteString = decodeURI(dataUri.split(\",\")[1]);\n      }\n      mimeString = dataUri.split(\",\")[0].split(\":\")[1].split(\";\")[0];\n      arrayBuffer = new ArrayBuffer(byteString.length);\n      intArray = new Uint8Array(arrayBuffer);\n      qq.each(byteString, function (idx, character) {\n        intArray[idx] = character.charCodeAt(0);\n      });\n      return this._createBlob(arrayBuffer, mimeString);\n    },\n    _createBlob: function _createBlob(data, mime) {\n      \"use strict\";\n\n      var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder,\n        blobBuilder = BlobBuilder && new BlobBuilder();\n      if (blobBuilder) {\n        blobBuilder.append(data);\n        return blobBuilder.getBlob(mime);\n      } else {\n        return new Blob([data], {\n          type: mime\n        });\n      }\n    }\n  });\n  qq.ExifRestorer = function () {\n    var ExifRestorer = {};\n    ExifRestorer.KEY_STR = \"ABCDEFGHIJKLMNOP\" + \"QRSTUVWXYZabcdef\" + \"ghijklmnopqrstuv\" + \"wxyz0123456789+/\" + \"=\";\n    ExifRestorer.encode64 = function (input) {\n      var output = \"\",\n        chr1,\n        chr2,\n        chr3 = \"\",\n        enc1,\n        enc2,\n        enc3,\n        enc4 = \"\",\n        i = 0;\n      do {\n        chr1 = input[i++];\n        chr2 = input[i++];\n        chr3 = input[i++];\n        enc1 = chr1 >> 2;\n        enc2 = (chr1 & 3) << 4 | chr2 >> 4;\n        enc3 = (chr2 & 15) << 2 | chr3 >> 6;\n        enc4 = chr3 & 63;\n        if (isNaN(chr2)) {\n          enc3 = enc4 = 64;\n        } else if (isNaN(chr3)) {\n          enc4 = 64;\n        }\n        output = output + this.KEY_STR.charAt(enc1) + this.KEY_STR.charAt(enc2) + this.KEY_STR.charAt(enc3) + this.KEY_STR.charAt(enc4);\n        chr1 = chr2 = chr3 = \"\";\n        enc1 = enc2 = enc3 = enc4 = \"\";\n      } while (i < input.length);\n      return output;\n    };\n    ExifRestorer.restore = function (origFileBase64, resizedFileBase64) {\n      var expectedBase64Header = \"data:image/jpeg;base64,\";\n      if (!origFileBase64.match(expectedBase64Header)) {\n        return resizedFileBase64;\n      }\n      var rawImage = this.decode64(origFileBase64.replace(expectedBase64Header, \"\"));\n      var segments = this.slice2Segments(rawImage);\n      var image = this.exifManipulation(resizedFileBase64, segments);\n      return expectedBase64Header + this.encode64(image);\n    };\n    ExifRestorer.exifManipulation = function (resizedFileBase64, segments) {\n      var exifArray = this.getExifArray(segments),\n        newImageArray = this.insertExif(resizedFileBase64, exifArray),\n        aBuffer = new Uint8Array(newImageArray);\n      return aBuffer;\n    };\n    ExifRestorer.getExifArray = function (segments) {\n      var seg;\n      for (var x = 0; x < segments.length; x++) {\n        seg = segments[x];\n        if (seg[0] == 255 & seg[1] == 225) {\n          return seg;\n        }\n      }\n      return [];\n    };\n    ExifRestorer.insertExif = function (resizedFileBase64, exifArray) {\n      var imageData = resizedFileBase64.replace(\"data:image/jpeg;base64,\", \"\"),\n        buf = this.decode64(imageData),\n        separatePoint = buf.indexOf(255, 3),\n        mae = buf.slice(0, separatePoint),\n        ato = buf.slice(separatePoint),\n        array = mae;\n      array = array.concat(exifArray);\n      array = array.concat(ato);\n      return array;\n    };\n    ExifRestorer.slice2Segments = function (rawImageArray) {\n      var head = 0,\n        segments = [];\n      while (1) {\n        if (rawImageArray[head] == 255 & rawImageArray[head + 1] == 218) {\n          break;\n        }\n        if (rawImageArray[head] == 255 & rawImageArray[head + 1] == 216) {\n          head += 2;\n        } else {\n          var length = rawImageArray[head + 2] * 256 + rawImageArray[head + 3],\n            endPoint = head + length + 2,\n            seg = rawImageArray.slice(head, endPoint);\n          segments.push(seg);\n          head = endPoint;\n        }\n        if (head > rawImageArray.length) {\n          break;\n        }\n      }\n      return segments;\n    };\n    ExifRestorer.decode64 = function (input) {\n      var output = \"\",\n        chr1,\n        chr2,\n        chr3 = \"\",\n        enc1,\n        enc2,\n        enc3,\n        enc4 = \"\",\n        i = 0,\n        buf = [];\n      var base64test = /[^A-Za-z0-9\\+\\/\\=]/g;\n      if (base64test.exec(input)) {\n        throw new Error(\"There were invalid base64 characters in the input text.  \" + \"Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\");\n      }\n      input = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");\n      do {\n        enc1 = this.KEY_STR.indexOf(input.charAt(i++));\n        enc2 = this.KEY_STR.indexOf(input.charAt(i++));\n        enc3 = this.KEY_STR.indexOf(input.charAt(i++));\n        enc4 = this.KEY_STR.indexOf(input.charAt(i++));\n        chr1 = enc1 << 2 | enc2 >> 4;\n        chr2 = (enc2 & 15) << 4 | enc3 >> 2;\n        chr3 = (enc3 & 3) << 6 | enc4;\n        buf.push(chr1);\n        if (enc3 != 64) {\n          buf.push(chr2);\n        }\n        if (enc4 != 64) {\n          buf.push(chr3);\n        }\n        chr1 = chr2 = chr3 = \"\";\n        enc1 = enc2 = enc3 = enc4 = \"\";\n      } while (i < input.length);\n      return buf;\n    };\n    return ExifRestorer;\n  }();\n  qq.TotalProgress = function (callback, getSize) {\n    \"use strict\";\n\n    var perFileProgress = {},\n      totalLoaded = 0,\n      totalSize = 0,\n      lastLoadedSent = -1,\n      lastTotalSent = -1,\n      callbackProxy = function callbackProxy(loaded, total) {\n        if (loaded !== lastLoadedSent || total !== lastTotalSent) {\n          callback(loaded, total);\n        }\n        lastLoadedSent = loaded;\n        lastTotalSent = total;\n      },\n      noRetryableFiles = function noRetryableFiles(failed, retryable) {\n        var none = true;\n        qq.each(failed, function (idx, failedId) {\n          if (qq.indexOf(retryable, failedId) >= 0) {\n            none = false;\n            return false;\n          }\n        });\n        return none;\n      },\n      onCancel = function onCancel(id) {\n        updateTotalProgress(id, -1, -1);\n        delete perFileProgress[id];\n      },\n      onAllComplete = function onAllComplete(successful, failed, retryable) {\n        if (failed.length === 0 || noRetryableFiles(failed, retryable)) {\n          callbackProxy(totalSize, totalSize);\n          this.reset();\n        }\n      },\n      onNew = function onNew(id) {\n        var size = getSize(id);\n        if (size > 0) {\n          updateTotalProgress(id, 0, size);\n          perFileProgress[id] = {\n            loaded: 0,\n            total: size\n          };\n        }\n      },\n      updateTotalProgress = function updateTotalProgress(id, newLoaded, newTotal) {\n        var oldLoaded = perFileProgress[id] ? perFileProgress[id].loaded : 0,\n          oldTotal = perFileProgress[id] ? perFileProgress[id].total : 0;\n        if (newLoaded === -1 && newTotal === -1) {\n          totalLoaded -= oldLoaded;\n          totalSize -= oldTotal;\n        } else {\n          if (newLoaded) {\n            totalLoaded += newLoaded - oldLoaded;\n          }\n          if (newTotal) {\n            totalSize += newTotal - oldTotal;\n          }\n        }\n        callbackProxy(totalLoaded, totalSize);\n      };\n    qq.extend(this, {\n      onAllComplete: onAllComplete,\n      onStatusChange: function onStatusChange(id, oldStatus, newStatus) {\n        if (newStatus === qq.status.CANCELED || newStatus === qq.status.REJECTED) {\n          onCancel(id);\n        } else if (newStatus === qq.status.SUBMITTING) {\n          onNew(id);\n        }\n      },\n      onIndividualProgress: function onIndividualProgress(id, loaded, total) {\n        updateTotalProgress(id, loaded, total);\n        perFileProgress[id] = {\n          loaded: loaded,\n          total: total\n        };\n      },\n      onNewSize: function onNewSize(id) {\n        onNew(id);\n      },\n      reset: function reset() {\n        perFileProgress = {};\n        totalLoaded = 0;\n        totalSize = 0;\n      }\n    });\n  };\n  qq.PasteSupport = function (o) {\n    \"use strict\";\n\n    var options, detachPasteHandler;\n    options = {\n      targetElement: null,\n      callbacks: {\n        log: function log(message, level) {},\n        pasteReceived: function pasteReceived(blob) {}\n      }\n    };\n    function isImage(item) {\n      return item.type && item.type.indexOf(\"image/\") === 0;\n    }\n    function registerPasteHandler() {\n      detachPasteHandler = qq(options.targetElement).attach(\"paste\", function (event) {\n        var clipboardData = event.clipboardData;\n        if (clipboardData) {\n          qq.each(clipboardData.items, function (idx, item) {\n            if (isImage(item)) {\n              var blob = item.getAsFile();\n              options.callbacks.pasteReceived(blob);\n            }\n          });\n        }\n      });\n    }\n    function unregisterPasteHandler() {\n      if (detachPasteHandler) {\n        detachPasteHandler();\n      }\n    }\n    qq.extend(options, o);\n    registerPasteHandler();\n    qq.extend(this, {\n      reset: function reset() {\n        unregisterPasteHandler();\n      }\n    });\n  };\n  qq.FormSupport = function (options, startUpload, log) {\n    \"use strict\";\n\n    var self = this,\n      interceptSubmit = options.interceptSubmit,\n      formEl = options.element,\n      autoUpload = options.autoUpload;\n    qq.extend(this, {\n      newEndpoint: null,\n      newAutoUpload: autoUpload,\n      attachedToForm: false,\n      getFormInputsAsObject: function getFormInputsAsObject() {\n        if (formEl == null) {\n          return null;\n        }\n        return self._form2Obj(formEl);\n      }\n    });\n    function determineNewEndpoint(formEl) {\n      if (formEl.getAttribute(\"action\")) {\n        self.newEndpoint = formEl.getAttribute(\"action\");\n      }\n    }\n    function validateForm(formEl, nativeSubmit) {\n      if (formEl.checkValidity && !formEl.checkValidity()) {\n        log(\"Form did not pass validation checks - will not upload.\", \"error\");\n        nativeSubmit();\n      } else {\n        return true;\n      }\n    }\n    function maybeUploadOnSubmit(formEl) {\n      var nativeSubmit = formEl.submit;\n      qq(formEl).attach(\"submit\", function (event) {\n        event = event || window.event;\n        if (event.preventDefault) {\n          event.preventDefault();\n        } else {\n          event.returnValue = false;\n        }\n        validateForm(formEl, nativeSubmit) && startUpload();\n      });\n      formEl.submit = function () {\n        validateForm(formEl, nativeSubmit) && startUpload();\n      };\n    }\n    function determineFormEl(formEl) {\n      if (formEl) {\n        if (qq.isString(formEl)) {\n          formEl = document.getElementById(formEl);\n        }\n        if (formEl) {\n          log(\"Attaching to form element.\");\n          determineNewEndpoint(formEl);\n          interceptSubmit && maybeUploadOnSubmit(formEl);\n        }\n      }\n      return formEl;\n    }\n    formEl = determineFormEl(formEl);\n    this.attachedToForm = !!formEl;\n  };\n  qq.extend(qq.FormSupport.prototype, {\n    _form2Obj: function _form2Obj(form) {\n      \"use strict\";\n\n      var obj = {},\n        notIrrelevantType = function notIrrelevantType(type) {\n          var irrelevantTypes = [\"button\", \"image\", \"reset\", \"submit\"];\n          return qq.indexOf(irrelevantTypes, type.toLowerCase()) < 0;\n        },\n        radioOrCheckbox = function radioOrCheckbox(type) {\n          return qq.indexOf([\"checkbox\", \"radio\"], type.toLowerCase()) >= 0;\n        },\n        ignoreValue = function ignoreValue(el) {\n          if (radioOrCheckbox(el.type) && !el.checked) {\n            return true;\n          }\n          return el.disabled && el.type.toLowerCase() !== \"hidden\";\n        },\n        selectValue = function selectValue(select) {\n          var value = null;\n          qq.each(qq(select).children(), function (idx, child) {\n            if (child.tagName.toLowerCase() === \"option\" && child.selected) {\n              value = child.value;\n              return false;\n            }\n          });\n          return value;\n        };\n      qq.each(form.elements, function (idx, el) {\n        if ((qq.isInput(el, true) || el.tagName.toLowerCase() === \"textarea\") && notIrrelevantType(el.type) && !ignoreValue(el)) {\n          obj[el.name] = el.value;\n        } else if (el.tagName.toLowerCase() === \"select\" && !ignoreValue(el)) {\n          var value = selectValue(el);\n          if (value !== null) {\n            obj[el.name] = value;\n          }\n        }\n      });\n      return obj;\n    }\n  });\n  qq.traditional = qq.traditional || {};\n  qq.traditional.FormUploadHandler = function (options, proxy) {\n    \"use strict\";\n\n    var handler = this,\n      getName = proxy.getName,\n      getUuid = proxy.getUuid,\n      log = proxy.log;\n    function getIframeContentJson(id, iframe) {\n      var response, doc, innerHtml;\n      try {\n        doc = iframe.contentDocument || iframe.contentWindow.document;\n        innerHtml = doc.body.innerHTML;\n        log(\"converting iframe's innerHTML to JSON\");\n        log(\"innerHTML = \" + innerHtml);\n        if (innerHtml && innerHtml.match(/^<pre/i)) {\n          innerHtml = doc.body.firstChild.firstChild.nodeValue;\n        }\n        response = handler._parseJsonResponse(innerHtml);\n      } catch (error) {\n        log(\"Error when attempting to parse form upload response (\" + error.message + \")\", \"error\");\n        response = {\n          success: false\n        };\n      }\n      return response;\n    }\n    function createForm(id, iframe) {\n      var params = options.paramsStore.get(id),\n        method = options.method.toLowerCase() === \"get\" ? \"GET\" : \"POST\",\n        endpoint = options.endpointStore.get(id),\n        name = getName(id);\n      params[options.uuidName] = getUuid(id);\n      params[options.filenameParam] = name;\n      return handler._initFormForUpload({\n        method: method,\n        endpoint: endpoint,\n        params: params,\n        paramsInBody: options.paramsInBody,\n        targetName: iframe.name\n      });\n    }\n    this.uploadFile = function (id) {\n      var input = handler.getInput(id),\n        iframe = handler._createIframe(id),\n        promise = new qq.Promise(),\n        form;\n      form = createForm(id, iframe);\n      input.name = this._options.request.inputName;\n      form.appendChild(input);\n      var dest = document.createElement('input');\n      dest.type = 'text';\n      dest.name = 'dest';\n      dest.value = this._options.request.dest;\n      form.appendChild(dest);\n      var csrfmiddlewaretoken = document.createElement('input');\n      csrfmiddlewaretoken.type = 'hidden';\n      csrfmiddlewaretoken.name = 'csrfmiddlewaretoken';\n      csrfmiddlewaretoken.value = \"${request and request.COOKIES.get('csrftoken', '')}\";\n      form.appendChild(csrfmiddlewaretoken);\n      handler._attachLoadEvent(iframe, function (responseFromMessage) {\n        log(\"iframe loaded\");\n        var response = responseFromMessage ? responseFromMessage : getIframeContentJson(id, iframe);\n        handler._detachLoadEvent(id);\n        if (!options.cors.expected) {\n          qq(iframe).remove();\n        }\n        if (response.success) {\n          promise.success(response);\n        } else {\n          promise.failure(response);\n        }\n      });\n      log(\"Sending upload request for \" + id);\n      form.submit();\n      qq(form).remove();\n      return promise;\n    };\n    qq.extend(this, new qq.FormUploadHandler({\n      options: {\n        isCors: options.cors.expected,\n        inputName: options.inputName\n      },\n      proxy: {\n        onCancel: options.onCancel,\n        getName: getName,\n        getUuid: getUuid,\n        log: log\n      }\n    }));\n  };\n  qq.traditional = qq.traditional || {};\n  qq.traditional.XhrUploadHandler = function (spec, proxy) {\n    \"use strict\";\n\n    var handler = this,\n      getName = proxy.getName,\n      getSize = proxy.getSize,\n      getUuid = proxy.getUuid,\n      log = proxy.log,\n      multipart = spec.forceMultipart || spec.paramsInBody,\n      addChunkingSpecificParams = function addChunkingSpecificParams(id, params, chunkData) {\n        var size = getSize(id),\n          name = getName(id);\n        if (!spec.omitDefaultParams) {\n          params[spec.chunking.paramNames.partIndex] = chunkData.part;\n          params[spec.chunking.paramNames.partByteOffset] = chunkData.start;\n          params[spec.chunking.paramNames.chunkSize] = chunkData.size;\n          params[spec.chunking.paramNames.totalParts] = chunkData.count;\n          params[spec.totalFileSizeName] = size;\n        }\n        if (multipart && !spec.omitDefaultParams) {\n          params[spec.filenameParam] = name;\n        }\n      },\n      allChunksDoneRequester = new qq.traditional.AllChunksDoneAjaxRequester({\n        cors: spec.cors,\n        endpoint: spec.chunking.success.endpoint,\n        headers: spec.chunking.success.headers,\n        jsonPayload: spec.chunking.success.jsonPayload,\n        log: log,\n        method: spec.chunking.success.method,\n        params: spec.chunking.success.params\n      }),\n      createReadyStateChangedHandler = function createReadyStateChangedHandler(id, xhr) {\n        var promise = new qq.Promise();\n        xhr.onreadystatechange = function () {\n          if (xhr.readyState === 4) {\n            var result = onUploadOrChunkComplete(id, xhr);\n            if (result.success) {\n              promise.success(result.response, xhr);\n            } else {\n              promise.failure(result.response, xhr);\n            }\n          }\n        };\n        return promise;\n      },\n      getChunksCompleteParams = function getChunksCompleteParams(id) {\n        var params = spec.paramsStore.get(id),\n          name = getName(id),\n          size = getSize(id);\n        params[spec.uuidName] = getUuid(id);\n        params[spec.filenameParam] = name;\n        params[spec.totalFileSizeName] = size;\n        params[spec.chunking.paramNames.totalParts] = handler._getTotalChunks(id);\n        return params;\n      },\n      isErrorUploadResponse = function isErrorUploadResponse(xhr, response) {\n        return qq.indexOf([200, 201, 202, 203, 204], xhr.status) < 0 || spec.requireSuccessJson && !response.success || response.reset;\n      },\n      onUploadOrChunkComplete = function onUploadOrChunkComplete(id, xhr) {\n        var response;\n        log(\"xhr - server response received for \" + id);\n        log(\"responseText = \" + xhr.responseText);\n        response = parseResponse(true, xhr);\n        return {\n          success: !isErrorUploadResponse(xhr, response),\n          response: response\n        };\n      },\n      parseResponse = function parseResponse(upload, xhr) {\n        var response = {};\n        try {\n          log(qq.format(\"Received response status {} with body: {}\", xhr.status, xhr.responseText));\n          response = qq.parseJson(xhr.responseText);\n        } catch (error) {\n          upload && spec.requireSuccessJson && log(\"Error when attempting to parse xhr response text (\" + error.message + \")\", \"error\");\n        }\n        return response;\n      },\n      sendChunksCompleteRequest = function sendChunksCompleteRequest(id) {\n        var promise = new qq.Promise();\n        allChunksDoneRequester.complete(id, handler._createXhr(id), getChunksCompleteParams(id), spec.customHeaders.get(id)).then(function (xhr) {\n          promise.success(parseResponse(false, xhr), xhr);\n        }, function (xhr) {\n          promise.failure(parseResponse(false, xhr), xhr);\n        });\n        return promise;\n      },\n      setParamsAndGetEntityToSend = function setParamsAndGetEntityToSend(entityToSendParams) {\n        var fileOrBlob = entityToSendParams.fileOrBlob;\n        var id = entityToSendParams.id;\n        var xhr = entityToSendParams.xhr;\n        var xhrOverrides = entityToSendParams.xhrOverrides || {};\n        var customParams = entityToSendParams.customParams || {};\n        var defaultParams = entityToSendParams.params || {};\n        var xhrOverrideParams = xhrOverrides.params || {};\n        var params;\n        var formData = multipart ? new FormData() : null,\n          method = xhrOverrides.method || spec.method,\n          endpoint = xhrOverrides.endpoint || spec.endpointStore.get(id),\n          name = getName(id),\n          size = getSize(id);\n        if (spec.omitDefaultParams) {\n          params = qq.extend({}, customParams);\n          qq.extend(params, xhrOverrideParams);\n        } else {\n          params = qq.extend({}, customParams);\n          qq.extend(params, xhrOverrideParams);\n          qq.extend(params, defaultParams);\n          params[spec.uuidName] = getUuid(id);\n          params[spec.filenameParam] = name;\n          if (multipart) {\n            params[spec.totalFileSizeName] = size;\n          } else if (!spec.paramsInBody) {\n            params[spec.inputName] = name;\n          }\n        }\n\n        // var customQueryParams = {\n        //     dest: \"/\",\n        //     inputName: \"hdfs_file\"\n        // };\n        // var queryString = qq.obj2url(customQueryParams);\n\n        if (!spec.paramsInBody) {\n          // endpoint += (endpoint.indexOf('?') === -1 ? '?' : '&') + queryString;\n          endpoint = qq.obj2url(params, endpoint);\n        }\n        xhr.open(method, endpoint, true);\n        if (spec.cors.expected && spec.cors.sendCredentials) {\n          xhr.withCredentials = true;\n        }\n        if (multipart) {\n          if (spec.paramsInBody) {\n            qq.obj2FormData(params, formData);\n          }\n          formData.append(spec.inputName, fileOrBlob);\n          return formData;\n        }\n        return fileOrBlob;\n      },\n      setUploadHeaders = function setUploadHeaders(headersOptions) {\n        var headerOverrides = headersOptions.headerOverrides;\n        var id = headersOptions.id;\n        var xhr = headersOptions.xhr;\n        if (headerOverrides) {\n          qq.each(headerOverrides, function (headerName, headerValue) {\n            xhr.setRequestHeader(headerName, headerValue);\n          });\n        } else {\n          var extraHeaders = spec.customHeaders.get(id),\n            fileOrBlob = handler.getFile(id);\n          xhr.setRequestHeader(\"Accept\", \"application/json\");\n          xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n          xhr.setRequestHeader(\"Cache-Control\", \"no-cache\");\n          if (!multipart) {\n            xhr.setRequestHeader(\"Content-Type\", \"application/octet-stream\");\n            xhr.setRequestHeader(\"X-Mime-Type\", fileOrBlob.type);\n          }\n          qq.each(extraHeaders, function (name, val) {\n            xhr.setRequestHeader(name, val);\n          });\n        }\n      };\n    qq.extend(this, {\n      uploadChunk: function uploadChunk(uploadChunkParams) {\n        var id = uploadChunkParams.id;\n        var chunkIdx = uploadChunkParams.chunkIdx;\n        var overrides = uploadChunkParams.overrides || {};\n        var resuming = uploadChunkParams.resuming;\n        var chunkData = handler._getChunkData(id, chunkIdx),\n          xhr = handler._createXhr(id, chunkIdx),\n          promise,\n          toSend,\n          customParams,\n          params = {};\n        promise = createReadyStateChangedHandler(id, xhr);\n        handler._registerProgressHandler(id, chunkIdx, chunkData.size);\n        customParams = spec.paramsStore.get(id);\n        addChunkingSpecificParams(id, params, chunkData);\n        if (resuming) {\n          params[spec.resume.paramNames.resuming] = true;\n        }\n        toSend = setParamsAndGetEntityToSend({\n          fileOrBlob: chunkData.blob,\n          id: id,\n          customParams: customParams,\n          params: params,\n          xhr: xhr,\n          xhrOverrides: overrides\n        });\n        setUploadHeaders({\n          headerOverrides: overrides.headers,\n          id: id,\n          xhr: xhr\n        });\n        xhr.send(toSend);\n        return promise;\n      },\n      uploadFile: function uploadFile(id) {\n        var fileOrBlob = handler.getFile(id),\n          promise,\n          xhr,\n          customParams,\n          toSend;\n        xhr = handler._createXhr(id);\n        handler._registerProgressHandler(id);\n        promise = createReadyStateChangedHandler(id, xhr);\n        customParams = spec.paramsStore.get(id);\n        toSend = setParamsAndGetEntityToSend({\n          fileOrBlob: fileOrBlob,\n          id: id,\n          customParams: customParams,\n          xhr: xhr\n        });\n        setUploadHeaders({\n          id: id,\n          xhr: xhr\n        });\n        xhr.send(toSend);\n        return promise;\n      }\n    });\n    qq.extend(this, new qq.XhrUploadHandler({\n      options: qq.extend({\n        namespace: \"traditional\"\n      }, spec),\n      proxy: qq.extend({\n        getEndpoint: spec.endpointStore.get\n      }, proxy)\n    }));\n    qq.override(this, function (super_) {\n      return {\n        finalizeChunks: function finalizeChunks(id) {\n          proxy.onFinalizing(id);\n          if (spec.chunking.success.endpoint) {\n            return sendChunksCompleteRequest(id);\n          } else {\n            return super_.finalizeChunks(id, qq.bind(parseResponse, this, true));\n          }\n        }\n      };\n    });\n  };\n  qq.traditional.AllChunksDoneAjaxRequester = function (o) {\n    \"use strict\";\n\n    var requester,\n      options = {\n        cors: {\n          allowXdr: false,\n          expected: false,\n          sendCredentials: false\n        },\n        endpoint: null,\n        log: function log(str, level) {},\n        method: \"POST\"\n      },\n      promises = {},\n      endpointHandler = {\n        get: function get(id) {\n          if (qq.isFunction(options.endpoint)) {\n            return options.endpoint(id);\n          }\n          return options.endpoint;\n        }\n      };\n    qq.extend(options, o);\n    requester = qq.extend(this, new qq.AjaxRequester({\n      acceptHeader: \"application/json\",\n      contentType: options.jsonPayload ? \"application/json\" : \"application/x-www-form-urlencoded\",\n      validMethods: [options.method],\n      method: options.method,\n      endpointStore: endpointHandler,\n      allowXRequestedWithAndCacheControl: false,\n      cors: options.cors,\n      log: options.log,\n      onComplete: function onComplete(id, xhr, isError) {\n        var promise = promises[id];\n        delete promises[id];\n        if (isError) {\n          promise.failure(xhr);\n        } else {\n          promise.success(xhr);\n        }\n      }\n    }));\n    qq.extend(this, {\n      complete: function complete(id, xhr, params, headers) {\n        var promise = new qq.Promise();\n        options.log(\"Submitting All Chunks Done request for \" + id);\n        promises[id] = promise;\n        requester.initTransport(id).withParams(options.params(id) || params).withHeaders(options.headers(id) || headers).send(xhr);\n        return promise;\n      }\n    });\n  };\n  qq.DragAndDrop = function (o) {\n    \"use strict\";\n\n    var options,\n      HIDE_ZONES_EVENT_NAME = \"qq-hidezones\",\n      HIDE_BEFORE_ENTER_ATTR = \"qq-hide-dropzone\",\n      uploadDropZones = [],\n      droppedFiles = [],\n      disposeSupport = new qq.DisposeSupport();\n    options = {\n      dropZoneElements: [],\n      allowMultipleItems: true,\n      classes: {\n        dropActive: null\n      },\n      callbacks: new qq.DragAndDrop.callbacks()\n    };\n    qq.extend(options, o, true);\n    function uploadDroppedFiles(files, uploadDropZone) {\n      var filesAsArray = Array.prototype.slice.call(files);\n      options.callbacks.dropLog(\"Grabbed \" + files.length + \" dropped files.\");\n      uploadDropZone.dropDisabled(false);\n      options.callbacks.processingDroppedFilesComplete(filesAsArray, uploadDropZone.getElement());\n    }\n    function traverseFileTree(entry) {\n      var parseEntryPromise = new qq.Promise();\n      if (entry.isFile) {\n        entry.file(function (file) {\n          file.qqPath = extractDirectoryPath(entry);\n          droppedFiles.push(file);\n          parseEntryPromise.success();\n        }, function (fileError) {\n          options.callbacks.dropLog(\"Problem parsing '\" + entry.fullPath + \"'.  FileError code \" + fileError.code + \".\", \"error\");\n          parseEntryPromise.failure();\n        });\n      } else if (entry.isDirectory) {\n        getFilesInDirectory(entry).then(function allEntriesRead(entries) {\n          var entriesLeft = entries.length;\n          qq.each(entries, function (idx, entry) {\n            traverseFileTree(entry).done(function () {\n              entriesLeft -= 1;\n              if (entriesLeft === 0) {\n                parseEntryPromise.success();\n              }\n            });\n          });\n          if (!entries.length) {\n            parseEntryPromise.success();\n          }\n        }, function readFailure(fileError) {\n          options.callbacks.dropLog(\"Problem parsing '\" + entry.fullPath + \"'.  FileError code \" + fileError.code + \".\", \"error\");\n          parseEntryPromise.failure();\n        });\n      }\n      return parseEntryPromise;\n    }\n    function extractDirectoryPath(entry) {\n      var name = entry.name,\n        fullPath = entry.fullPath,\n        indexOfNameInFullPath = fullPath.lastIndexOf(name);\n      fullPath = fullPath.substr(0, indexOfNameInFullPath);\n      if (fullPath.charAt(0) === \"/\") {\n        fullPath = fullPath.substr(1);\n      }\n      return fullPath;\n    }\n    function getFilesInDirectory(entry, reader, accumEntries, existingPromise) {\n      var promise = existingPromise || new qq.Promise(),\n        dirReader = reader || entry.createReader();\n      dirReader.readEntries(function readSuccess(entries) {\n        var newEntries = accumEntries ? accumEntries.concat(entries) : entries;\n        if (entries.length) {\n          setTimeout(function () {\n            getFilesInDirectory(entry, dirReader, newEntries, promise);\n          }, 0);\n        } else {\n          promise.success(newEntries);\n        }\n      }, promise.failure);\n      return promise;\n    }\n    function handleDataTransfer(dataTransfer, uploadDropZone) {\n      var pendingFolderPromises = [],\n        handleDataTransferPromise = new qq.Promise();\n      options.callbacks.processingDroppedFiles();\n      uploadDropZone.dropDisabled(true);\n      if (dataTransfer.files.length > 1 && !options.allowMultipleItems) {\n        options.callbacks.processingDroppedFilesComplete([]);\n        options.callbacks.dropError(\"tooManyFilesError\", \"\");\n        uploadDropZone.dropDisabled(false);\n        handleDataTransferPromise.failure();\n      } else {\n        droppedFiles = [];\n        if (qq.isFolderDropSupported(dataTransfer)) {\n          qq.each(dataTransfer.items, function (idx, item) {\n            var entry = item.webkitGetAsEntry();\n            if (entry) {\n              if (entry.isFile) {\n                droppedFiles.push(item.getAsFile());\n              } else {\n                pendingFolderPromises.push(traverseFileTree(entry).done(function () {\n                  pendingFolderPromises.pop();\n                  if (pendingFolderPromises.length === 0) {\n                    handleDataTransferPromise.success();\n                  }\n                }));\n              }\n            }\n          });\n        } else {\n          droppedFiles = dataTransfer.files;\n        }\n        if (pendingFolderPromises.length === 0) {\n          handleDataTransferPromise.success();\n        }\n      }\n      return handleDataTransferPromise;\n    }\n    function setupDropzone(dropArea) {\n      var dropZone = new qq.UploadDropZone({\n        HIDE_ZONES_EVENT_NAME: HIDE_ZONES_EVENT_NAME,\n        element: dropArea,\n        onEnter: function onEnter(e) {\n          qq(dropArea).addClass(options.classes.dropActive);\n          options.callbacks.dragEnter();\n          e.stopPropagation();\n        },\n        onLeaveNotDescendants: function onLeaveNotDescendants(e) {\n          qq(dropArea).removeClass(options.classes.dropActive);\n          options.callbacks.dragLeave();\n        },\n        onDrop: function onDrop(e) {\n          handleDataTransfer(e.dataTransfer, dropZone).then(function () {\n            uploadDroppedFiles(droppedFiles, dropZone);\n          }, function () {\n            options.callbacks.dropLog(\"Drop event DataTransfer parsing failed.  No files will be uploaded.\", \"error\");\n          });\n        }\n      });\n      disposeSupport.addDisposer(function () {\n        dropZone.dispose();\n      });\n      qq(dropArea).hasAttribute(HIDE_BEFORE_ENTER_ATTR) && qq(dropArea).hide();\n      uploadDropZones.push(dropZone);\n      return dropZone;\n    }\n    function isFileDrag(dragEvent) {\n      var fileDrag;\n      qq.each(dragEvent.dataTransfer.types, function (key, val) {\n        if (val === \"Files\") {\n          fileDrag = true;\n          return false;\n        }\n      });\n      return fileDrag;\n    }\n    function leavingDocumentOut(e) {\n      if (qq.safari()) {\n        return e.x < 0 || e.y < 0;\n      }\n      return e.x === 0 && e.y === 0;\n    }\n    function setupDragDrop() {\n      var dropZones = options.dropZoneElements,\n        maybeHideDropZones = function maybeHideDropZones() {\n          setTimeout(function () {\n            qq.each(dropZones, function (idx, dropZone) {\n              qq(dropZone).hasAttribute(HIDE_BEFORE_ENTER_ATTR) && qq(dropZone).hide();\n              qq(dropZone).removeClass(options.classes.dropActive);\n            });\n          }, 10);\n        };\n      qq.each(dropZones, function (idx, dropZone) {\n        var uploadDropZone = setupDropzone(dropZone);\n        if (dropZones.length && qq.supportedFeatures.fileDrop) {\n          disposeSupport.attach(document, \"dragenter\", function (e) {\n            if (!uploadDropZone.dropDisabled() && isFileDrag(e)) {\n              qq.each(dropZones, function (idx, dropZone) {\n                if (dropZone instanceof HTMLElement && qq(dropZone).hasAttribute(HIDE_BEFORE_ENTER_ATTR)) {\n                  qq(dropZone).css({\n                    display: \"block\"\n                  });\n                }\n              });\n            }\n          });\n        }\n      });\n      disposeSupport.attach(document, \"dragleave\", function (e) {\n        if (leavingDocumentOut(e)) {\n          maybeHideDropZones();\n        }\n      });\n      disposeSupport.attach(qq(document).children()[0], \"mouseenter\", function (e) {\n        maybeHideDropZones();\n      });\n      disposeSupport.attach(document, \"drop\", function (e) {\n        if (isFileDrag(e)) {\n          e.preventDefault();\n          maybeHideDropZones();\n        }\n      });\n      disposeSupport.attach(document, HIDE_ZONES_EVENT_NAME, maybeHideDropZones);\n    }\n    setupDragDrop();\n    qq.extend(this, {\n      setupExtraDropzone: function setupExtraDropzone(element) {\n        options.dropZoneElements.push(element);\n        setupDropzone(element);\n      },\n      removeDropzone: function removeDropzone(element) {\n        var i,\n          dzs = options.dropZoneElements;\n        for (i in dzs) {\n          if (dzs[i] === element) {\n            return dzs.splice(i, 1);\n          }\n        }\n      },\n      dispose: function dispose() {\n        disposeSupport.dispose();\n        qq.each(uploadDropZones, function (idx, dropZone) {\n          dropZone.dispose();\n        });\n      }\n    });\n    this._testing = {};\n    this._testing.extractDirectoryPath = extractDirectoryPath;\n  };\n  qq.DragAndDrop.callbacks = function () {\n    \"use strict\";\n\n    return {\n      dragEnter: function dragEnter() {},\n      dragLeave: function dragLeave() {},\n      processingDroppedFiles: function processingDroppedFiles() {},\n      processingDroppedFilesComplete: function processingDroppedFilesComplete(files, targetEl) {},\n      dropError: function dropError(code, errorSpecifics) {\n        qq.log(\"Drag & drop error code '\" + code + \" with these specifics: '\" + errorSpecifics + \"'\", \"error\");\n      },\n      dropLog: function dropLog(message, level) {\n        qq.log(message, level);\n      }\n    };\n  };\n  qq.UploadDropZone = function (o) {\n    \"use strict\";\n\n    var disposeSupport = new qq.DisposeSupport(),\n      options,\n      element,\n      preventDrop,\n      dropOutsideDisabled;\n    options = {\n      element: null,\n      onEnter: function onEnter(e) {},\n      onLeave: function onLeave(e) {},\n      onLeaveNotDescendants: function onLeaveNotDescendants(e) {},\n      onDrop: function onDrop(e) {}\n    };\n    qq.extend(options, o);\n    element = options.element;\n    function dragoverShouldBeCanceled() {\n      return qq.safari() || qq.firefox() && qq.windows();\n    }\n    function disableDropOutside(e) {\n      if (!dropOutsideDisabled) {\n        if (dragoverShouldBeCanceled) {\n          disposeSupport.attach(document, \"dragover\", function (e) {\n            e.preventDefault();\n          });\n        } else {\n          disposeSupport.attach(document, \"dragover\", function (e) {\n            if (e.dataTransfer) {\n              e.dataTransfer.dropEffect = \"none\";\n              e.preventDefault();\n            }\n          });\n        }\n        dropOutsideDisabled = true;\n      }\n    }\n    function isValidFileDrag(e) {\n      if (!qq.supportedFeatures.fileDrop) {\n        return false;\n      }\n      var effectTest,\n        dt = e.dataTransfer,\n        isSafari = qq.safari();\n      effectTest = qq.ie() && qq.supportedFeatures.fileDrop ? true : dt.effectAllowed !== \"none\";\n      return dt && effectTest && (dt.files && dt.files.length || !isSafari && dt.types.contains && dt.types.contains(\"Files\") || dt.types.includes && dt.types.includes(\"Files\"));\n    }\n    function isOrSetDropDisabled(isDisabled) {\n      if (isDisabled !== undefined) {\n        preventDrop = isDisabled;\n      }\n      return preventDrop;\n    }\n    function triggerHidezonesEvent() {\n      var hideZonesEvent;\n      function triggerUsingOldApi() {\n        hideZonesEvent = document.createEvent(\"Event\");\n        hideZonesEvent.initEvent(options.HIDE_ZONES_EVENT_NAME, true, true);\n      }\n      if (window.CustomEvent) {\n        try {\n          hideZonesEvent = new CustomEvent(options.HIDE_ZONES_EVENT_NAME);\n        } catch (err) {\n          triggerUsingOldApi();\n        }\n      } else {\n        triggerUsingOldApi();\n      }\n      document.dispatchEvent(hideZonesEvent);\n    }\n    function attachEvents() {\n      disposeSupport.attach(element, \"dragover\", function (e) {\n        if (!isValidFileDrag(e)) {\n          return;\n        }\n        var effect = qq.ie() && qq.supportedFeatures.fileDrop ? null : e.dataTransfer.effectAllowed;\n        if (effect === \"move\" || effect === \"linkMove\") {\n          e.dataTransfer.dropEffect = \"move\";\n        } else {\n          e.dataTransfer.dropEffect = \"copy\";\n        }\n        e.stopPropagation();\n        e.preventDefault();\n      });\n      disposeSupport.attach(element, \"dragenter\", function (e) {\n        if (!isOrSetDropDisabled()) {\n          if (!isValidFileDrag(e)) {\n            return;\n          }\n          options.onEnter(e);\n        }\n      });\n      disposeSupport.attach(element, \"dragleave\", function (e) {\n        if (!isValidFileDrag(e)) {\n          return;\n        }\n        options.onLeave(e);\n        var relatedTarget = document.elementFromPoint(e.clientX, e.clientY);\n        if (qq(this).contains(relatedTarget)) {\n          return;\n        }\n        options.onLeaveNotDescendants(e);\n      });\n      disposeSupport.attach(element, \"drop\", function (e) {\n        if (!isOrSetDropDisabled()) {\n          if (!isValidFileDrag(e)) {\n            return;\n          }\n          e.preventDefault();\n          e.stopPropagation();\n          options.onDrop(e);\n          triggerHidezonesEvent();\n        }\n      });\n    }\n    disableDropOutside();\n    attachEvents();\n    qq.extend(this, {\n      dropDisabled: function dropDisabled(isDisabled) {\n        return isOrSetDropDisabled(isDisabled);\n      },\n      dispose: function dispose() {\n        disposeSupport.dispose();\n      },\n      getElement: function getElement() {\n        return element;\n      }\n    });\n    this._testing = {};\n    this._testing.isValidFileDrag = isValidFileDrag;\n  };\n  (function () {\n    \"use strict\";\n\n    qq.uiPublicApi = {\n      addInitialFiles: function addInitialFiles(cannedFileList) {\n        this._parent.prototype.addInitialFiles.apply(this, arguments);\n        this._templating.addCacheToDom();\n      },\n      clearStoredFiles: function clearStoredFiles() {\n        this._parent.prototype.clearStoredFiles.apply(this, arguments);\n        this._templating.clearFiles();\n      },\n      addExtraDropzone: function addExtraDropzone(element) {\n        this._dnd && this._dnd.setupExtraDropzone(element);\n      },\n      removeExtraDropzone: function removeExtraDropzone(element) {\n        if (this._dnd) {\n          return this._dnd.removeDropzone(element);\n        }\n      },\n      getItemByFileId: function getItemByFileId(id) {\n        if (!this._templating.isHiddenForever(id)) {\n          return this._templating.getFileContainer(id);\n        }\n      },\n      reset: function reset() {\n        this._parent.prototype.reset.apply(this, arguments);\n        this._templating.reset();\n        if (!this._options.button && this._templating.getButton()) {\n          this._defaultButtonId = this._createUploadButton({\n            element: this._templating.getButton(),\n            title: this._options.text.fileInputTitle\n          }).getButtonId();\n        }\n        if (this._dnd) {\n          this._dnd.dispose();\n          this._dnd = this._setupDragAndDrop();\n        }\n        this._totalFilesInBatch = 0;\n        this._filesInBatchAddedToUi = 0;\n        this._setupClickAndEditEventHandlers();\n      },\n      setName: function setName(id, newName) {\n        var formattedFilename = this._options.formatFileName(newName);\n        this._parent.prototype.setName.apply(this, arguments);\n        this._templating.updateFilename(id, formattedFilename);\n      },\n      pauseUpload: function pauseUpload(id) {\n        var paused = this._parent.prototype.pauseUpload.apply(this, arguments);\n        paused && this._templating.uploadPaused(id);\n        return paused;\n      },\n      continueUpload: function continueUpload(id) {\n        var continued = this._parent.prototype.continueUpload.apply(this, arguments);\n        continued && this._templating.uploadContinued(id);\n        return continued;\n      },\n      getId: function getId(fileContainerOrChildEl) {\n        return this._templating.getFileId(fileContainerOrChildEl);\n      },\n      getDropTarget: function getDropTarget(fileId) {\n        var file = this.getFile(fileId);\n        return file.qqDropTarget;\n      }\n    };\n    qq.uiPrivateApi = {\n      _getButton: function _getButton(buttonId) {\n        var button = this._parent.prototype._getButton.apply(this, arguments);\n        if (!button) {\n          if (buttonId === this._defaultButtonId) {\n            button = this._templating.getButton();\n          }\n        }\n        return button;\n      },\n      _removeFileItem: function _removeFileItem(fileId) {\n        this._templating.removeFile(fileId);\n      },\n      _setupClickAndEditEventHandlers: function _setupClickAndEditEventHandlers() {\n        this._fileButtonsClickHandler = qq.FileButtonsClickHandler && this._bindFileButtonsClickEvent();\n        this._focusinEventSupported = !qq.firefox();\n        if (this._isEditFilenameEnabled()) {\n          this._filenameClickHandler = this._bindFilenameClickEvent();\n          this._filenameInputFocusInHandler = this._bindFilenameInputFocusInEvent();\n          this._filenameInputFocusHandler = this._bindFilenameInputFocusEvent();\n        }\n      },\n      _setupDragAndDrop: function _setupDragAndDrop() {\n        var self = this,\n          dropZoneElements = this._options.dragAndDrop.extraDropzones,\n          templating = this._templating,\n          defaultDropZone = templating.getDropZone();\n        defaultDropZone && dropZoneElements.push(defaultDropZone);\n        return new qq.DragAndDrop({\n          dropZoneElements: dropZoneElements,\n          allowMultipleItems: this._options.multiple,\n          classes: {\n            dropActive: this._options.classes.dropActive\n          },\n          callbacks: {\n            processingDroppedFiles: function processingDroppedFiles() {\n              templating.showDropProcessing();\n            },\n            processingDroppedFilesComplete: function processingDroppedFilesComplete(files, targetEl) {\n              templating.hideDropProcessing();\n              qq.each(files, function (idx, file) {\n                file.qqDropTarget = targetEl;\n              });\n              if (files.length) {\n                self.addFiles(files, null, null);\n              }\n            },\n            dropError: function dropError(code, errorData) {\n              self._itemError(code, errorData);\n            },\n            dropLog: function dropLog(message, level) {\n              self.log(message, level);\n            }\n          }\n        });\n      },\n      _bindFileButtonsClickEvent: function _bindFileButtonsClickEvent() {\n        var self = this;\n        return new qq.FileButtonsClickHandler({\n          templating: this._templating,\n          log: function log(message, lvl) {\n            self.log(message, lvl);\n          },\n          onDeleteFile: function onDeleteFile(fileId) {\n            self.deleteFile(fileId);\n          },\n          onCancel: function onCancel(fileId) {\n            self.cancel(fileId);\n          },\n          onRetry: function onRetry(fileId) {\n            self.retry(fileId);\n          },\n          onPause: function onPause(fileId) {\n            self.pauseUpload(fileId);\n          },\n          onContinue: function onContinue(fileId) {\n            self.continueUpload(fileId);\n          },\n          onGetName: function onGetName(fileId) {\n            return self.getName(fileId);\n          }\n        });\n      },\n      _isEditFilenameEnabled: function _isEditFilenameEnabled() {\n        return this._templating.isEditFilenamePossible() && !this._options.autoUpload && qq.FilenameClickHandler && qq.FilenameInputFocusHandler && qq.FilenameInputFocusHandler;\n      },\n      _filenameEditHandler: function _filenameEditHandler() {\n        var self = this,\n          templating = this._templating;\n        return {\n          templating: templating,\n          log: function log(message, lvl) {\n            self.log(message, lvl);\n          },\n          onGetUploadStatus: function onGetUploadStatus(fileId) {\n            return self.getUploads({\n              id: fileId\n            }).status;\n          },\n          onGetName: function onGetName(fileId) {\n            return self.getName(fileId);\n          },\n          onSetName: function onSetName(id, newName) {\n            self.setName(id, newName);\n          },\n          onEditingStatusChange: function onEditingStatusChange(id, isEditing) {\n            var qqInput = qq(templating.getEditInput(id)),\n              qqFileContainer = qq(templating.getFileContainer(id));\n            if (isEditing) {\n              qqInput.addClass(\"qq-editing\");\n              templating.hideFilename(id);\n              templating.hideEditIcon(id);\n            } else {\n              qqInput.removeClass(\"qq-editing\");\n              templating.showFilename(id);\n              templating.showEditIcon(id);\n            }\n            qqFileContainer.addClass(\"qq-temp\").removeClass(\"qq-temp\");\n          }\n        };\n      },\n      _onUploadStatusChange: function _onUploadStatusChange(id, oldStatus, newStatus) {\n        this._parent.prototype._onUploadStatusChange.apply(this, arguments);\n        if (this._isEditFilenameEnabled()) {\n          if (this._templating.getFileContainer(id) && newStatus !== qq.status.SUBMITTED) {\n            this._templating.markFilenameEditable(id);\n            this._templating.hideEditIcon(id);\n          }\n        }\n        if (oldStatus === qq.status.UPLOAD_RETRYING && newStatus === qq.status.UPLOADING) {\n          this._templating.hideRetry(id);\n          this._templating.setStatusText(id);\n          qq(this._templating.getFileContainer(id)).removeClass(this._classes.retrying);\n        } else if (newStatus === qq.status.UPLOAD_FAILED) {\n          this._templating.hidePause(id);\n        }\n      },\n      _bindFilenameInputFocusInEvent: function _bindFilenameInputFocusInEvent() {\n        var spec = qq.extend({}, this._filenameEditHandler());\n        return new qq.FilenameInputFocusInHandler(spec);\n      },\n      _bindFilenameInputFocusEvent: function _bindFilenameInputFocusEvent() {\n        var spec = qq.extend({}, this._filenameEditHandler());\n        return new qq.FilenameInputFocusHandler(spec);\n      },\n      _bindFilenameClickEvent: function _bindFilenameClickEvent() {\n        var spec = qq.extend({}, this._filenameEditHandler());\n        return new qq.FilenameClickHandler(spec);\n      },\n      _storeForLater: function _storeForLater(id) {\n        this._parent.prototype._storeForLater.apply(this, arguments);\n        this._templating.hideSpinner(id);\n      },\n      _onAllComplete: function _onAllComplete(successful, failed) {\n        this._parent.prototype._onAllComplete.apply(this, arguments);\n        this._templating.resetTotalProgress();\n      },\n      _onSubmit: function _onSubmit(id, name) {\n        var file = this.getFile(id);\n        if (file && file.qqPath && this._options.dragAndDrop.reportDirectoryPaths) {\n          this._paramsStore.addReadOnly(id, {\n            qqpath: file.qqPath\n          });\n        }\n        this._parent.prototype._onSubmit.apply(this, arguments);\n        this._addToList(id, name);\n      },\n      _onSubmitted: function _onSubmitted(id) {\n        if (this._isEditFilenameEnabled()) {\n          this._templating.markFilenameEditable(id);\n          this._templating.showEditIcon(id);\n          if (!this._focusinEventSupported) {\n            this._filenameInputFocusHandler.addHandler(this._templating.getEditInput(id));\n          }\n        }\n      },\n      _onProgress: function _onProgress(id, name, loaded, total) {\n        this._parent.prototype._onProgress.apply(this, arguments);\n        this._templating.updateProgress(id, loaded, total);\n        if (total === 0 || Math.round(loaded / total * 100) === 100) {\n          this._templating.hideCancel(id);\n          this._templating.hidePause(id);\n          this._templating.hideProgress(id);\n          this._templating.setStatusText(id, this._options.text.waitingForResponse);\n          this._displayFileSize(id);\n        } else {\n          this._displayFileSize(id, loaded, total);\n        }\n      },\n      _onTotalProgress: function _onTotalProgress(loaded, total) {\n        this._parent.prototype._onTotalProgress.apply(this, arguments);\n        this._templating.updateTotalProgress(loaded, total);\n      },\n      _onComplete: function _onComplete(id, name, result, xhr) {\n        var parentRetVal = this._parent.prototype._onComplete.apply(this, arguments),\n          templating = this._templating,\n          fileContainer = templating.getFileContainer(id),\n          self = this;\n        function completeUpload(result) {\n          if (!fileContainer) {\n            return;\n          }\n          templating.setStatusText(id);\n          qq(fileContainer).removeClass(self._classes.retrying);\n          templating.hideProgress(id);\n          if (self.getUploads({\n            id: id\n          }).status !== qq.status.UPLOAD_FAILED) {\n            templating.hideCancel(id);\n          }\n          templating.hideSpinner(id);\n          if (result.success) {\n            self._markFileAsSuccessful(id);\n          } else {\n            qq(fileContainer).addClass(self._classes.fail);\n            templating.showCancel(id);\n            if (templating.isRetryPossible() && !self._preventRetries[id]) {\n              qq(fileContainer).addClass(self._classes.retryable);\n              templating.showRetry(id);\n            }\n            self._controlFailureTextDisplay(id, result);\n          }\n        }\n        if (parentRetVal instanceof qq.Promise) {\n          parentRetVal.done(function (newResult) {\n            completeUpload(newResult);\n          });\n        } else {\n          completeUpload(result);\n        }\n        return parentRetVal;\n      },\n      _markFileAsSuccessful: function _markFileAsSuccessful(id) {\n        var templating = this._templating;\n        if (this._isDeletePossible()) {\n          templating.showDeleteButton(id);\n        }\n        qq(templating.getFileContainer(id)).addClass(this._classes.success);\n        this._maybeUpdateThumbnail(id);\n      },\n      _onUploadPrep: function _onUploadPrep(id) {\n        this._parent.prototype._onUploadPrep.apply(this, arguments);\n        this._templating.showSpinner(id);\n      },\n      _onUpload: function _onUpload(id, name) {\n        var parentRetVal = this._parent.prototype._onUpload.apply(this, arguments);\n        this._templating.showSpinner(id);\n        return parentRetVal;\n      },\n      _onUploadChunk: function _onUploadChunk(id, chunkData) {\n        this._parent.prototype._onUploadChunk.apply(this, arguments);\n        if (chunkData.partIndex > 0 && this._handler.isResumable(id)) {\n          this._templating.allowPause(id);\n        }\n      },\n      _onCancel: function _onCancel(id, name) {\n        this._parent.prototype._onCancel.apply(this, arguments);\n        this._removeFileItem(id);\n        if (this._getNotFinished() === 0) {\n          this._templating.resetTotalProgress();\n        }\n      },\n      _onBeforeAutoRetry: function _onBeforeAutoRetry(id) {\n        var retryNumForDisplay, maxAuto, retryNote;\n        this._parent.prototype._onBeforeAutoRetry.apply(this, arguments);\n        this._showCancelLink(id);\n        if (this._options.retry.showAutoRetryNote) {\n          retryNumForDisplay = this._autoRetries[id];\n          maxAuto = this._options.retry.maxAutoAttempts;\n          retryNote = this._options.retry.autoRetryNote.replace(/\\{retryNum\\}/g, retryNumForDisplay);\n          retryNote = retryNote.replace(/\\{maxAuto\\}/g, maxAuto);\n          this._templating.setStatusText(id, retryNote);\n          qq(this._templating.getFileContainer(id)).addClass(this._classes.retrying);\n        }\n      },\n      _onBeforeManualRetry: function _onBeforeManualRetry(id) {\n        if (this._parent.prototype._onBeforeManualRetry.apply(this, arguments)) {\n          this._templating.resetProgress(id);\n          qq(this._templating.getFileContainer(id)).removeClass(this._classes.fail);\n          this._templating.setStatusText(id);\n          this._templating.showSpinner(id);\n          this._showCancelLink(id);\n          return true;\n        } else {\n          qq(this._templating.getFileContainer(id)).addClass(this._classes.retryable);\n          this._templating.showRetry(id);\n          return false;\n        }\n      },\n      _onSubmitDelete: function _onSubmitDelete(id) {\n        var onSuccessCallback = qq.bind(this._onSubmitDeleteSuccess, this);\n        this._parent.prototype._onSubmitDelete.call(this, id, onSuccessCallback);\n      },\n      _onSubmitDeleteSuccess: function _onSubmitDeleteSuccess(id, uuid, additionalMandatedParams) {\n        if (this._options.deleteFile.forceConfirm) {\n          this._showDeleteConfirm.apply(this, arguments);\n        } else {\n          this._sendDeleteRequest.apply(this, arguments);\n        }\n      },\n      _onDeleteComplete: function _onDeleteComplete(id, xhr, isError) {\n        this._parent.prototype._onDeleteComplete.apply(this, arguments);\n        this._templating.hideSpinner(id);\n        if (isError) {\n          this._templating.setStatusText(id, this._options.deleteFile.deletingFailedText);\n          this._templating.showDeleteButton(id);\n        } else {\n          this._removeFileItem(id);\n        }\n      },\n      _sendDeleteRequest: function _sendDeleteRequest(id, uuid, additionalMandatedParams) {\n        this._templating.hideDeleteButton(id);\n        this._templating.showSpinner(id);\n        this._templating.setStatusText(id, this._options.deleteFile.deletingStatusText);\n        this._deleteHandler.sendDelete.apply(this, arguments);\n      },\n      _showDeleteConfirm: function _showDeleteConfirm(id, uuid, mandatedParams) {\n        var fileName = this.getName(id),\n          confirmMessage = this._options.deleteFile.confirmMessage.replace(/\\{filename\\}/g, fileName),\n          uuid = this.getUuid(id),\n          deleteRequestArgs = arguments,\n          self = this,\n          retVal;\n        retVal = this._options.showConfirm(confirmMessage);\n        if (qq.isGenericPromise(retVal)) {\n          retVal.then(function () {\n            self._sendDeleteRequest.apply(self, deleteRequestArgs);\n          });\n        } else if (retVal !== false) {\n          self._sendDeleteRequest.apply(self, deleteRequestArgs);\n        }\n      },\n      _addToList: function _addToList(id, name, canned) {\n        var prependData,\n          prependIndex = 0,\n          dontDisplay = this._handler.isProxied(id) && this._options.scaling.hideScaled,\n          record;\n        if (this._options.display.prependFiles) {\n          if (this._totalFilesInBatch > 1 && this._filesInBatchAddedToUi > 0) {\n            prependIndex = this._filesInBatchAddedToUi - 1;\n          }\n          prependData = {\n            index: prependIndex\n          };\n        }\n        if (!canned) {\n          if (this._options.disableCancelForFormUploads && !qq.supportedFeatures.ajaxUploading) {\n            this._templating.disableCancel();\n          }\n          if (!this._options.multiple) {\n            record = this.getUploads({\n              id: id\n            });\n            this._handledProxyGroup = this._handledProxyGroup || record.proxyGroupId;\n            if (record.proxyGroupId !== this._handledProxyGroup || !record.proxyGroupId) {\n              this._handler.cancelAll();\n              this._clearList();\n              this._handledProxyGroup = null;\n            }\n          }\n        }\n        if (canned) {\n          this._templating.addFileToCache(id, this._options.formatFileName(name), prependData, dontDisplay);\n          this._templating.updateThumbnail(id, this._thumbnailUrls[id], true, this._options.thumbnails.customResizer);\n        } else {\n          this._templating.addFile(id, this._options.formatFileName(name), prependData, dontDisplay);\n          this._templating.generatePreview(id, this.getFile(id), this._options.thumbnails.customResizer);\n        }\n        this._filesInBatchAddedToUi += 1;\n        if (canned || this._options.display.fileSizeOnSubmit && qq.supportedFeatures.ajaxUploading) {\n          this._displayFileSize(id);\n        }\n      },\n      _clearList: function _clearList() {\n        this._templating.clearFiles();\n        this.clearStoredFiles();\n      },\n      _displayFileSize: function _displayFileSize(id, loadedSize, totalSize) {\n        var size = this.getSize(id),\n          sizeForDisplay = this._formatSize(size);\n        if (size >= 0) {\n          if (loadedSize !== undefined && totalSize !== undefined) {\n            sizeForDisplay = this._formatProgress(loadedSize, totalSize);\n          }\n          this._templating.updateSize(id, sizeForDisplay);\n        }\n      },\n      _formatProgress: function _formatProgress(uploadedSize, totalSize) {\n        var message = this._options.text.formatProgress;\n        function r(name, replacement) {\n          message = message.replace(name, replacement);\n        }\n        r(\"{percent}\", Math.round(uploadedSize / totalSize * 100));\n        r(\"{total_size}\", this._formatSize(totalSize));\n        return message;\n      },\n      _controlFailureTextDisplay: function _controlFailureTextDisplay(id, response) {\n        var mode, responseProperty, failureReason;\n        mode = this._options.failedUploadTextDisplay.mode;\n        responseProperty = this._options.failedUploadTextDisplay.responseProperty;\n        if (mode === \"custom\") {\n          failureReason = response[responseProperty];\n          if (!failureReason) {\n            failureReason = this._options.text.failUpload;\n          }\n          this._templating.setStatusText(id, failureReason);\n          if (this._options.failedUploadTextDisplay.enableTooltip) {\n            this._showTooltip(id, failureReason);\n          }\n        } else if (mode === \"default\") {\n          this._templating.setStatusText(id, this._options.text.failUpload);\n        } else if (mode !== \"none\") {\n          this.log(\"failedUploadTextDisplay.mode value of '\" + mode + \"' is not valid\", \"warn\");\n        }\n      },\n      _showTooltip: function _showTooltip(id, text) {\n        this._templating.getFileContainer(id).title = text;\n      },\n      _showCancelLink: function _showCancelLink(id) {\n        if (!this._options.disableCancelForFormUploads || qq.supportedFeatures.ajaxUploading) {\n          this._templating.showCancel(id);\n        }\n      },\n      _itemError: function _itemError(code, name, item) {\n        var message = this._parent.prototype._itemError.apply(this, arguments);\n        this._options.showMessage(message);\n      },\n      _batchError: function _batchError(message) {\n        this._parent.prototype._batchError.apply(this, arguments);\n        this._options.showMessage(message);\n      },\n      _setupPastePrompt: function _setupPastePrompt() {\n        var self = this;\n        this._options.callbacks.onPasteReceived = function () {\n          var message = self._options.paste.namePromptMessage,\n            defaultVal = self._options.paste.defaultName;\n          return self._options.showPrompt(message, defaultVal);\n        };\n      },\n      _fileOrBlobRejected: function _fileOrBlobRejected(id, name) {\n        this._totalFilesInBatch -= 1;\n        this._parent.prototype._fileOrBlobRejected.apply(this, arguments);\n      },\n      _prepareItemsForUpload: function _prepareItemsForUpload(items, params, endpoint) {\n        this._totalFilesInBatch = items.length;\n        this._filesInBatchAddedToUi = 0;\n        this._parent.prototype._prepareItemsForUpload.apply(this, arguments);\n      },\n      _maybeUpdateThumbnail: function _maybeUpdateThumbnail(fileId) {\n        var thumbnailUrl = this._thumbnailUrls[fileId],\n          fileStatus = this.getUploads({\n            id: fileId\n          }).status;\n        if (fileStatus !== qq.status.DELETED && (thumbnailUrl || this._options.thumbnails.placeholders.waitUntilResponse || !qq.supportedFeatures.imagePreviews)) {\n          this._templating.updateThumbnail(fileId, thumbnailUrl, this._options.thumbnails.customResizer);\n        }\n      },\n      _addCannedFile: function _addCannedFile(sessionData) {\n        var id = this._parent.prototype._addCannedFile.apply(this, arguments);\n        this._addToList(id, this.getName(id), true);\n        this._templating.hideSpinner(id);\n        this._templating.hideCancel(id);\n        this._markFileAsSuccessful(id);\n        return id;\n      },\n      _setSize: function _setSize(id, newSize) {\n        this._parent.prototype._setSize.apply(this, arguments);\n        this._templating.updateSize(id, this._formatSize(newSize));\n      },\n      _sessionRequestComplete: function _sessionRequestComplete() {\n        this._templating.addCacheToDom();\n        this._parent.prototype._sessionRequestComplete.apply(this, arguments);\n      }\n    };\n  })();\n  qq.FileUploader = function (o, namespace) {\n    \"use strict\";\n\n    var self = this;\n    this._parent = namespace ? qq[namespace].FileUploaderBasic : qq.FileUploaderBasic;\n    this._parent.apply(this, arguments);\n    qq.extend(this._options, {\n      element: null,\n      button: null,\n      listElement: null,\n      dragAndDrop: {\n        extraDropzones: [],\n        reportDirectoryPaths: false\n      },\n      text: {\n        formatProgress: \"{percent}% of {total_size}\",\n        failUpload: \"Upload failed\",\n        waitingForResponse: \"Processing...\",\n        paused: \"Paused\"\n      },\n      template: \"qq-template\",\n      classes: {\n        retrying: \"qq-upload-retrying\",\n        retryable: \"qq-upload-retryable\",\n        success: \"qq-upload-success\",\n        fail: \"qq-upload-fail\",\n        editable: \"qq-editable\",\n        hide: \"qq-hide\",\n        dropActive: \"qq-upload-drop-area-active\"\n      },\n      failedUploadTextDisplay: {\n        mode: \"default\",\n        responseProperty: \"error\",\n        enableTooltip: true\n      },\n      messages: {\n        tooManyFilesError: \"You may only drop one file\",\n        unsupportedBrowser: \"Unrecoverable error - this browser does not permit file uploading of any kind.\"\n      },\n      retry: {\n        showAutoRetryNote: true,\n        autoRetryNote: \"Retrying {retryNum}/{maxAuto}...\"\n      },\n      deleteFile: {\n        forceConfirm: false,\n        confirmMessage: \"Are you sure you want to delete {filename}?\",\n        deletingStatusText: \"Deleting...\",\n        deletingFailedText: \"Delete failed\"\n      },\n      display: {\n        fileSizeOnSubmit: false,\n        prependFiles: false\n      },\n      paste: {\n        promptForName: false,\n        namePromptMessage: \"Please name this image\"\n      },\n      thumbnails: {\n        customResizer: null,\n        maxCount: 0,\n        placeholders: {\n          waitUntilResponse: false,\n          notAvailablePath: null,\n          waitingPath: null\n        },\n        timeBetweenThumbs: 750\n      },\n      scaling: {\n        hideScaled: false\n      },\n      showMessage: function showMessage(message) {\n        if (self._templating.hasDialog(\"alert\")) {\n          return self._templating.showDialog(\"alert\", message);\n        } else {\n          setTimeout(function () {\n            window.alert(message);\n          }, 0);\n        }\n      },\n      showConfirm: function showConfirm(message) {\n        if (self._templating.hasDialog(\"confirm\")) {\n          return self._templating.showDialog(\"confirm\", message);\n        } else {\n          return window.confirm(message);\n        }\n      },\n      showPrompt: function showPrompt(message, defaultValue) {\n        if (self._templating.hasDialog(\"prompt\")) {\n          return self._templating.showDialog(\"prompt\", message, defaultValue);\n        } else {\n          return window.prompt(message, defaultValue);\n        }\n      }\n    }, true);\n    // overwrite options with user supplied\n    this._options.request.dest = \"\";\n    this._options.request.inputName = \"\";\n    qq.extend(this._options, o, true);\n    this._templating = new qq.Templating({\n      log: qq.bind(this.log, this),\n      templateIdOrEl: this._options.template,\n      containerEl: this._options.element,\n      fileContainerEl: this._options.listElement,\n      button: this._options.button,\n      imageGenerator: this._imageGenerator,\n      classes: {\n        hide: this._options.classes.hide,\n        editable: this._options.classes.editable\n      },\n      limits: {\n        maxThumbs: this._options.thumbnails.maxCount,\n        timeBetweenThumbs: this._options.thumbnails.timeBetweenThumbs\n      },\n      placeholders: {\n        waitUntilUpdate: this._options.thumbnails.placeholders.waitUntilResponse,\n        thumbnailNotAvailable: this._options.thumbnails.placeholders.notAvailablePath,\n        waitingForThumbnail: this._options.thumbnails.placeholders.waitingPath\n      },\n      text: this._options.text\n    });\n    if (this._options.workarounds.ios8SafariUploads && qq.ios800() && qq.iosSafari()) {\n      this._templating.renderFailure(this._options.messages.unsupportedBrowserIos8Safari);\n    } else if (!qq.supportedFeatures.uploading || this._options.cors.expected && !qq.supportedFeatures.uploadCors) {\n      this._templating.renderFailure(this._options.messages.unsupportedBrowser);\n    } else {\n      this._wrapCallbacks();\n      this._templating.render();\n      this._classes = this._options.classes;\n      if (!this._options.button && this._templating.getButton()) {\n        this._defaultButtonId = this._createUploadButton({\n          element: this._templating.getButton(),\n          title: this._options.text.fileInputTitle\n        }).getButtonId();\n      }\n      this._setupClickAndEditEventHandlers();\n      if (qq.DragAndDrop && qq.supportedFeatures.fileDrop) {\n        this._dnd = this._setupDragAndDrop();\n      }\n      if (this._options.paste.targetElement && this._options.paste.promptForName) {\n        if (qq.PasteSupport) {\n          this._setupPastePrompt();\n        } else {\n          this.log(\"Paste support module not found.\", \"error\");\n        }\n      }\n      this._totalFilesInBatch = 0;\n      this._filesInBatchAddedToUi = 0;\n    }\n  };\n  qq.extend(qq.FileUploader.prototype, qq.basePublicApi);\n  qq.extend(qq.FileUploader.prototype, qq.basePrivateApi);\n  qq.extend(qq.FileUploader.prototype, qq.uiPublicApi);\n  qq.extend(qq.FileUploader.prototype, qq.uiPrivateApi);\n  qq.Templating = function (spec) {\n    \"use strict\";\n\n    var FILE_ID_ATTR = \"qq-file-id\",\n      FILE_CLASS_PREFIX = \"qq-file-id-\",\n      THUMBNAIL_MAX_SIZE_ATTR = \"qq-max-size\",\n      THUMBNAIL_SERVER_SCALE_ATTR = \"qq-server-scale\",\n      HIDE_DROPZONE_ATTR = \"qq-hide-dropzone\",\n      DROPZPONE_TEXT_ATTR = \"qq-drop-area-text\",\n      IN_PROGRESS_CLASS = \"qq-in-progress\",\n      HIDDEN_FOREVER_CLASS = \"qq-hidden-forever\",\n      fileBatch = {\n        content: document.createDocumentFragment(),\n        map: {}\n      },\n      isCancelDisabled = false,\n      generatedThumbnails = 0,\n      thumbnailQueueMonitorRunning = false,\n      thumbGenerationQueue = [],\n      thumbnailMaxSize = -1,\n      options = {\n        log: null,\n        limits: {\n          maxThumbs: 0,\n          timeBetweenThumbs: 750\n        },\n        templateIdOrEl: \"qq-template\",\n        containerEl: null,\n        fileContainerEl: null,\n        button: null,\n        imageGenerator: null,\n        classes: {\n          hide: \"qq-hide\",\n          editable: \"qq-editable\"\n        },\n        placeholders: {\n          waitUntilUpdate: false,\n          thumbnailNotAvailable: null,\n          waitingForThumbnail: null\n        },\n        text: {\n          paused: \"Paused\"\n        }\n      },\n      selectorClasses = {\n        button: \"qq-upload-button-selector\",\n        alertDialog: \"qq-alert-dialog-selector\",\n        dialogCancelButton: \"qq-cancel-button-selector\",\n        confirmDialog: \"qq-confirm-dialog-selector\",\n        dialogMessage: \"qq-dialog-message-selector\",\n        dialogOkButton: \"qq-ok-button-selector\",\n        promptDialog: \"qq-prompt-dialog-selector\",\n        uploader: \"qq-uploader-selector\",\n        drop: \"qq-upload-drop-area-selector\",\n        list: \"qq-upload-list-selector\",\n        progressBarContainer: \"qq-progress-bar-container-selector\",\n        progressBar: \"qq-progress-bar-selector\",\n        totalProgressBarContainer: \"qq-total-progress-bar-container-selector\",\n        totalProgressBar: \"qq-total-progress-bar-selector\",\n        file: \"qq-upload-file-selector\",\n        spinner: \"qq-upload-spinner-selector\",\n        size: \"qq-upload-size-selector\",\n        cancel: \"qq-upload-cancel-selector\",\n        pause: \"qq-upload-pause-selector\",\n        continueButton: \"qq-upload-continue-selector\",\n        deleteButton: \"qq-upload-delete-selector\",\n        retry: \"qq-upload-retry-selector\",\n        statusText: \"qq-upload-status-text-selector\",\n        editFilenameInput: \"qq-edit-filename-selector\",\n        editNameIcon: \"qq-edit-filename-icon-selector\",\n        dropText: \"qq-upload-drop-area-text-selector\",\n        dropProcessing: \"qq-drop-processing-selector\",\n        dropProcessingSpinner: \"qq-drop-processing-spinner-selector\",\n        thumbnail: \"qq-thumbnail-selector\"\n      },\n      previewGeneration = {},\n      cachedThumbnailNotAvailableImg = new qq.Promise(),\n      cachedWaitingForThumbnailImg = new qq.Promise(),\n      log,\n      isEditElementsExist,\n      isRetryElementExist,\n      templateDom,\n      container,\n      fileList,\n      showThumbnails,\n      serverScale,\n      cacheThumbnailPlaceholders = function cacheThumbnailPlaceholders() {\n        var notAvailableUrl = options.placeholders.thumbnailNotAvailable,\n          waitingUrl = options.placeholders.waitingForThumbnail,\n          spec = {\n            maxSize: thumbnailMaxSize,\n            scale: serverScale\n          };\n        if (showThumbnails) {\n          if (notAvailableUrl) {\n            options.imageGenerator.generate(notAvailableUrl, new Image(), spec).then(function (updatedImg) {\n              cachedThumbnailNotAvailableImg.success(updatedImg);\n            }, function () {\n              cachedThumbnailNotAvailableImg.failure();\n              log(\"Problem loading 'not available' placeholder image at \" + notAvailableUrl, \"error\");\n            });\n          } else {\n            cachedThumbnailNotAvailableImg.failure();\n          }\n          if (waitingUrl) {\n            options.imageGenerator.generate(waitingUrl, new Image(), spec).then(function (updatedImg) {\n              cachedWaitingForThumbnailImg.success(updatedImg);\n            }, function () {\n              cachedWaitingForThumbnailImg.failure();\n              log(\"Problem loading 'waiting for thumbnail' placeholder image at \" + waitingUrl, \"error\");\n            });\n          } else {\n            cachedWaitingForThumbnailImg.failure();\n          }\n        }\n      },\n      displayWaitingImg = function displayWaitingImg(thumbnail) {\n        var waitingImgPlacement = new qq.Promise();\n        cachedWaitingForThumbnailImg.then(function (img) {\n          maybeScalePlaceholderViaCss(img, thumbnail);\n          if (!thumbnail.src) {\n            thumbnail.src = img.src;\n            thumbnail.onload = function () {\n              thumbnail.onload = null;\n              show(thumbnail);\n              waitingImgPlacement.success();\n            };\n          } else {\n            waitingImgPlacement.success();\n          }\n        }, function () {\n          hide(thumbnail);\n          waitingImgPlacement.success();\n        });\n        return waitingImgPlacement;\n      },\n      generateNewPreview = function generateNewPreview(id, blob, spec) {\n        var thumbnail = getThumbnail(id);\n        log(\"Generating new thumbnail for \" + id);\n        blob.qqThumbnailId = id;\n        return options.imageGenerator.generate(blob, thumbnail, spec).then(function () {\n          generatedThumbnails++;\n          show(thumbnail);\n          previewGeneration[id].success();\n        }, function () {\n          previewGeneration[id].failure();\n          if (!options.placeholders.waitUntilUpdate) {\n            maybeSetDisplayNotAvailableImg(id, thumbnail);\n          }\n        });\n      },\n      generateNextQueuedPreview = function generateNextQueuedPreview() {\n        if (thumbGenerationQueue.length) {\n          thumbnailQueueMonitorRunning = true;\n          var queuedThumbRequest = thumbGenerationQueue.shift();\n          if (queuedThumbRequest.update) {\n            processUpdateQueuedPreviewRequest(queuedThumbRequest);\n          } else {\n            processNewQueuedPreviewRequest(queuedThumbRequest);\n          }\n        } else {\n          thumbnailQueueMonitorRunning = false;\n        }\n      },\n      getCancel = function getCancel(id) {\n        return getTemplateEl(getFile(id), selectorClasses.cancel);\n      },\n      getContinue = function getContinue(id) {\n        return getTemplateEl(getFile(id), selectorClasses.continueButton);\n      },\n      getDialog = function getDialog(type) {\n        return getTemplateEl(container, selectorClasses[type + \"Dialog\"]);\n      },\n      getDelete = function getDelete(id) {\n        return getTemplateEl(getFile(id), selectorClasses.deleteButton);\n      },\n      getDropProcessing = function getDropProcessing() {\n        return getTemplateEl(container, selectorClasses.dropProcessing);\n      },\n      getEditIcon = function getEditIcon(id) {\n        return getTemplateEl(getFile(id), selectorClasses.editNameIcon);\n      },\n      getFile = function getFile(id) {\n        return fileBatch.map[id] || qq(fileList).getFirstByClass(FILE_CLASS_PREFIX + id);\n      },\n      getFilename = function getFilename(id) {\n        return getTemplateEl(getFile(id), selectorClasses.file);\n      },\n      getPause = function getPause(id) {\n        return getTemplateEl(getFile(id), selectorClasses.pause);\n      },\n      getProgress = function getProgress(id) {\n        if (id == null) {\n          return getTemplateEl(container, selectorClasses.totalProgressBarContainer) || getTemplateEl(container, selectorClasses.totalProgressBar);\n        }\n        return getTemplateEl(getFile(id), selectorClasses.progressBarContainer) || getTemplateEl(getFile(id), selectorClasses.progressBar);\n      },\n      getRetry = function getRetry(id) {\n        return getTemplateEl(getFile(id), selectorClasses.retry);\n      },\n      getSize = function getSize(id) {\n        return getTemplateEl(getFile(id), selectorClasses.size);\n      },\n      getSpinner = function getSpinner(id) {\n        return getTemplateEl(getFile(id), selectorClasses.spinner);\n      },\n      getTemplateEl = function getTemplateEl(context, cssClass) {\n        return context && qq(context).getFirstByClass(cssClass);\n      },\n      getThumbnail = function getThumbnail(id) {\n        return showThumbnails && getTemplateEl(getFile(id), selectorClasses.thumbnail);\n      },\n      hide = function hide(el) {\n        el && qq(el).addClass(options.classes.hide);\n      },\n      maybeScalePlaceholderViaCss = function maybeScalePlaceholderViaCss(placeholder, thumbnail) {\n        var maxWidth = placeholder.style.maxWidth,\n          maxHeight = placeholder.style.maxHeight;\n        if (maxHeight && maxWidth && !thumbnail.style.maxWidth && !thumbnail.style.maxHeight) {\n          qq(thumbnail).css({\n            maxWidth: maxWidth,\n            maxHeight: maxHeight\n          });\n        }\n      },\n      maybeSetDisplayNotAvailableImg = function maybeSetDisplayNotAvailableImg(id, thumbnail) {\n        var previewing = previewGeneration[id] || new qq.Promise().failure(),\n          notAvailableImgPlacement = new qq.Promise();\n        cachedThumbnailNotAvailableImg.then(function (img) {\n          previewing.then(function () {\n            notAvailableImgPlacement.success();\n          }, function () {\n            maybeScalePlaceholderViaCss(img, thumbnail);\n            thumbnail.onload = function () {\n              thumbnail.onload = null;\n              notAvailableImgPlacement.success();\n            };\n            thumbnail.src = img.src;\n            show(thumbnail);\n          });\n        });\n        return notAvailableImgPlacement;\n      },\n      parseAndGetTemplate = function parseAndGetTemplate() {\n        var scriptEl, scriptHtml, fileListNode, tempTemplateEl, fileListEl, defaultButton, dropArea, thumbnail, dropProcessing, dropTextEl, uploaderEl;\n        log(\"Parsing template\");\n        if (options.templateIdOrEl == null) {\n          throw new Error(\"You MUST specify either a template element or ID!\");\n        }\n        if (qq.isString(options.templateIdOrEl)) {\n          scriptEl = document.getElementById(options.templateIdOrEl);\n          if (scriptEl === null) {\n            throw new Error(qq.format(\"Cannot find template script at ID '{}'!\", options.templateIdOrEl));\n          }\n          scriptHtml = scriptEl.innerHTML;\n        } else {\n          if (options.templateIdOrEl.innerHTML === undefined) {\n            throw new Error(\"You have specified an invalid value for the template option!  \" + \"It must be an ID or an Element.\");\n          }\n          scriptHtml = options.templateIdOrEl.innerHTML;\n        }\n        scriptHtml = qq.trimStr(scriptHtml);\n        tempTemplateEl = document.createElement(\"div\");\n        tempTemplateEl.appendChild(qq.toElement(scriptHtml));\n        uploaderEl = qq(tempTemplateEl).getFirstByClass(selectorClasses.uploader);\n        if (options.button) {\n          defaultButton = qq(tempTemplateEl).getFirstByClass(selectorClasses.button);\n          if (defaultButton) {\n            qq(defaultButton).remove();\n          }\n        }\n        if (!qq.DragAndDrop || !qq.supportedFeatures.fileDrop) {\n          dropProcessing = qq(tempTemplateEl).getFirstByClass(selectorClasses.dropProcessing);\n          if (dropProcessing) {\n            qq(dropProcessing).remove();\n          }\n        }\n        dropArea = qq(tempTemplateEl).getFirstByClass(selectorClasses.drop);\n        if (dropArea && !qq.DragAndDrop) {\n          log(\"DnD module unavailable.\", \"info\");\n          qq(dropArea).remove();\n        }\n        if (!qq.supportedFeatures.fileDrop) {\n          uploaderEl.removeAttribute(DROPZPONE_TEXT_ATTR);\n          if (dropArea && qq(dropArea).hasAttribute(HIDE_DROPZONE_ATTR)) {\n            qq(dropArea).css({\n              display: \"none\"\n            });\n          }\n        } /*else if (qq(uploaderEl).hasAttribute(DROPZPONE_TEXT_ATTR) && dropArea) {\n            dropTextEl = qq(dropArea).getFirstByClass(selectorClasses.dropText);\n            dropTextEl && qq(dropTextEl).remove();\n          }*/\n        thumbnail = qq(tempTemplateEl).getFirstByClass(selectorClasses.thumbnail);\n        if (!showThumbnails) {\n          thumbnail && qq(thumbnail).remove();\n        } else if (thumbnail) {\n          thumbnailMaxSize = parseInt(thumbnail.getAttribute(THUMBNAIL_MAX_SIZE_ATTR));\n          thumbnailMaxSize = thumbnailMaxSize > 0 ? thumbnailMaxSize : null;\n          serverScale = qq(thumbnail).hasAttribute(THUMBNAIL_SERVER_SCALE_ATTR);\n        }\n        showThumbnails = showThumbnails && thumbnail;\n        isEditElementsExist = qq(tempTemplateEl).getByClass(selectorClasses.editFilenameInput).length > 0;\n        isRetryElementExist = qq(tempTemplateEl).getByClass(selectorClasses.retry).length > 0;\n        fileListNode = qq(tempTemplateEl).getFirstByClass(selectorClasses.list);\n        if (fileListNode == null) {\n          throw new Error(\"Could not find the file list container in the template!\");\n        }\n        fileListEl = fileListNode.children[0].cloneNode(true);\n        fileListNode.innerHTML = \"\";\n        if (tempTemplateEl.getElementsByTagName(\"DIALOG\").length) {\n          document.createElement(\"dialog\");\n        }\n        log(\"Template parsing complete\");\n        return {\n          template: tempTemplateEl,\n          fileTemplate: fileListEl\n        };\n      },\n      prependFile = function prependFile(el, index, fileList) {\n        var parentEl = fileList,\n          beforeEl = parentEl.firstChild;\n        if (index > 0) {\n          beforeEl = qq(parentEl).children()[index].nextSibling;\n        }\n        parentEl.insertBefore(el, beforeEl);\n      },\n      processNewQueuedPreviewRequest = function processNewQueuedPreviewRequest(queuedThumbRequest) {\n        var id = queuedThumbRequest.id,\n          optFileOrBlob = queuedThumbRequest.optFileOrBlob,\n          relatedThumbnailId = optFileOrBlob && optFileOrBlob.qqThumbnailId,\n          thumbnail = getThumbnail(id),\n          spec = {\n            customResizeFunction: queuedThumbRequest.customResizeFunction,\n            maxSize: thumbnailMaxSize,\n            orient: true,\n            scale: true\n          };\n        if (qq.supportedFeatures.imagePreviews) {\n          if (thumbnail) {\n            if (options.limits.maxThumbs && options.limits.maxThumbs <= generatedThumbnails) {\n              maybeSetDisplayNotAvailableImg(id, thumbnail);\n              generateNextQueuedPreview();\n            } else {\n              displayWaitingImg(thumbnail).done(function () {\n                previewGeneration[id] = new qq.Promise();\n                previewGeneration[id].done(function () {\n                  setTimeout(generateNextQueuedPreview, options.limits.timeBetweenThumbs);\n                });\n                if (relatedThumbnailId != null) {\n                  useCachedPreview(id, relatedThumbnailId);\n                } else {\n                  generateNewPreview(id, optFileOrBlob, spec);\n                }\n              });\n            }\n          } else {\n            generateNextQueuedPreview();\n          }\n        } else if (thumbnail) {\n          displayWaitingImg(thumbnail);\n          generateNextQueuedPreview();\n        }\n      },\n      processUpdateQueuedPreviewRequest = function processUpdateQueuedPreviewRequest(queuedThumbRequest) {\n        var id = queuedThumbRequest.id,\n          thumbnailUrl = queuedThumbRequest.thumbnailUrl,\n          showWaitingImg = queuedThumbRequest.showWaitingImg,\n          thumbnail = getThumbnail(id),\n          spec = {\n            customResizeFunction: queuedThumbRequest.customResizeFunction,\n            scale: serverScale,\n            maxSize: thumbnailMaxSize\n          };\n        if (thumbnail) {\n          if (thumbnailUrl) {\n            if (options.limits.maxThumbs && options.limits.maxThumbs <= generatedThumbnails) {\n              maybeSetDisplayNotAvailableImg(id, thumbnail);\n              generateNextQueuedPreview();\n            } else {\n              if (showWaitingImg) {\n                displayWaitingImg(thumbnail);\n              }\n              return options.imageGenerator.generate(thumbnailUrl, thumbnail, spec).then(function () {\n                show(thumbnail);\n                generatedThumbnails++;\n                setTimeout(generateNextQueuedPreview, options.limits.timeBetweenThumbs);\n              }, function () {\n                maybeSetDisplayNotAvailableImg(id, thumbnail);\n                setTimeout(generateNextQueuedPreview, options.limits.timeBetweenThumbs);\n              });\n            }\n          } else {\n            maybeSetDisplayNotAvailableImg(id, thumbnail);\n            generateNextQueuedPreview();\n          }\n        }\n      },\n      setProgressBarWidth = function setProgressBarWidth(id, percent) {\n        var bar = getProgress(id),\n          progressBarSelector = id == null ? selectorClasses.totalProgressBar : selectorClasses.progressBar;\n        if (bar && !qq(bar).hasClass(progressBarSelector)) {\n          bar = qq(bar).getFirstByClass(progressBarSelector);\n        }\n        if (bar) {\n          qq(bar).css({\n            width: percent + \"%\"\n          });\n          bar.setAttribute(\"aria-valuenow\", percent);\n        }\n      },\n      show = function show(el) {\n        el && qq(el).removeClass(options.classes.hide);\n      },\n      useCachedPreview = function useCachedPreview(targetThumbnailId, cachedThumbnailId) {\n        var targetThumbnail = getThumbnail(targetThumbnailId),\n          cachedThumbnail = getThumbnail(cachedThumbnailId);\n        log(qq.format(\"ID {} is the same file as ID {}.  Will use generated thumbnail from ID {} instead.\", targetThumbnailId, cachedThumbnailId, cachedThumbnailId));\n        previewGeneration[cachedThumbnailId].then(function () {\n          generatedThumbnails++;\n          previewGeneration[targetThumbnailId].success();\n          log(qq.format(\"Now using previously generated thumbnail created for ID {} on ID {}.\", cachedThumbnailId, targetThumbnailId));\n          targetThumbnail.src = cachedThumbnail.src;\n          show(targetThumbnail);\n        }, function () {\n          previewGeneration[targetThumbnailId].failure();\n          if (!options.placeholders.waitUntilUpdate) {\n            maybeSetDisplayNotAvailableImg(targetThumbnailId, targetThumbnail);\n          }\n        });\n      };\n    qq.extend(options, spec);\n    log = options.log;\n    if (!qq.supportedFeatures.imagePreviews) {\n      options.limits.timeBetweenThumbs = 0;\n      options.limits.maxThumbs = 0;\n    }\n    container = options.containerEl;\n    showThumbnails = options.imageGenerator !== undefined;\n    templateDom = parseAndGetTemplate();\n    cacheThumbnailPlaceholders();\n    qq.extend(this, {\n      render: function render() {\n        log(\"Rendering template in DOM.\");\n        generatedThumbnails = 0;\n        container.appendChild(templateDom.template.cloneNode(true));\n        hide(getDropProcessing());\n        this.hideTotalProgress();\n        fileList = options.fileContainerEl || getTemplateEl(container, selectorClasses.list);\n        log(\"Template rendering complete\");\n      },\n      renderFailure: function renderFailure(message) {\n        var cantRenderEl = qq.toElement(message);\n        container.innerHTML = \"\";\n        container.appendChild(cantRenderEl);\n      },\n      reset: function reset() {\n        container.innerHTML = \"\";\n        this.render();\n      },\n      clearFiles: function clearFiles() {\n        fileList.innerHTML = \"\";\n      },\n      disableCancel: function disableCancel() {\n        isCancelDisabled = true;\n      },\n      addFile: function addFile(id, name, prependInfo, hideForever, batch) {\n        var fileEl = templateDom.fileTemplate.cloneNode(true),\n          fileNameEl = getTemplateEl(fileEl, selectorClasses.file),\n          uploaderEl = getTemplateEl(container, selectorClasses.uploader),\n          fileContainer = batch ? fileBatch.content : fileList,\n          thumb;\n        if (batch) {\n          fileBatch.map[id] = fileEl;\n        }\n        qq(fileEl).addClass(FILE_CLASS_PREFIX + id);\n        uploaderEl.removeAttribute(DROPZPONE_TEXT_ATTR);\n        if (fileNameEl) {\n          qq(fileNameEl).setText(name);\n          fileNameEl.setAttribute(\"title\", name);\n        }\n        fileEl.setAttribute(FILE_ID_ATTR, id);\n        if (prependInfo) {\n          prependFile(fileEl, prependInfo.index, fileContainer);\n        } else {\n          fileContainer.appendChild(fileEl);\n        }\n        if (hideForever) {\n          fileEl.style.display = \"none\";\n          qq(fileEl).addClass(HIDDEN_FOREVER_CLASS);\n        } else {\n          hide(getProgress(id));\n          hide(getSize(id));\n          hide(getDelete(id));\n          hide(getRetry(id));\n          hide(getPause(id));\n          hide(getContinue(id));\n          if (isCancelDisabled) {\n            this.hideCancel(id);\n          }\n          thumb = getThumbnail(id);\n          if (thumb && !thumb.src) {\n            cachedWaitingForThumbnailImg.then(function (waitingImg) {\n              thumb.src = waitingImg.src;\n              if (waitingImg.style.maxHeight && waitingImg.style.maxWidth) {\n                qq(thumb).css({\n                  maxHeight: waitingImg.style.maxHeight,\n                  maxWidth: waitingImg.style.maxWidth\n                });\n              }\n              show(thumb);\n            });\n          }\n        }\n      },\n      addFileToCache: function addFileToCache(id, name, prependInfo, hideForever) {\n        this.addFile(id, name, prependInfo, hideForever, true);\n      },\n      addCacheToDom: function addCacheToDom() {\n        fileList.appendChild(fileBatch.content);\n        fileBatch.content = document.createDocumentFragment();\n        fileBatch.map = {};\n      },\n      removeFile: function removeFile(id) {\n        qq(getFile(id)).remove();\n      },\n      getFileId: function getFileId(el) {\n        var currentNode = el;\n        if (currentNode) {\n          while (currentNode.getAttribute(FILE_ID_ATTR) == null) {\n            currentNode = currentNode.parentNode;\n          }\n          return parseInt(currentNode.getAttribute(FILE_ID_ATTR));\n        }\n      },\n      getFileList: function getFileList() {\n        return fileList;\n      },\n      markFilenameEditable: function markFilenameEditable(id) {\n        var filename = getFilename(id);\n        filename && qq(filename).addClass(options.classes.editable);\n      },\n      updateFilename: function updateFilename(id, name) {\n        var filenameEl = getFilename(id);\n        if (filenameEl) {\n          qq(filenameEl).setText(name);\n          filenameEl.setAttribute(\"title\", name);\n        }\n      },\n      hideFilename: function hideFilename(id) {\n        hide(getFilename(id));\n      },\n      showFilename: function showFilename(id) {\n        show(getFilename(id));\n      },\n      isFileName: function isFileName(el) {\n        return qq(el).hasClass(selectorClasses.file);\n      },\n      getButton: function getButton() {\n        return options.button || getTemplateEl(container, selectorClasses.button);\n      },\n      hideDropProcessing: function hideDropProcessing() {\n        hide(getDropProcessing());\n      },\n      showDropProcessing: function showDropProcessing() {\n        show(getDropProcessing());\n      },\n      getDropZone: function getDropZone() {\n        return getTemplateEl(container, selectorClasses.drop);\n      },\n      isEditFilenamePossible: function isEditFilenamePossible() {\n        return isEditElementsExist;\n      },\n      hideRetry: function hideRetry(id) {\n        hide(getRetry(id));\n      },\n      isRetryPossible: function isRetryPossible() {\n        return isRetryElementExist;\n      },\n      showRetry: function showRetry(id) {\n        show(getRetry(id));\n      },\n      getFileContainer: function getFileContainer(id) {\n        return getFile(id);\n      },\n      showEditIcon: function showEditIcon(id) {\n        var icon = getEditIcon(id);\n        icon && qq(icon).addClass(options.classes.editable);\n      },\n      isHiddenForever: function isHiddenForever(id) {\n        return qq(getFile(id)).hasClass(HIDDEN_FOREVER_CLASS);\n      },\n      hideEditIcon: function hideEditIcon(id) {\n        var icon = getEditIcon(id);\n        icon && qq(icon).removeClass(options.classes.editable);\n      },\n      isEditIcon: function isEditIcon(el) {\n        return qq(el).hasClass(selectorClasses.editNameIcon, true);\n      },\n      getEditInput: function getEditInput(id) {\n        return getTemplateEl(getFile(id), selectorClasses.editFilenameInput);\n      },\n      isEditInput: function isEditInput(el) {\n        return qq(el).hasClass(selectorClasses.editFilenameInput, true);\n      },\n      updateProgress: function updateProgress(id, loaded, total) {\n        var bar = getProgress(id),\n          percent;\n        if (bar && total > 0) {\n          percent = Math.round(loaded / total * 100);\n          if (percent === 100) {\n            hide(bar);\n          } else {\n            show(bar);\n          }\n          setProgressBarWidth(id, percent);\n        }\n      },\n      updateTotalProgress: function updateTotalProgress(loaded, total) {\n        this.updateProgress(null, loaded, total);\n      },\n      hideProgress: function hideProgress(id) {\n        var bar = getProgress(id);\n        bar && hide(bar);\n      },\n      hideTotalProgress: function hideTotalProgress() {\n        this.hideProgress();\n      },\n      resetProgress: function resetProgress(id) {\n        setProgressBarWidth(id, 0);\n        this.hideTotalProgress(id);\n      },\n      resetTotalProgress: function resetTotalProgress() {\n        this.resetProgress();\n      },\n      showCancel: function showCancel(id) {\n        if (!isCancelDisabled) {\n          var cancel = getCancel(id);\n          cancel && qq(cancel).removeClass(options.classes.hide);\n        }\n      },\n      hideCancel: function hideCancel(id) {\n        hide(getCancel(id));\n      },\n      isCancel: function isCancel(el) {\n        return qq(el).hasClass(selectorClasses.cancel, true);\n      },\n      allowPause: function allowPause(id) {\n        show(getPause(id));\n        hide(getContinue(id));\n      },\n      uploadPaused: function uploadPaused(id) {\n        this.setStatusText(id, options.text.paused);\n        this.allowContinueButton(id);\n        hide(getSpinner(id));\n      },\n      hidePause: function hidePause(id) {\n        hide(getPause(id));\n      },\n      isPause: function isPause(el) {\n        return qq(el).hasClass(selectorClasses.pause, true);\n      },\n      isContinueButton: function isContinueButton(el) {\n        return qq(el).hasClass(selectorClasses.continueButton, true);\n      },\n      allowContinueButton: function allowContinueButton(id) {\n        show(getContinue(id));\n        hide(getPause(id));\n      },\n      uploadContinued: function uploadContinued(id) {\n        this.setStatusText(id, \"\");\n        this.allowPause(id);\n        show(getSpinner(id));\n      },\n      showDeleteButton: function showDeleteButton(id) {\n        show(getDelete(id));\n      },\n      hideDeleteButton: function hideDeleteButton(id) {\n        hide(getDelete(id));\n      },\n      isDeleteButton: function isDeleteButton(el) {\n        return qq(el).hasClass(selectorClasses.deleteButton, true);\n      },\n      isRetry: function isRetry(el) {\n        return qq(el).hasClass(selectorClasses.retry, true);\n      },\n      updateSize: function updateSize(id, text) {\n        var size = getSize(id);\n        if (size) {\n          show(size);\n          qq(size).setText(text);\n        }\n      },\n      setStatusText: function setStatusText(id, text) {\n        var textEl = getTemplateEl(getFile(id), selectorClasses.statusText);\n        if (textEl) {\n          if (text == null) {\n            qq(textEl).clearText();\n          } else {\n            qq(textEl).setText(text);\n          }\n        }\n      },\n      hideSpinner: function hideSpinner(id) {\n        qq(getFile(id)).removeClass(IN_PROGRESS_CLASS);\n        hide(getSpinner(id));\n      },\n      showSpinner: function showSpinner(id) {\n        qq(getFile(id)).addClass(IN_PROGRESS_CLASS);\n        show(getSpinner(id));\n      },\n      generatePreview: function generatePreview(id, optFileOrBlob, customResizeFunction) {\n        if (!this.isHiddenForever(id)) {\n          thumbGenerationQueue.push({\n            id: id,\n            customResizeFunction: customResizeFunction,\n            optFileOrBlob: optFileOrBlob\n          });\n          !thumbnailQueueMonitorRunning && generateNextQueuedPreview();\n        }\n      },\n      updateThumbnail: function updateThumbnail(id, thumbnailUrl, showWaitingImg, customResizeFunction) {\n        if (!this.isHiddenForever(id)) {\n          thumbGenerationQueue.push({\n            customResizeFunction: customResizeFunction,\n            update: true,\n            id: id,\n            thumbnailUrl: thumbnailUrl,\n            showWaitingImg: showWaitingImg\n          });\n          !thumbnailQueueMonitorRunning && generateNextQueuedPreview();\n        }\n      },\n      hasDialog: function hasDialog(type) {\n        return qq.supportedFeatures.dialogElement && !!getDialog(type);\n      },\n      showDialog: function showDialog(type, message, defaultValue) {\n        var dialog = getDialog(type),\n          messageEl = getTemplateEl(dialog, selectorClasses.dialogMessage),\n          inputEl = dialog.getElementsByTagName(\"INPUT\")[0],\n          cancelBtn = getTemplateEl(dialog, selectorClasses.dialogCancelButton),\n          okBtn = getTemplateEl(dialog, selectorClasses.dialogOkButton),\n          promise = new qq.Promise(),\n          closeHandler = function closeHandler() {\n            cancelBtn.removeEventListener(\"click\", cancelClickHandler);\n            okBtn && okBtn.removeEventListener(\"click\", okClickHandler);\n            promise.failure();\n          },\n          cancelClickHandler = function cancelClickHandler() {\n            cancelBtn.removeEventListener(\"click\", cancelClickHandler);\n            dialog.close();\n          },\n          okClickHandler = function okClickHandler() {\n            dialog.removeEventListener(\"close\", closeHandler);\n            okBtn.removeEventListener(\"click\", okClickHandler);\n            dialog.close();\n            promise.success(inputEl && inputEl.value);\n          };\n        dialog.addEventListener(\"close\", closeHandler);\n        cancelBtn.addEventListener(\"click\", cancelClickHandler);\n        okBtn && okBtn.addEventListener(\"click\", okClickHandler);\n        if (inputEl) {\n          inputEl.value = defaultValue;\n        }\n        messageEl.textContent = message;\n        dialog.showModal();\n        return promise;\n      }\n    });\n  };\n  qq.UiEventHandler = function (s, protectedApi) {\n    \"use strict\";\n\n    var disposer = new qq.DisposeSupport(),\n      spec = {\n        eventType: \"click\",\n        attachTo: null,\n        onHandled: function onHandled(target, event) {}\n      };\n    qq.extend(this, {\n      addHandler: function addHandler(element) {\n        _addHandler(element);\n      },\n      dispose: function dispose() {\n        disposer.dispose();\n      }\n    });\n    function _addHandler(element) {\n      disposer.attach(element, spec.eventType, function (event) {\n        event = event || window.event;\n        var target = event.target || event.srcElement;\n        spec.onHandled(target, event);\n      });\n    }\n    qq.extend(protectedApi, {\n      getFileIdFromItem: function getFileIdFromItem(item) {\n        return item.qqFileId;\n      },\n      getDisposeSupport: function getDisposeSupport() {\n        return disposer;\n      }\n    });\n    qq.extend(spec, s);\n    if (spec.attachTo) {\n      _addHandler(spec.attachTo);\n    }\n  };\n  qq.FileButtonsClickHandler = function (s) {\n    \"use strict\";\n\n    var inheritedInternalApi = {},\n      spec = {\n        templating: null,\n        log: function log(message, lvl) {},\n        onDeleteFile: function onDeleteFile(fileId) {},\n        onCancel: function onCancel(fileId) {},\n        onRetry: function onRetry(fileId) {},\n        onPause: function onPause(fileId) {},\n        onContinue: function onContinue(fileId) {},\n        onGetName: function onGetName(fileId) {}\n      },\n      buttonHandlers = {\n        cancel: function cancel(id) {\n          spec.onCancel(id);\n        },\n        retry: function retry(id) {\n          spec.onRetry(id);\n        },\n        deleteButton: function deleteButton(id) {\n          spec.onDeleteFile(id);\n        },\n        pause: function pause(id) {\n          spec.onPause(id);\n        },\n        continueButton: function continueButton(id) {\n          spec.onContinue(id);\n        }\n      };\n    function examineEvent(target, event) {\n      qq.each(buttonHandlers, function (buttonType, handler) {\n        var firstLetterCapButtonType = buttonType.charAt(0).toUpperCase() + buttonType.slice(1),\n          fileId;\n        if (spec.templating[\"is\" + firstLetterCapButtonType](target)) {\n          fileId = spec.templating.getFileId(target);\n          qq.preventDefault(event);\n          spec.log(qq.format(\"Detected valid file button click event on file '{}', ID: {}.\", spec.onGetName(fileId), fileId));\n          handler(fileId);\n          return false;\n        }\n      });\n    }\n    qq.extend(spec, s);\n    spec.eventType = \"click\";\n    spec.onHandled = examineEvent;\n    spec.attachTo = spec.templating.getFileList();\n    qq.extend(this, new qq.UiEventHandler(spec, inheritedInternalApi));\n  };\n  qq.FilenameClickHandler = function (s) {\n    \"use strict\";\n\n    var inheritedInternalApi = {},\n      spec = {\n        templating: null,\n        log: function log(message, lvl) {},\n        classes: {\n          file: \"qq-upload-file\",\n          editNameIcon: \"qq-edit-filename-icon\"\n        },\n        onGetUploadStatus: function onGetUploadStatus(fileId) {},\n        onGetName: function onGetName(fileId) {}\n      };\n    qq.extend(spec, s);\n    function examineEvent(target, event) {\n      if (spec.templating.isFileName(target) || spec.templating.isEditIcon(target)) {\n        var fileId = spec.templating.getFileId(target),\n          status = spec.onGetUploadStatus(fileId);\n        if (status === qq.status.SUBMITTED) {\n          spec.log(qq.format(\"Detected valid filename click event on file '{}', ID: {}.\", spec.onGetName(fileId), fileId));\n          qq.preventDefault(event);\n          inheritedInternalApi.handleFilenameEdit(fileId, target, true);\n        }\n      }\n    }\n    spec.eventType = \"click\";\n    spec.onHandled = examineEvent;\n    qq.extend(this, new qq.FilenameEditHandler(spec, inheritedInternalApi));\n  };\n  qq.FilenameInputFocusInHandler = function (s, inheritedInternalApi) {\n    \"use strict\";\n\n    var spec = {\n      templating: null,\n      onGetUploadStatus: function onGetUploadStatus(fileId) {},\n      log: function log(message, lvl) {}\n    };\n    if (!inheritedInternalApi) {\n      inheritedInternalApi = {};\n    }\n    function handleInputFocus(target, event) {\n      if (spec.templating.isEditInput(target)) {\n        var fileId = spec.templating.getFileId(target),\n          status = spec.onGetUploadStatus(fileId);\n        if (status === qq.status.SUBMITTED) {\n          spec.log(qq.format(\"Detected valid filename input focus event on file '{}', ID: {}.\", spec.onGetName(fileId), fileId));\n          inheritedInternalApi.handleFilenameEdit(fileId, target);\n        }\n      }\n    }\n    spec.eventType = \"focusin\";\n    spec.onHandled = handleInputFocus;\n    qq.extend(spec, s);\n    qq.extend(this, new qq.FilenameEditHandler(spec, inheritedInternalApi));\n  };\n  qq.FilenameInputFocusHandler = function (spec) {\n    \"use strict\";\n\n    spec.eventType = \"focus\";\n    spec.attachTo = null;\n    qq.extend(this, new qq.FilenameInputFocusInHandler(spec, {}));\n  };\n  qq.FilenameEditHandler = function (s, inheritedInternalApi) {\n    \"use strict\";\n\n    var spec = {\n      templating: null,\n      log: function log(message, lvl) {},\n      onGetUploadStatus: function onGetUploadStatus(fileId) {},\n      onGetName: function onGetName(fileId) {},\n      onSetName: function onSetName(fileId, newName) {},\n      onEditingStatusChange: function onEditingStatusChange(fileId, isEditing) {}\n    };\n    function getFilenameSansExtension(fileId) {\n      var filenameSansExt = spec.onGetName(fileId),\n        extIdx = filenameSansExt.lastIndexOf(\".\");\n      if (extIdx > 0) {\n        filenameSansExt = filenameSansExt.substr(0, extIdx);\n      }\n      return filenameSansExt;\n    }\n    function getOriginalExtension(fileId) {\n      var origName = spec.onGetName(fileId);\n      return qq.getExtension(origName);\n    }\n    function handleNameUpdate(newFilenameInputEl, fileId) {\n      var newName = newFilenameInputEl.value,\n        origExtension;\n      if (newName !== undefined && qq.trimStr(newName).length > 0) {\n        origExtension = getOriginalExtension(fileId);\n        if (origExtension !== undefined) {\n          newName = newName + \".\" + origExtension;\n        }\n        spec.onSetName(fileId, newName);\n      }\n      spec.onEditingStatusChange(fileId, false);\n    }\n    function registerInputBlurHandler(inputEl, fileId) {\n      inheritedInternalApi.getDisposeSupport().attach(inputEl, \"blur\", function () {\n        handleNameUpdate(inputEl, fileId);\n      });\n    }\n    function registerInputEnterKeyHandler(inputEl, fileId) {\n      inheritedInternalApi.getDisposeSupport().attach(inputEl, \"keyup\", function (event) {\n        var code = event.keyCode || event.which;\n        if (code === 13) {\n          handleNameUpdate(inputEl, fileId);\n        }\n      });\n    }\n    qq.extend(spec, s);\n    spec.attachTo = spec.templating.getFileList();\n    qq.extend(this, new qq.UiEventHandler(spec, inheritedInternalApi));\n    qq.extend(inheritedInternalApi, {\n      handleFilenameEdit: function handleFilenameEdit(id, target, focusInput) {\n        var newFilenameInputEl = spec.templating.getEditInput(id);\n        spec.onEditingStatusChange(id, true);\n        newFilenameInputEl.value = getFilenameSansExtension(id);\n        if (focusInput) {\n          newFilenameInputEl.focus();\n        }\n        registerInputBlurHandler(newFilenameInputEl, id);\n        registerInputEnterKeyHandler(newFilenameInputEl, id);\n      }\n    });\n  };\n})(window);\nexport default qq;","/* Chosen v1.0.0 | (c) 2011-2013 by Harvest | MIT License, https://github.com/harvesthq/chosen/blob/master/LICENSE.md */\n\nimport jQuery from 'jquery';\n!function () {\n  var a,\n    AbstractChosen,\n    Chosen,\n    SelectParser,\n    b,\n    c = {}.hasOwnProperty,\n    d = function d(a, b) {\n      function d() {\n        this.constructor = a;\n      }\n      for (var e in b) c.call(b, e) && (a[e] = b[e]);\n      return d.prototype = b.prototype, a.prototype = new d(), a.__super__ = b.prototype, a;\n    };\n  SelectParser = function () {\n    function SelectParser() {\n      this.options_index = 0, this.parsed = [];\n    }\n    return SelectParser.prototype.add_node = function (a) {\n      return \"OPTGROUP\" === a.nodeName.toUpperCase() ? this.add_group(a) : this.add_option(a);\n    }, SelectParser.prototype.add_group = function (a) {\n      var b, c, d, e, f, g;\n      for (b = this.parsed.length, this.parsed.push({\n        array_index: b,\n        group: !0,\n        label: this.escapeExpression(a.label),\n        children: 0,\n        disabled: a.disabled\n      }), f = a.childNodes, g = [], d = 0, e = f.length; e > d; d++) c = f[d], g.push(this.add_option(c, b, a.disabled));\n      return g;\n    }, SelectParser.prototype.add_option = function (a, b, c) {\n      return \"OPTION\" === a.nodeName.toUpperCase() ? (\"\" !== a.text ? (null != b && (this.parsed[b].children += 1), this.parsed.push({\n        array_index: this.parsed.length,\n        options_index: this.options_index,\n        value: a.value,\n        text: a.text,\n        html: a.innerHTML,\n        selected: a.selected,\n        disabled: c === !0 ? c : a.disabled,\n        group_array_index: b,\n        classes: a.className,\n        style: a.style.cssText\n      })) : this.parsed.push({\n        array_index: this.parsed.length,\n        options_index: this.options_index,\n        empty: !0\n      }), this.options_index += 1) : void 0;\n    }, SelectParser.prototype.escapeExpression = function (a) {\n      var b, c;\n      return null == a || a === !1 ? \"\" : /[\\&\\<\\>\\\"\\'\\`]/.test(a) ? (b = {\n        \"<\": \"&lt;\",\n        \">\": \"&gt;\",\n        '\"': \"&quot;\",\n        \"'\": \"&#x27;\",\n        \"`\": \"&#x60;\"\n      }, c = /&(?!\\w+;)|[\\<\\>\\\"\\'\\`]/g, a.replace(c, function (a) {\n        return b[a] || \"&amp;\";\n      })) : a;\n    }, SelectParser;\n  }(), SelectParser.select_to_array = function (a) {\n    var b, c, d, e, f;\n    for (c = new SelectParser(), f = a.childNodes, d = 0, e = f.length; e > d; d++) b = f[d], c.add_node(b);\n    return c.parsed;\n  }, AbstractChosen = function () {\n    function AbstractChosen(a, b) {\n      this.form_field = a, this.options = null != b ? b : {}, AbstractChosen.browser_is_supported() && (this.is_multiple = this.form_field.multiple, this.set_default_text(), this.set_default_values(), this.setup(), this.set_up_html(), this.register_observers());\n    }\n    return AbstractChosen.prototype.set_default_values = function () {\n      var a = this;\n      return this.click_test_action = function (b) {\n        return a.test_active_click(b);\n      }, this.activate_action = function (b) {\n        return a.activate_field(b);\n      }, this.active_field = !1, this.mouse_on_container = !1, this.results_showing = !1, this.result_highlighted = null, this.result_single_selected = null, this.allow_single_deselect = null != this.options.allow_single_deselect && null != this.form_field.options[0] && \"\" === this.form_field.options[0].text ? this.options.allow_single_deselect : !1, this.disable_search_threshold = this.options.disable_search_threshold || 0, this.disable_search = this.options.disable_search || !1, this.enable_split_word_search = null != this.options.enable_split_word_search ? this.options.enable_split_word_search : !0, this.group_search = null != this.options.group_search ? this.options.group_search : !0, this.search_contains = this.options.search_contains || !1, this.single_backstroke_delete = null != this.options.single_backstroke_delete ? this.options.single_backstroke_delete : !0, this.max_selected_options = this.options.max_selected_options || 1 / 0, this.inherit_select_classes = this.options.inherit_select_classes || !1, this.display_selected_options = null != this.options.display_selected_options ? this.options.display_selected_options : !0, this.display_disabled_options = null != this.options.display_disabled_options ? this.options.display_disabled_options : !0;\n    }, AbstractChosen.prototype.set_default_text = function () {\n      return this.default_text = this.form_field.getAttribute(\"data-placeholder\") ? this.form_field.getAttribute(\"data-placeholder\") : this.is_multiple ? this.options.placeholder_text_multiple || this.options.placeholder_text || AbstractChosen.default_multiple_text : this.options.placeholder_text_single || this.options.placeholder_text || AbstractChosen.default_single_text, this.results_none_found = this.form_field.getAttribute(\"data-no_results_text\") || this.options.no_results_text || AbstractChosen.default_no_result_text;\n    }, AbstractChosen.prototype.mouse_enter = function () {\n      return this.mouse_on_container = !0;\n    }, AbstractChosen.prototype.mouse_leave = function () {\n      return this.mouse_on_container = !1;\n    }, AbstractChosen.prototype.input_focus = function () {\n      var a = this;\n      if (this.is_multiple) {\n        if (!this.active_field) return setTimeout(function () {\n          return a.container_mousedown();\n        }, 50);\n      } else if (!this.active_field) return this.activate_field();\n    }, AbstractChosen.prototype.input_blur = function () {\n      var a = this;\n      return this.mouse_on_container ? void 0 : (this.active_field = !1, setTimeout(function () {\n        return a.blur_test();\n      }, 100));\n    }, AbstractChosen.prototype.results_option_build = function (a) {\n      var b, c, d, e, f;\n      for (b = \"\", f = this.results_data, d = 0, e = f.length; e > d; d++) c = f[d], b += c.group ? this.result_add_group(c) : this.result_add_option(c), (null != a ? a.first : void 0) && (c.selected && this.is_multiple ? this.choice_build(c) : c.selected && !this.is_multiple && this.single_set_selected_text(c.text));\n      return b;\n    }, AbstractChosen.prototype.result_add_option = function (a) {\n      var b, c;\n      return a.search_match ? this.include_option_in_results(a) ? (b = [], a.disabled || a.selected && this.is_multiple || b.push(\"active-result\"), !a.disabled || a.selected && this.is_multiple || b.push(\"disabled-result\"), a.selected && b.push(\"result-selected\"), null != a.group_array_index && b.push(\"group-option\"), \"\" !== a.classes && b.push(a.classes), c = \"\" !== a.style.cssText ? ' style=\"' + a.style + '\"' : \"\", '<li class=\"' + b.join(\" \") + '\"' + c + ' data-option-array-index=\"' + a.array_index + '\">' + a.search_text + \"</li>\") : \"\" : \"\";\n    }, AbstractChosen.prototype.result_add_group = function (a) {\n      return a.search_match || a.group_match ? a.active_options > 0 ? '<li class=\"group-result\">' + a.search_text + \"</li>\" : \"\" : \"\";\n    }, AbstractChosen.prototype.results_update_field = function () {\n      return this.set_default_text(), this.is_multiple || this.results_reset_cleanup(), this.result_clear_highlight(), this.result_single_selected = null, this.results_build(), this.results_showing ? this.winnow_results() : void 0;\n    }, AbstractChosen.prototype.results_toggle = function () {\n      return this.results_showing ? this.results_hide() : this.results_show();\n    }, AbstractChosen.prototype.results_search = function () {\n      return this.results_showing ? this.winnow_results() : this.results_show();\n    }, AbstractChosen.prototype.winnow_results = function () {\n      var a, b, c, d, e, f, g, h, i, j, k, l, m;\n      for (this.no_results_clear(), e = 0, g = this.get_search_text(), a = g.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, \"\\\\$&\"), d = this.search_contains ? \"\" : \"^\", c = new RegExp(d + a, \"i\"), j = new RegExp(a, \"i\"), m = this.results_data, k = 0, l = m.length; l > k; k++) b = m[k], b.search_match = !1, f = null, this.include_option_in_results(b) && (b.group && (b.group_match = !1, b.active_options = 0), null != b.group_array_index && this.results_data[b.group_array_index] && (f = this.results_data[b.group_array_index], 0 === f.active_options && f.search_match && (e += 1), f.active_options += 1), (!b.group || this.group_search) && (b.search_text = b.group ? b.label : b.html, b.search_match = this.search_string_match(b.search_text, c), b.search_match && !b.group && (e += 1), b.search_match ? (g.length && (h = b.search_text.search(j), i = b.search_text.substr(0, h + g.length) + \"</em>\" + b.search_text.substr(h + g.length), b.search_text = i.substr(0, h) + \"<em>\" + i.substr(h)), null != f && (f.group_match = !0)) : null != b.group_array_index && this.results_data[b.group_array_index].search_match && (b.search_match = !0)));\n      return this.result_clear_highlight(), 1 > e && g.length ? (this.update_results_content(\"\"), this.no_results(g)) : (this.update_results_content(this.results_option_build()), this.winnow_results_set_highlight());\n    }, AbstractChosen.prototype.search_string_match = function (a, b) {\n      var c, d, e, f;\n      if (b.test(a)) return !0;\n      if (this.enable_split_word_search && (a.indexOf(\" \") >= 0 || 0 === a.indexOf(\"[\")) && (d = a.replace(/\\[|\\]/g, \"\").split(\" \"), d.length)) for (e = 0, f = d.length; f > e; e++) if (c = d[e], b.test(c)) return !0;\n    }, AbstractChosen.prototype.choices_count = function () {\n      var a, b, c, d;\n      if (null != this.selected_option_count) return this.selected_option_count;\n      for (this.selected_option_count = 0, d = this.form_field.options, b = 0, c = d.length; c > b; b++) a = d[b], a.selected && (this.selected_option_count += 1);\n      return this.selected_option_count;\n    }, AbstractChosen.prototype.choices_click = function (a) {\n      return a.preventDefault(), this.results_showing || this.is_disabled ? void 0 : this.results_show();\n    }, AbstractChosen.prototype.keyup_checker = function (a) {\n      var b, c;\n      switch (b = null != (c = a.which) ? c : a.keyCode, this.search_field_scale(), b) {\n        case 8:\n          if (this.is_multiple && this.backstroke_length < 1 && this.choices_count() > 0) return this.keydown_backstroke();\n          if (!this.pending_backstroke) return this.result_clear_highlight(), this.results_search();\n          break;\n        case 13:\n          if (a.preventDefault(), this.results_showing) return this.result_select(a);\n          break;\n        case 27:\n          return this.results_showing && this.results_hide(), !0;\n        case 9:\n        case 38:\n        case 40:\n        case 16:\n        case 91:\n        case 17:\n          break;\n        default:\n          return this.results_search();\n      }\n    }, AbstractChosen.prototype.container_width = function () {\n      return null != this.options.width ? this.options.width : \"\" + this.form_field.offsetWidth + \"px\";\n    }, AbstractChosen.prototype.include_option_in_results = function (a) {\n      return this.is_multiple && !this.display_selected_options && a.selected ? !1 : !this.display_disabled_options && a.disabled ? !1 : a.empty ? !1 : !0;\n    }, AbstractChosen.browser_is_supported = function () {\n      return \"Microsoft Internet Explorer\" === window.navigator.appName ? document.documentMode >= 8 : /iP(od|hone)/i.test(window.navigator.userAgent) ? !1 : /Android/i.test(window.navigator.userAgent) && /Mobile/i.test(window.navigator.userAgent) ? !1 : !0;\n    }, AbstractChosen.default_multiple_text = \"Select Some Options\", AbstractChosen.default_single_text = \"Select an Option\", AbstractChosen.default_no_result_text = \"No results match\", AbstractChosen;\n  }(), a = jQuery, a.fn.extend({\n    chosen: function chosen(b) {\n      return AbstractChosen.browser_is_supported() ? this.each(function () {\n        var c, d;\n        c = a(this), d = c.data(\"chosen\"), \"destroy\" === b && d ? d.destroy() : d || c.data(\"chosen\", new Chosen(this, b));\n      }) : this;\n    }\n  }), Chosen = function (c) {\n    function Chosen() {\n      return b = Chosen.__super__.constructor.apply(this, arguments);\n    }\n    return d(Chosen, c), Chosen.prototype.setup = function () {\n      return this.form_field_jq = a(this.form_field), this.current_selectedIndex = this.form_field.selectedIndex, this.is_rtl = this.form_field_jq.hasClass(\"chosen-rtl\");\n    }, Chosen.prototype.set_up_html = function () {\n      var b, c;\n      return b = [\"chosen-container\"], b.push(\"chosen-container-\" + (this.is_multiple ? \"multi\" : \"single\")), this.inherit_select_classes && this.form_field.className && b.push(this.form_field.className), this.is_rtl && b.push(\"chosen-rtl\"), c = {\n        \"class\": b.join(\" \"),\n        style: \"width: \" + this.container_width() + \";\",\n        title: this.form_field.title\n      }, this.form_field.id.length && (c.id = this.form_field.id.replace(/[^\\w]/g, \"_\") + \"_chosen\"), this.container = a(\"<div></div>\", c), this.is_multiple ? this.container.html('<ul class=\"chosen-choices\"><li class=\"search-field\"><input type=\"text\" value=\"' + this.default_text + '\" class=\"default\" autocomplete=\"off\" style=\"width:25px;\" /></li></ul><div class=\"chosen-drop\"><ul class=\"chosen-results\"></ul></div>') : this.container.html('<a class=\"chosen-single chosen-default\" tabindex=\"-1\"><span>' + this.default_text + '</span><div><b></b></div></a><div class=\"chosen-drop\"><div class=\"chosen-search\"><input type=\"text\" autocomplete=\"off\" /></div><ul class=\"chosen-results\"></ul></div>'), this.form_field_jq.hide().after(this.container), this.dropdown = this.container.find(\"div.chosen-drop\").first(), this.search_field = this.container.find(\"input\").first(), this.search_results = this.container.find(\"ul.chosen-results\").first(), this.search_field_scale(), this.search_no_results = this.container.find(\"li.no-results\").first(), this.is_multiple ? (this.search_choices = this.container.find(\"ul.chosen-choices\").first(), this.search_container = this.container.find(\"li.search-field\").first()) : (this.search_container = this.container.find(\"div.chosen-search\").first(), this.selected_item = this.container.find(\".chosen-single\").first()), this.results_build(), this.set_tab_index(), this.set_label_behavior(), this.form_field_jq.trigger(\"chosen:ready\", {\n        chosen: this\n      });\n    }, Chosen.prototype.register_observers = function () {\n      var a = this;\n      return this.container.bind(\"mousedown.chosen\", function (b) {\n        a.container_mousedown(b);\n      }), this.container.bind(\"mouseup.chosen\", function (b) {\n        a.container_mouseup(b);\n      }), this.container.bind(\"mouseenter.chosen\", function (b) {\n        a.mouse_enter(b);\n      }), this.container.bind(\"mouseleave.chosen\", function (b) {\n        a.mouse_leave(b);\n      }), this.search_results.bind(\"mouseup.chosen\", function (b) {\n        a.search_results_mouseup(b);\n      }), this.search_results.bind(\"mouseover.chosen\", function (b) {\n        a.search_results_mouseover(b);\n      }), this.search_results.bind(\"mouseout.chosen\", function (b) {\n        a.search_results_mouseout(b);\n      }), this.search_results.bind(\"mousewheel.chosen DOMMouseScroll.chosen\", function (b) {\n        a.search_results_mousewheel(b);\n      }), this.form_field_jq.bind(\"chosen:updated.chosen\", function (b) {\n        a.results_update_field(b);\n      }), this.form_field_jq.bind(\"chosen:activate.chosen\", function (b) {\n        a.activate_field(b);\n      }), this.form_field_jq.bind(\"chosen:open.chosen\", function (b) {\n        a.container_mousedown(b);\n      }), this.search_field.bind(\"blur.chosen\", function (b) {\n        a.input_blur(b);\n      }), this.search_field.bind(\"keyup.chosen\", function (b) {\n        a.keyup_checker(b);\n      }), this.search_field.bind(\"keydown.chosen\", function (b) {\n        a.keydown_checker(b);\n      }), this.search_field.bind(\"focus.chosen\", function (b) {\n        a.input_focus(b);\n      }), this.is_multiple ? this.search_choices.bind(\"click.chosen\", function (b) {\n        a.choices_click(b);\n      }) : this.container.bind(\"click.chosen\", function (a) {\n        a.preventDefault();\n      });\n    }, Chosen.prototype.destroy = function () {\n      return a(document).unbind(\"click.chosen\", this.click_test_action), this.search_field[0].tabIndex && (this.form_field_jq[0].tabIndex = this.search_field[0].tabIndex), this.container.remove(), this.form_field_jq.removeData(\"chosen\"), this.form_field_jq.show();\n    }, Chosen.prototype.search_field_disabled = function () {\n      return this.is_disabled = this.form_field_jq[0].disabled, this.is_disabled ? (this.container.addClass(\"chosen-disabled\"), this.search_field[0].disabled = !0, this.is_multiple || this.selected_item.unbind(\"focus.chosen\", this.activate_action), this.close_field()) : (this.container.removeClass(\"chosen-disabled\"), this.search_field[0].disabled = !1, this.is_multiple ? void 0 : this.selected_item.bind(\"focus.chosen\", this.activate_action));\n    }, Chosen.prototype.container_mousedown = function (b) {\n      return this.is_disabled || (b && \"mousedown\" === b.type && !this.results_showing && b.preventDefault(), null != b && a(b.target).hasClass(\"search-choice-close\")) ? void 0 : (this.active_field ? this.is_multiple || !b || a(b.target)[0] !== this.selected_item[0] && !a(b.target).parents(\"a.chosen-single\").length || (b.preventDefault(), this.results_toggle()) : (this.is_multiple && this.search_field.val(\"\"), a(document).bind(\"click.chosen\", this.click_test_action), this.results_show()), this.activate_field());\n    }, Chosen.prototype.container_mouseup = function (a) {\n      return \"ABBR\" !== a.target.nodeName || this.is_disabled ? void 0 : this.results_reset(a);\n    }, Chosen.prototype.search_results_mousewheel = function (a) {\n      var b, c, d;\n      return b = -(null != (c = a.originalEvent) ? c.wheelDelta : void 0) || (null != (d = a.originialEvent) ? d.detail : void 0), null != b ? (a.preventDefault(), \"DOMMouseScroll\" === a.type && (b = 40 * b), this.search_results.scrollTop(b + this.search_results.scrollTop())) : void 0;\n    }, Chosen.prototype.blur_test = function () {\n      return !this.active_field && this.container.hasClass(\"chosen-container-active\") ? this.close_field() : void 0;\n    }, Chosen.prototype.close_field = function () {\n      return a(document).unbind(\"click.chosen\", this.click_test_action), this.active_field = !1, this.results_hide(), this.container.removeClass(\"chosen-container-active\"), this.clear_backstroke(), this.show_search_field_default(), this.search_field_scale();\n    }, Chosen.prototype.activate_field = function () {\n      return this.container.addClass(\"chosen-container-active\"), this.active_field = !0, this.search_field.val(this.search_field.val()), this.search_field.focus();\n    }, Chosen.prototype.test_active_click = function (b) {\n      return this.container.is(a(b.target).closest(\".chosen-container\")) ? this.active_field = !0 : this.close_field();\n    }, Chosen.prototype.results_build = function () {\n      return this.parsing = !0, this.selected_option_count = null, this.results_data = SelectParser.select_to_array(this.form_field), this.is_multiple ? this.search_choices.find(\"li.search-choice\").remove() : this.is_multiple || (this.single_set_selected_text(), this.disable_search || this.form_field.options.length <= this.disable_search_threshold ? (this.search_field[0].readOnly = !0, this.container.addClass(\"chosen-container-single-nosearch\")) : (this.search_field[0].readOnly = !1, this.container.removeClass(\"chosen-container-single-nosearch\"))), this.update_results_content(this.results_option_build({\n        first: !0\n      })), this.search_field_disabled(), this.show_search_field_default(), this.search_field_scale(), this.parsing = !1;\n    }, Chosen.prototype.result_do_highlight = function (a) {\n      var b, c, d, e, f;\n      if (a.length) {\n        if (this.result_clear_highlight(), this.result_highlight = a, this.result_highlight.addClass(\"highlighted\"), d = parseInt(this.search_results.css(\"maxHeight\"), 10), f = this.search_results.scrollTop(), e = d + f, c = this.result_highlight.position().top + this.search_results.scrollTop(), b = c + this.result_highlight.outerHeight(), b >= e) return this.search_results.scrollTop(b - d > 0 ? b - d : 0);\n        if (f > c) return this.search_results.scrollTop(c);\n      }\n    }, Chosen.prototype.result_clear_highlight = function () {\n      return this.result_highlight && this.result_highlight.removeClass(\"highlighted\"), this.result_highlight = null;\n    }, Chosen.prototype.results_show = function () {\n      return this.is_multiple && this.max_selected_options <= this.choices_count() ? (this.form_field_jq.trigger(\"chosen:maxselected\", {\n        chosen: this\n      }), !1) : (this.container.addClass(\"chosen-with-drop\"), this.form_field_jq.trigger(\"chosen:showing_dropdown\", {\n        chosen: this\n      }), this.results_showing = !0, this.search_field.focus(), this.search_field.val(this.search_field.val()), this.winnow_results());\n    }, Chosen.prototype.update_results_content = function (a) {\n      return this.search_results.html(a);\n    }, Chosen.prototype.results_hide = function () {\n      return this.results_showing && (this.result_clear_highlight(), this.container.removeClass(\"chosen-with-drop\"), this.form_field_jq.trigger(\"chosen:hiding_dropdown\", {\n        chosen: this\n      })), this.results_showing = !1;\n    }, Chosen.prototype.set_tab_index = function () {\n      var a;\n      return this.form_field.tabIndex ? (a = this.form_field.tabIndex, this.form_field.tabIndex = -1, this.search_field[0].tabIndex = a) : void 0;\n    }, Chosen.prototype.set_label_behavior = function () {\n      var b = this;\n      return this.form_field_label = this.form_field_jq.parents(\"label\"), !this.form_field_label.length && this.form_field.id.length && (this.form_field_label = a(\"label[for='\" + this.form_field.id + \"']\")), this.form_field_label.length > 0 ? this.form_field_label.bind(\"click.chosen\", function (a) {\n        return b.is_multiple ? b.container_mousedown(a) : b.activate_field();\n      }) : void 0;\n    }, Chosen.prototype.show_search_field_default = function () {\n      return this.is_multiple && this.choices_count() < 1 && !this.active_field ? (this.search_field.val(this.default_text), this.search_field.addClass(\"default\")) : (this.search_field.val(\"\"), this.search_field.removeClass(\"default\"));\n    }, Chosen.prototype.search_results_mouseup = function (b) {\n      var c;\n      return c = a(b.target).hasClass(\"active-result\") ? a(b.target) : a(b.target).parents(\".active-result\").first(), c.length ? (this.result_highlight = c, this.result_select(b), this.search_field.focus()) : void 0;\n    }, Chosen.prototype.search_results_mouseover = function (b) {\n      var c;\n      return c = a(b.target).hasClass(\"active-result\") ? a(b.target) : a(b.target).parents(\".active-result\").first(), c ? this.result_do_highlight(c) : void 0;\n    }, Chosen.prototype.search_results_mouseout = function (b) {\n      return a(b.target).hasClass(\"active-result\") ? this.result_clear_highlight() : void 0;\n    }, Chosen.prototype.choice_build = function (b) {\n      var c,\n        d,\n        e = this;\n      return c = a(\"<li />\", {\n        \"class\": \"search-choice\"\n      }).html(\"<span>\" + b.html + \"</span>\"), b.disabled ? c.addClass(\"search-choice-disabled\") : (d = a(\"<a />\", {\n        \"class\": \"search-choice-close\",\n        \"data-option-array-index\": b.array_index\n      }), d.bind(\"click.chosen\", function (a) {\n        return e.choice_destroy_link_click(a);\n      }), c.append(d)), this.search_container.before(c);\n    }, Chosen.prototype.choice_destroy_link_click = function (b) {\n      return b.preventDefault(), b.stopPropagation(), this.is_disabled ? void 0 : this.choice_destroy(a(b.target));\n    }, Chosen.prototype.choice_destroy = function (a) {\n      return this.result_deselect(a[0].getAttribute(\"data-option-array-index\")) ? (this.show_search_field_default(), this.is_multiple && this.choices_count() > 0 && this.search_field.val().length < 1 && this.results_hide(), a.parents(\"li\").first().remove(), this.search_field_scale()) : void 0;\n    }, Chosen.prototype.results_reset = function () {\n      return this.form_field.options[0].selected = !0, this.selected_option_count = null, this.single_set_selected_text(), this.show_search_field_default(), this.results_reset_cleanup(), this.form_field_jq.trigger(\"change\"), this.active_field ? this.results_hide() : void 0;\n    }, Chosen.prototype.results_reset_cleanup = function () {\n      return this.current_selectedIndex = this.form_field.selectedIndex, this.selected_item.find(\"abbr\").remove();\n    }, Chosen.prototype.result_select = function (a) {\n      var b, c, d;\n      return this.result_highlight ? (b = this.result_highlight, this.result_clear_highlight(), this.is_multiple && this.max_selected_options <= this.choices_count() ? (this.form_field_jq.trigger(\"chosen:maxselected\", {\n        chosen: this\n      }), !1) : (this.is_multiple ? b.removeClass(\"active-result\") : (this.result_single_selected && (this.result_single_selected.removeClass(\"result-selected\"), d = this.result_single_selected[0].getAttribute(\"data-option-array-index\"), this.results_data[d].selected = !1), this.result_single_selected = b), b.addClass(\"result-selected\"), c = this.results_data[b[0].getAttribute(\"data-option-array-index\")], c.selected = !0, this.form_field.options[c.options_index].selected = !0, this.selected_option_count = null, this.is_multiple ? this.choice_build(c) : this.single_set_selected_text(c.text), (a.metaKey || a.ctrlKey) && this.is_multiple || this.results_hide(), this.search_field.val(\"\"), (this.is_multiple || this.form_field.selectedIndex !== this.current_selectedIndex) && this.form_field_jq.trigger(\"change\", {\n        selected: this.form_field.options[c.options_index].value\n      }), this.current_selectedIndex = this.form_field.selectedIndex, this.search_field_scale())) : void 0;\n    }, Chosen.prototype.single_set_selected_text = function (a) {\n      return null == a && (a = this.default_text), a === this.default_text ? this.selected_item.addClass(\"chosen-default\") : (this.single_deselect_control_build(), this.selected_item.removeClass(\"chosen-default\")), this.selected_item.find(\"span\").text(a);\n    }, Chosen.prototype.result_deselect = function (a) {\n      var b;\n      return b = this.results_data[a], this.form_field.options[b.options_index].disabled ? !1 : (b.selected = !1, this.form_field.options[b.options_index].selected = !1, this.selected_option_count = null, this.result_clear_highlight(), this.results_showing && this.winnow_results(), this.form_field_jq.trigger(\"change\", {\n        deselected: this.form_field.options[b.options_index].value\n      }), this.search_field_scale(), !0);\n    }, Chosen.prototype.single_deselect_control_build = function () {\n      return this.allow_single_deselect ? (this.selected_item.find(\"abbr\").length || this.selected_item.find(\"span\").first().after('<abbr class=\"search-choice-close\"></abbr>'), this.selected_item.addClass(\"chosen-single-with-deselect\")) : void 0;\n    }, Chosen.prototype.get_search_text = function () {\n      return this.search_field.val() === this.default_text ? \"\" : a(\"<div/>\").text(a.trim(this.search_field.val())).html();\n    }, Chosen.prototype.winnow_results_set_highlight = function () {\n      var a, b;\n      return b = this.is_multiple ? [] : this.search_results.find(\".result-selected.active-result\"), a = b.length ? b.first() : this.search_results.find(\".active-result\").first(), null != a ? this.result_do_highlight(a) : void 0;\n    }, Chosen.prototype.no_results = function (b) {\n      var c;\n      return c = a('<li class=\"no-results\">' + this.results_none_found + ' \"<span></span>\"</li>'), c.find(\"span\").first().html(b), this.search_results.append(c);\n    }, Chosen.prototype.no_results_clear = function () {\n      return this.search_results.find(\".no-results\").remove();\n    }, Chosen.prototype.keydown_arrow = function () {\n      var a;\n      return this.results_showing && this.result_highlight ? (a = this.result_highlight.nextAll(\"li.active-result\").first()) ? this.result_do_highlight(a) : void 0 : this.results_show();\n    }, Chosen.prototype.keyup_arrow = function () {\n      var a;\n      return this.results_showing || this.is_multiple ? this.result_highlight ? (a = this.result_highlight.prevAll(\"li.active-result\"), a.length ? this.result_do_highlight(a.first()) : (this.choices_count() > 0 && this.results_hide(), this.result_clear_highlight())) : void 0 : this.results_show();\n    }, Chosen.prototype.keydown_backstroke = function () {\n      var a;\n      return this.pending_backstroke ? (this.choice_destroy(this.pending_backstroke.find(\"a\").first()), this.clear_backstroke()) : (a = this.search_container.siblings(\"li.search-choice\").last(), a.length && !a.hasClass(\"search-choice-disabled\") ? (this.pending_backstroke = a, this.single_backstroke_delete ? this.keydown_backstroke() : this.pending_backstroke.addClass(\"search-choice-focus\")) : void 0);\n    }, Chosen.prototype.clear_backstroke = function () {\n      return this.pending_backstroke && this.pending_backstroke.removeClass(\"search-choice-focus\"), this.pending_backstroke = null;\n    }, Chosen.prototype.keydown_checker = function (a) {\n      var b, c;\n      switch (b = null != (c = a.which) ? c : a.keyCode, this.search_field_scale(), 8 !== b && this.pending_backstroke && this.clear_backstroke(), b) {\n        case 8:\n          this.backstroke_length = this.search_field.val().length;\n          break;\n        case 9:\n          this.results_showing && !this.is_multiple && this.result_select(a), this.mouse_on_container = !1;\n          break;\n        case 13:\n          a.preventDefault();\n          break;\n        case 38:\n          a.preventDefault(), this.keyup_arrow();\n          break;\n        case 40:\n          a.preventDefault(), this.keydown_arrow();\n      }\n    }, Chosen.prototype.search_field_scale = function () {\n      var b, c, d, e, f, g, h, i, j;\n      if (this.is_multiple) {\n        for (d = 0, h = 0, f = \"position:absolute; left: -1000px; top: -1000px; display:none;\", g = [\"font-size\", \"font-style\", \"font-weight\", \"font-family\", \"line-height\", \"text-transform\", \"letter-spacing\"], i = 0, j = g.length; j > i; i++) e = g[i], f += e + \":\" + this.search_field.css(e) + \";\";\n        return b = a(\"<div />\", {\n          style: f\n        }), b.text(this.search_field.val()), a(\"body\").append(b), h = b.width() + 25, b.remove(), c = this.container.outerWidth(), h > c - 10 && (h = c - 10), this.search_field.css({\n          width: h + \"px\"\n        });\n      }\n    }, Chosen;\n  }(AbstractChosen);\n}.call(this);","function _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n/*\n * File:        jquery.dataTables.min.js\n * Version:     1.8.2\n * Author:      Allan Jardine (www.sprymedia.co.uk)\n * Info:        www.datatables.net\n *\n * Copyright 2008-2011 Allan Jardine, all rights reserved.\n *\n * This source file is free software, under either the GPL v2 license or a\n * BSD style license, as supplied with this software.\n *\n * This source file is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY\n * or FITNESS FOR A PARTICULAR PURPOSE. See the license files for details.\n */\n\nimport jQuery from 'jquery';\n(function (i, za, p) {\n  i.fn.dataTableSettings = [];\n  var D = i.fn.dataTableSettings;\n  i.fn.dataTableExt = {};\n  var n = i.fn.dataTableExt;\n  n.sVersion = \"1.8.2\";\n  n.sErrMode = \"alert\";\n  n.iApiIndex = 0;\n  n.oApi = {};\n  n.afnFiltering = [];\n  n.aoFeatures = [];\n  n.ofnSearch = {};\n  n.afnSortData = [];\n  n.oStdClasses = {\n    sPagePrevEnabled: \"paginate_enabled_previous\",\n    sPagePrevDisabled: \"paginate_disabled_previous\",\n    sPageNextEnabled: \"paginate_enabled_next\",\n    sPageNextDisabled: \"paginate_disabled_next\",\n    sPageJUINext: \"\",\n    sPageJUIPrev: \"\",\n    sPageButton: \"paginate_button\",\n    sPageButtonActive: \"paginate_active\",\n    sPageButtonStaticDisabled: \"paginate_button paginate_button_disabled\",\n    sPageFirst: \"first\",\n    sPagePrevious: \"previous\",\n    sPageNext: \"next\",\n    sPageLast: \"last\",\n    sStripeOdd: \"odd\",\n    sStripeEven: \"even\",\n    sRowEmpty: \"dataTables_empty\",\n    sWrapper: \"dataTables_wrapper\",\n    sFilter: \"dataTables_filter\",\n    sInfo: \"dataTables_info\",\n    sPaging: \"dataTables_paginate paging_\",\n    sLength: \"dataTables_length\",\n    sProcessing: \"dataTables_processing\",\n    sSortAsc: \"sorting_asc\",\n    sSortDesc: \"sorting_desc\",\n    sSortable: \"sorting\",\n    sSortableAsc: \"sorting_asc_disabled\",\n    sSortableDesc: \"sorting_desc_disabled\",\n    sSortableNone: \"sorting_disabled\",\n    sSortColumn: \"sorting_\",\n    sSortJUIAsc: \"\",\n    sSortJUIDesc: \"\",\n    sSortJUI: \"\",\n    sSortJUIAscAllowed: \"\",\n    sSortJUIDescAllowed: \"\",\n    sSortJUIWrapper: \"\",\n    sSortIcon: \"\",\n    sScrollWrapper: \"dataTables_scroll\",\n    sScrollHead: \"dataTables_scrollHead\",\n    sScrollHeadInner: \"dataTables_scrollHeadInner\",\n    sScrollBody: \"dataTables_scrollBody\",\n    sScrollFoot: \"dataTables_scrollFoot\",\n    sScrollFootInner: \"dataTables_scrollFootInner\",\n    sFooterTH: \"\"\n  };\n  n.oJUIClasses = {\n    sPagePrevEnabled: \"fg-button ui-button ui-state-default ui-corner-left\",\n    sPagePrevDisabled: \"fg-button ui-button ui-state-default ui-corner-left ui-state-disabled\",\n    sPageNextEnabled: \"fg-button ui-button ui-state-default ui-corner-right\",\n    sPageNextDisabled: \"fg-button ui-button ui-state-default ui-corner-right ui-state-disabled\",\n    sPageJUINext: \"ui-icon ui-icon-circle-arrow-e\",\n    sPageJUIPrev: \"ui-icon ui-icon-circle-arrow-w\",\n    sPageButton: \"fg-button ui-button ui-state-default\",\n    sPageButtonActive: \"fg-button ui-button ui-state-default ui-state-disabled\",\n    sPageButtonStaticDisabled: \"fg-button ui-button ui-state-default ui-state-disabled\",\n    sPageFirst: \"first ui-corner-tl ui-corner-bl\",\n    sPagePrevious: \"previous\",\n    sPageNext: \"next\",\n    sPageLast: \"last ui-corner-tr ui-corner-br\",\n    sStripeOdd: \"odd\",\n    sStripeEven: \"even\",\n    sRowEmpty: \"dataTables_empty\",\n    sWrapper: \"dataTables_wrapper\",\n    sFilter: \"dataTables_filter\",\n    sInfo: \"dataTables_info\",\n    sPaging: \"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_\",\n    sLength: \"dataTables_length\",\n    sProcessing: \"dataTables_processing\",\n    sSortAsc: \"ui-state-default\",\n    sSortDesc: \"ui-state-default\",\n    sSortable: \"ui-state-default\",\n    sSortableAsc: \"ui-state-default\",\n    sSortableDesc: \"ui-state-default\",\n    sSortableNone: \"ui-state-default\",\n    sSortColumn: \"sorting_\",\n    sSortJUIAsc: \"css_right ui-icon ui-icon-triangle-1-n\",\n    sSortJUIDesc: \"css_right ui-icon ui-icon-triangle-1-s\",\n    sSortJUI: \"css_right ui-icon ui-icon-carat-2-n-s\",\n    sSortJUIAscAllowed: \"css_right ui-icon ui-icon-carat-1-n\",\n    sSortJUIDescAllowed: \"css_right ui-icon ui-icon-carat-1-s\",\n    sSortJUIWrapper: \"DataTables_sort_wrapper\",\n    sSortIcon: \"DataTables_sort_icon\",\n    sScrollWrapper: \"dataTables_scroll\",\n    sScrollHead: \"dataTables_scrollHead ui-state-default\",\n    sScrollHeadInner: \"dataTables_scrollHeadInner\",\n    sScrollBody: \"dataTables_scrollBody\",\n    sScrollFoot: \"dataTables_scrollFoot ui-state-default\",\n    sScrollFootInner: \"dataTables_scrollFootInner\",\n    sFooterTH: \"ui-state-default\"\n  };\n  n.oPagination = {\n    two_button: {\n      fnInit: function fnInit(g, l, s) {\n        var t, w, y;\n        if (g.bJUI) {\n          t = p.createElement(\"a\");\n          w = p.createElement(\"a\");\n          y = p.createElement(\"span\");\n          y.className = g.oClasses.sPageJUINext;\n          w.appendChild(y);\n          y = p.createElement(\"span\");\n          y.className = g.oClasses.sPageJUIPrev;\n          t.appendChild(y);\n        } else {\n          t = p.createElement(\"div\");\n          w = p.createElement(\"div\");\n        }\n        t.className = g.oClasses.sPagePrevDisabled;\n        w.className = g.oClasses.sPageNextDisabled;\n        t.title = g.oLanguage.oPaginate.sPrevious;\n        w.title = g.oLanguage.oPaginate.sNext;\n        l.appendChild(t);\n        l.appendChild(w);\n        i(t).bind(\"click.DT\", function () {\n          g.oApi._fnPageChange(g, \"previous\") && s(g);\n        });\n        i(w).bind(\"click.DT\", function () {\n          g.oApi._fnPageChange(g, \"next\") && s(g);\n        });\n        i(t).bind(\"selectstart.DT\", function () {\n          return false;\n        });\n        i(w).bind(\"selectstart.DT\", function () {\n          return false;\n        });\n        if (g.sTableId !== \"\" && typeof g.aanFeatures.p == \"undefined\") {\n          l.setAttribute(\"id\", g.sTableId + \"_paginate\");\n          t.setAttribute(\"id\", g.sTableId + \"_previous\");\n          w.setAttribute(\"id\", g.sTableId + \"_next\");\n        }\n      },\n      fnUpdate: function fnUpdate(g) {\n        if (g.aanFeatures.p) for (var l = g.aanFeatures.p, s = 0, t = l.length; s < t; s++) if (l[s].childNodes.length !== 0) {\n          l[s].childNodes[0].className = g._iDisplayStart === 0 ? g.oClasses.sPagePrevDisabled : g.oClasses.sPagePrevEnabled;\n          l[s].childNodes[1].className = g.fnDisplayEnd() == g.fnRecordsDisplay() ? g.oClasses.sPageNextDisabled : g.oClasses.sPageNextEnabled;\n        }\n      }\n    },\n    iFullNumbersShowPages: 5,\n    full_numbers: {\n      fnInit: function fnInit(g, l, s) {\n        var t = p.createElement(\"span\"),\n          w = p.createElement(\"span\"),\n          y = p.createElement(\"span\"),\n          F = p.createElement(\"span\"),\n          x = p.createElement(\"span\");\n        t.innerHTML = g.oLanguage.oPaginate.sFirst;\n        w.innerHTML = g.oLanguage.oPaginate.sPrevious;\n        F.innerHTML = g.oLanguage.oPaginate.sNext;\n        x.innerHTML = g.oLanguage.oPaginate.sLast;\n        var v = g.oClasses;\n        t.className = v.sPageButton + \" \" + v.sPageFirst;\n        w.className = v.sPageButton + \" \" + v.sPagePrevious;\n        F.className = v.sPageButton + \" \" + v.sPageNext;\n        x.className = v.sPageButton + \" \" + v.sPageLast;\n        l.appendChild(t);\n        l.appendChild(w);\n        l.appendChild(y);\n        l.appendChild(F);\n        l.appendChild(x);\n        i(t).bind(\"click.DT\", function () {\n          g.oApi._fnPageChange(g, \"first\") && s(g);\n        });\n        i(w).bind(\"click.DT\", function () {\n          g.oApi._fnPageChange(g, \"previous\") && s(g);\n        });\n        i(F).bind(\"click.DT\", function () {\n          g.oApi._fnPageChange(g, \"next\") && s(g);\n        });\n        i(x).bind(\"click.DT\", function () {\n          g.oApi._fnPageChange(g, \"last\") && s(g);\n        });\n        i(\"span\", l).bind(\"mousedown.DT\", function () {\n          return false;\n        }).bind(\"selectstart.DT\", function () {\n          return false;\n        });\n        if (g.sTableId !== \"\" && typeof g.aanFeatures.p == \"undefined\") {\n          l.setAttribute(\"id\", g.sTableId + \"_paginate\");\n          t.setAttribute(\"id\", g.sTableId + \"_first\");\n          w.setAttribute(\"id\", g.sTableId + \"_previous\");\n          F.setAttribute(\"id\", g.sTableId + \"_next\");\n          x.setAttribute(\"id\", g.sTableId + \"_last\");\n        }\n      },\n      fnUpdate: function fnUpdate(g, l) {\n        if (g.aanFeatures.p) {\n          var s = n.oPagination.iFullNumbersShowPages,\n            t = Math.floor(s / 2),\n            w = Math.ceil(g.fnRecordsDisplay() / g._iDisplayLength),\n            y = Math.ceil(g._iDisplayStart / g._iDisplayLength) + 1,\n            F = \"\",\n            x,\n            v = g.oClasses;\n          if (w < s) {\n            t = 1;\n            x = w;\n          } else if (y <= t) {\n            t = 1;\n            x = s;\n          } else if (y >= w - t) {\n            t = w - s + 1;\n            x = w;\n          } else {\n            t = y - Math.ceil(s / 2) + 1;\n            x = t + s - 1;\n          }\n          for (s = t; s <= x; s++) F += y != s ? '<span class=\"' + v.sPageButton + '\">' + s + \"</span>\" : '<span class=\"' + v.sPageButtonActive + '\">' + s + \"</span>\";\n          x = g.aanFeatures.p;\n          var z,\n            $ = function $(M) {\n              g._iDisplayStart = (this.innerHTML * 1 - 1) * g._iDisplayLength;\n              l(g);\n              M.preventDefault();\n            },\n            X = function X() {\n              return false;\n            };\n          s = 0;\n          for (t = x.length; s < t; s++) if (x[s].childNodes.length !== 0) {\n            z = i(\"span:eq(2)\", x[s]);\n            z.html(F);\n            i(\"span\", z).bind(\"click.DT\", $).bind(\"mousedown.DT\", X).bind(\"selectstart.DT\", X);\n            z = x[s].getElementsByTagName(\"span\");\n            z = [z[0], z[1], z[z.length - 2], z[z.length - 1]];\n            i(z).removeClass(v.sPageButton + \" \" + v.sPageButtonActive + \" \" + v.sPageButtonStaticDisabled);\n            if (y == 1) {\n              z[0].className += \" \" + v.sPageButtonStaticDisabled;\n              z[1].className += \" \" + v.sPageButtonStaticDisabled;\n            } else {\n              z[0].className += \" \" + v.sPageButton;\n              z[1].className += \" \" + v.sPageButton;\n            }\n            if (w === 0 || y == w || g._iDisplayLength == -1) {\n              z[2].className += \" \" + v.sPageButtonStaticDisabled;\n              z[3].className += \" \" + v.sPageButtonStaticDisabled;\n            } else {\n              z[2].className += \" \" + v.sPageButton;\n              z[3].className += \" \" + v.sPageButton;\n            }\n          }\n        }\n      }\n    }\n  };\n  n.oSort = {\n    \"string-asc\": function stringAsc(g, l) {\n      if (typeof g != \"string\") g = \"\";\n      if (typeof l != \"string\") l = \"\";\n      g = g.toLowerCase();\n      l = l.toLowerCase();\n      return g < l ? -1 : g > l ? 1 : 0;\n    },\n    \"string-desc\": function stringDesc(g, l) {\n      if (typeof g != \"string\") g = \"\";\n      if (typeof l != \"string\") l = \"\";\n      g = g.toLowerCase();\n      l = l.toLowerCase();\n      return g < l ? 1 : g > l ? -1 : 0;\n    },\n    \"html-asc\": function htmlAsc(g, l) {\n      g = g.replace(/<.*?>/g, \"\").toLowerCase();\n      l = l.replace(/<.*?>/g, \"\").toLowerCase();\n      return g < l ? -1 : g > l ? 1 : 0;\n    },\n    \"html-desc\": function htmlDesc(g, l) {\n      g = g.replace(/<.*?>/g, \"\").toLowerCase();\n      l = l.replace(/<.*?>/g, \"\").toLowerCase();\n      return g < l ? 1 : g > l ? -1 : 0;\n    },\n    \"date-asc\": function dateAsc(g, l) {\n      g = Date.parse(g);\n      l = Date.parse(l);\n      if (isNaN(g) || g === \"\") g = Date.parse(\"01/01/1970 00:00:00\");\n      if (isNaN(l) || l === \"\") l = Date.parse(\"01/01/1970 00:00:00\");\n      return g - l;\n    },\n    \"date-desc\": function dateDesc(g, l) {\n      g = Date.parse(g);\n      l = Date.parse(l);\n      if (isNaN(g) || g === \"\") g = Date.parse(\"01/01/1970 00:00:00\");\n      if (isNaN(l) || l === \"\") l = Date.parse(\"01/01/1970 00:00:00\");\n      return l - g;\n    },\n    \"numeric-asc\": function numericAsc(g, l) {\n      return (g == \"-\" || g === \"\" ? 0 : g * 1) - (l == \"-\" || l === \"\" ? 0 : l * 1);\n    },\n    \"numeric-desc\": function numericDesc(g, l) {\n      return (l == \"-\" || l === \"\" ? 0 : l * 1) - (g == \"-\" || g === \"\" ? 0 : g * 1);\n    }\n  };\n  n.aTypes = [function (g) {\n    if (typeof g == \"number\") return \"numeric\";else if (typeof g != \"string\") return null;\n    var l,\n      s = false;\n    l = g.charAt(0);\n    if (\"0123456789-\".indexOf(l) == -1) return null;\n    for (var t = 1; t < g.length; t++) {\n      l = g.charAt(t);\n      if (\"0123456789.\".indexOf(l) == -1) return null;\n      if (l == \".\") {\n        if (s) return null;\n        s = true;\n      }\n    }\n    return \"numeric\";\n  }, function (g) {\n    var l = Date.parse(g);\n    if (l !== null && !isNaN(l) || typeof g == \"string\" && g.length === 0) return \"date\";\n    return null;\n  }, function (g) {\n    if (typeof g == \"string\" && g.indexOf(\"<\") != -1 && g.indexOf(\">\") != -1) return \"html\";\n    return null;\n  }];\n  n.fnVersionCheck = function (g) {\n    var l = function l(x, v) {\n        for (; x.length < v;) x += \"0\";\n        return x;\n      },\n      s = n.sVersion.split(\".\");\n    g = g.split(\".\");\n    for (var t = \"\", w = \"\", y = 0, F = g.length; y < F; y++) {\n      t += l(s[y], 3);\n      w += l(g[y], 3);\n    }\n    return parseInt(t, 10) >= parseInt(w, 10);\n  };\n  n._oExternConfig = {\n    iNextUnique: 0\n  };\n  i.fn.dataTable = function (g) {\n    function l() {\n      this.fnRecordsTotal = function () {\n        return this.oFeatures.bServerSide ? parseInt(this._iRecordsTotal, 10) : this.aiDisplayMaster.length;\n      };\n      this.fnRecordsDisplay = function () {\n        return this.oFeatures.bServerSide ? parseInt(this._iRecordsDisplay, 10) : this.aiDisplay.length;\n      };\n      this.fnDisplayEnd = function () {\n        return this.oFeatures.bServerSide ? this.oFeatures.bPaginate === false || this._iDisplayLength == -1 ? this._iDisplayStart + this.aiDisplay.length : Math.min(this._iDisplayStart + this._iDisplayLength, this._iRecordsDisplay) : this._iDisplayEnd;\n      };\n      this.sInstance = this.oInstance = null;\n      this.oFeatures = {\n        bPaginate: true,\n        bLengthChange: true,\n        bFilter: true,\n        bSort: true,\n        bInfo: true,\n        bAutoWidth: true,\n        bProcessing: false,\n        bSortClasses: true,\n        bStateSave: false,\n        bServerSide: false,\n        bDeferRender: false\n      };\n      this.oScroll = {\n        sX: \"\",\n        sXInner: \"\",\n        sY: \"\",\n        bCollapse: false,\n        bInfinite: false,\n        iLoadGap: 100,\n        iBarWidth: 0,\n        bAutoCss: true\n      };\n      this.aanFeatures = [];\n      this.oLanguage = {\n        sProcessing: \"Processing...\",\n        sLengthMenu: \"Show _MENU_ entries\",\n        sZeroRecords: \"No matching records found\",\n        sEmptyTable: \"No data available in table\",\n        sLoadingRecords: \"Loading...\",\n        sInfo: \"Showing _START_ to _END_ of _TOTAL_ entries\",\n        sInfoEmpty: \"Showing 0 to 0 of 0 entries\",\n        sInfoFiltered: \"(filtered from _MAX_ total entries)\",\n        sInfoPostFix: \"\",\n        sInfoThousands: \",\",\n        sSearch: \"Search:\",\n        sUrl: \"\",\n        oPaginate: {\n          sFirst: \"First\",\n          sPrevious: \"Previous\",\n          sNext: \"Next\",\n          sLast: \"Last\"\n        },\n        fnInfoCallback: null\n      };\n      this.aoData = [];\n      this.aiDisplay = [];\n      this.aiDisplayMaster = [];\n      this.aoColumns = [];\n      this.aoHeader = [];\n      this.aoFooter = [];\n      this.iNextId = 0;\n      this.asDataSearch = [];\n      this.oPreviousSearch = {\n        sSearch: \"\",\n        bRegex: false,\n        bSmart: true\n      };\n      this.aoPreSearchCols = [];\n      this.aaSorting = [[0, \"asc\", 0]];\n      this.aaSortingFixed = null;\n      this.asStripeClasses = [];\n      this.asDestroyStripes = [];\n      this.sDestroyWidth = 0;\n      this.fnFooterCallback = this.fnHeaderCallback = this.fnRowCallback = null;\n      this.aoDrawCallback = [];\n      this.fnInitComplete = this.fnPreDrawCallback = null;\n      this.sTableId = \"\";\n      this.nTableWrapper = this.nTBody = this.nTFoot = this.nTHead = this.nTable = null;\n      this.bInitialised = this.bDeferLoading = false;\n      this.aoOpenRows = [];\n      this.sDom = \"lfrtip\";\n      this.sPaginationType = \"two_button\";\n      this.iCookieDuration = 7200;\n      this.sCookiePrefix = \"SpryMedia_DataTables_\";\n      this.fnCookieCallback = null;\n      this.aoStateSave = [];\n      this.aoStateLoad = [];\n      this.sAjaxSource = this.oLoadedState = null;\n      this.sAjaxDataProp = \"aaData\";\n      this.bAjaxDataGet = true;\n      this.jqXHR = null;\n      this.fnServerData = function (a, b, c, d) {\n        d.jqXHR = i.ajax({\n          url: a,\n          data: b,\n          success: function success(f) {\n            i(d.oInstance).trigger(\"xhr\", d);\n            c(f);\n          },\n          dataType: \"json\",\n          cache: false,\n          error: function error(f, e) {\n            e == \"parsererror\" && alert(\"DataTables warning: JSON data from server could not be parsed. This is caused by a JSON formatting error.\");\n          }\n        });\n      };\n      this.aoServerParams = [];\n      this.fnFormatNumber = function (a) {\n        if (a < 1E3) return a;else {\n          var b = a + \"\";\n          a = b.split(\"\");\n          var c = \"\";\n          b = b.length;\n          for (var d = 0; d < b; d++) {\n            if (d % 3 === 0 && d !== 0) c = this.oLanguage.sInfoThousands + c;\n            c = a[b - d - 1] + c;\n          }\n        }\n        return c;\n      };\n      this.aLengthMenu = [10, 25, 50, 100];\n      this.bDrawing = this.iDraw = 0;\n      this.iDrawError = -1;\n      this._iDisplayLength = 10;\n      this._iDisplayStart = 0;\n      this._iDisplayEnd = 10;\n      this._iRecordsDisplay = this._iRecordsTotal = 0;\n      this.bJUI = false;\n      this.oClasses = n.oStdClasses;\n      this.bSortCellsTop = this.bSorted = this.bFiltered = false;\n      this.oInit = null;\n      this.aoDestroyCallback = [];\n    }\n    function s(a) {\n      return function () {\n        var b = [A(this[n.iApiIndex])].concat(Array.prototype.slice.call(arguments));\n        return n.oApi[a].apply(this, b);\n      };\n    }\n    function t(a) {\n      var b,\n        c,\n        d = a.iInitDisplayStart;\n      if (a.bInitialised === false) setTimeout(function () {\n        t(a);\n      }, 200);else {\n        Aa(a);\n        X(a);\n        M(a, a.aoHeader);\n        a.nTFoot && M(a, a.aoFooter);\n        K(a, true);\n        a.oFeatures.bAutoWidth && ga(a);\n        b = 0;\n        for (c = a.aoColumns.length; b < c; b++) if (a.aoColumns[b].sWidth !== null) a.aoColumns[b].nTh.style.width = q(a.aoColumns[b].sWidth);\n        if (a.oFeatures.bSort) R(a);else if (a.oFeatures.bFilter) N(a, a.oPreviousSearch);else {\n          a.aiDisplay = a.aiDisplayMaster.slice();\n          E(a);\n          C(a);\n        }\n        if (a.sAjaxSource !== null && !a.oFeatures.bServerSide) {\n          c = [];\n          ha(a, c);\n          a.fnServerData.call(a.oInstance, a.sAjaxSource, c, function (f) {\n            var e = f;\n            if (a.sAjaxDataProp !== \"\") e = aa(a.sAjaxDataProp)(f);\n            for (b = 0; b < e.length; b++) v(a, e[b]);\n            a.iInitDisplayStart = d;\n            if (a.oFeatures.bSort) R(a);else {\n              a.aiDisplay = a.aiDisplayMaster.slice();\n              E(a);\n              C(a);\n            }\n            K(a, false);\n            w(a, f);\n          }, a);\n        } else if (!a.oFeatures.bServerSide) {\n          K(a, false);\n          w(a);\n        }\n      }\n    }\n    function w(a, b) {\n      a._bInitComplete = true;\n      if (typeof a.fnInitComplete == \"function\") typeof b != \"undefined\" ? a.fnInitComplete.call(a.oInstance, a, b) : a.fnInitComplete.call(a.oInstance, a);\n    }\n    function y(a, b, c) {\n      a.oLanguage = i.extend(true, a.oLanguage, b);\n      typeof b.sEmptyTable == \"undefined\" && typeof b.sZeroRecords != \"undefined\" && o(a.oLanguage, b, \"sZeroRecords\", \"sEmptyTable\");\n      typeof b.sLoadingRecords == \"undefined\" && typeof b.sZeroRecords != \"undefined\" && o(a.oLanguage, b, \"sZeroRecords\", \"sLoadingRecords\");\n      c && t(a);\n    }\n    function F(a, b) {\n      var c = a.aoColumns.length;\n      b = {\n        sType: null,\n        _bAutoType: true,\n        bVisible: true,\n        bSearchable: true,\n        bSortable: true,\n        asSorting: [\"asc\", \"desc\"],\n        sSortingClass: a.oClasses.sSortable,\n        sSortingClassJUI: a.oClasses.sSortJUI,\n        sTitle: b ? b.innerHTML : \"\",\n        sName: \"\",\n        sWidth: null,\n        sWidthOrig: null,\n        sClass: null,\n        fnRender: null,\n        bUseRendered: true,\n        iDataSort: c,\n        mDataProp: c,\n        fnGetData: null,\n        fnSetData: null,\n        sSortDataType: \"std\",\n        sDefaultContent: null,\n        sContentPadding: \"\",\n        nTh: b ? b : p.createElement(\"th\"),\n        nTf: null\n      };\n      a.aoColumns.push(b);\n      if (typeof a.aoPreSearchCols[c] == \"undefined\" || a.aoPreSearchCols[c] === null) a.aoPreSearchCols[c] = {\n        sSearch: \"\",\n        bRegex: false,\n        bSmart: true\n      };else {\n        if (typeof a.aoPreSearchCols[c].bRegex == \"undefined\") a.aoPreSearchCols[c].bRegex = true;\n        if (typeof a.aoPreSearchCols[c].bSmart == \"undefined\") a.aoPreSearchCols[c].bSmart = true;\n      }\n      x(a, c, null);\n    }\n    function x(a, b, c) {\n      b = a.aoColumns[b];\n      if (typeof c != \"undefined\" && c !== null) {\n        if (typeof c.sType != \"undefined\") {\n          b.sType = c.sType;\n          b._bAutoType = false;\n        }\n        o(b, c, \"bVisible\");\n        o(b, c, \"bSearchable\");\n        o(b, c, \"bSortable\");\n        o(b, c, \"sTitle\");\n        o(b, c, \"sName\");\n        o(b, c, \"sWidth\");\n        o(b, c, \"sWidth\", \"sWidthOrig\");\n        o(b, c, \"sClass\");\n        o(b, c, \"fnRender\");\n        o(b, c, \"bUseRendered\");\n        o(b, c, \"iDataSort\");\n        o(b, c, \"mDataProp\");\n        o(b, c, \"asSorting\");\n        o(b, c, \"sSortDataType\");\n        o(b, c, \"sDefaultContent\");\n        o(b, c, \"sContentPadding\");\n      }\n      b.fnGetData = aa(b.mDataProp);\n      b.fnSetData = Ba(b.mDataProp);\n      if (!a.oFeatures.bSort) b.bSortable = false;\n      if (!b.bSortable || i.inArray(\"asc\", b.asSorting) == -1 && i.inArray(\"desc\", b.asSorting) == -1) {\n        b.sSortingClass = a.oClasses.sSortableNone;\n        b.sSortingClassJUI = \"\";\n      } else if (b.bSortable || i.inArray(\"asc\", b.asSorting) == -1 && i.inArray(\"desc\", b.asSorting) == -1) {\n        b.sSortingClass = a.oClasses.sSortable;\n        b.sSortingClassJUI = a.oClasses.sSortJUI;\n      } else if (i.inArray(\"asc\", b.asSorting) != -1 && i.inArray(\"desc\", b.asSorting) == -1) {\n        b.sSortingClass = a.oClasses.sSortableAsc;\n        b.sSortingClassJUI = a.oClasses.sSortJUIAscAllowed;\n      } else if (i.inArray(\"asc\", b.asSorting) == -1 && i.inArray(\"desc\", b.asSorting) != -1) {\n        b.sSortingClass = a.oClasses.sSortableDesc;\n        b.sSortingClassJUI = a.oClasses.sSortJUIDescAllowed;\n      }\n    }\n    function v(a, b) {\n      var c;\n      c = i.isArray(b) ? b.slice() : i.extend(true, {}, b);\n      b = a.aoData.length;\n      var d = {\n        nTr: null,\n        _iId: a.iNextId++,\n        _aData: c,\n        _anHidden: [],\n        _sRowStripe: \"\"\n      };\n      a.aoData.push(d);\n      for (var f, e = 0, h = a.aoColumns.length; e < h; e++) {\n        c = a.aoColumns[e];\n        typeof c.fnRender == \"function\" && c.bUseRendered && c.mDataProp !== null && O(a, b, e, c.fnRender({\n          iDataRow: b,\n          iDataColumn: e,\n          aData: d._aData,\n          oSettings: a\n        }));\n        if (c._bAutoType && c.sType != \"string\") {\n          f = G(a, b, e, \"type\");\n          if (f !== null && f !== \"\") {\n            f = ia(f);\n            if (c.sType === null) c.sType = f;else if (c.sType != f && c.sType != \"html\") c.sType = \"string\";\n          }\n        }\n      }\n      a.aiDisplayMaster.push(b);\n      a.oFeatures.bDeferRender || z(a, b);\n      return b;\n    }\n    function z(a, b) {\n      var c = a.aoData[b],\n        d;\n      if (c.nTr === null) {\n        c.nTr = p.createElement(\"tr\");\n        typeof c._aData.DT_RowId != \"undefined\" && c.nTr.setAttribute(\"id\", c._aData.DT_RowId);\n        typeof c._aData.DT_RowClass != \"undefined\" && i(c.nTr).addClass(c._aData.DT_RowClass);\n        for (var f = 0, e = a.aoColumns.length; f < e; f++) {\n          var h = a.aoColumns[f];\n          d = p.createElement(\"td\");\n          d.innerHTML = typeof h.fnRender == \"function\" && (!h.bUseRendered || h.mDataProp === null) ? h.fnRender({\n            iDataRow: b,\n            iDataColumn: f,\n            aData: c._aData,\n            oSettings: a\n          }) : G(a, b, f, \"display\");\n          if (h.sClass !== null) d.className = h.sClass;\n          if (h.bVisible) {\n            c.nTr.appendChild(d);\n            c._anHidden[f] = null;\n          } else c._anHidden[f] = d;\n        }\n      }\n    }\n    function $(a) {\n      var b, c, d, f, e, h, j, k, m;\n      if (a.bDeferLoading || a.sAjaxSource === null) {\n        j = a.nTBody.childNodes;\n        b = 0;\n        for (c = j.length; b < c; b++) if (j[b].nodeName.toUpperCase() == \"TR\") {\n          k = a.aoData.length;\n          a.aoData.push({\n            nTr: j[b],\n            _iId: a.iNextId++,\n            _aData: [],\n            _anHidden: [],\n            _sRowStripe: \"\"\n          });\n          a.aiDisplayMaster.push(k);\n          h = j[b].childNodes;\n          d = e = 0;\n          for (f = h.length; d < f; d++) {\n            m = h[d].nodeName.toUpperCase();\n            if (m == \"TD\" || m == \"TH\") {\n              O(a, k, e, i.trim(h[d].innerHTML));\n              e++;\n            }\n          }\n        }\n      }\n      j = ba(a);\n      h = [];\n      b = 0;\n      for (c = j.length; b < c; b++) {\n        d = 0;\n        for (f = j[b].childNodes.length; d < f; d++) {\n          e = j[b].childNodes[d];\n          m = e.nodeName.toUpperCase();\n          if (m == \"TD\" || m == \"TH\") h.push(e);\n        }\n      }\n      h.length != j.length * a.aoColumns.length && J(a, 1, \"Unexpected number of TD elements. Expected \" + j.length * a.aoColumns.length + \" and got \" + h.length + \". DataTables does not support rowspan / colspan in the table body, and there must be one cell for each row/column combination.\");\n      d = 0;\n      for (f = a.aoColumns.length; d < f; d++) {\n        if (a.aoColumns[d].sTitle === null) a.aoColumns[d].sTitle = a.aoColumns[d].nTh.innerHTML;\n        j = a.aoColumns[d]._bAutoType;\n        m = typeof a.aoColumns[d].fnRender == \"function\";\n        e = a.aoColumns[d].sClass !== null;\n        k = a.aoColumns[d].bVisible;\n        var u, r;\n        if (j || m || e || !k) {\n          b = 0;\n          for (c = a.aoData.length; b < c; b++) {\n            u = h[b * f + d];\n            if (j && a.aoColumns[d].sType != \"string\") {\n              r = G(a, b, d, \"type\");\n              if (r !== \"\") {\n                r = ia(r);\n                if (a.aoColumns[d].sType === null) a.aoColumns[d].sType = r;else if (a.aoColumns[d].sType != r && a.aoColumns[d].sType != \"html\") a.aoColumns[d].sType = \"string\";\n              }\n            }\n            if (m) {\n              r = a.aoColumns[d].fnRender({\n                iDataRow: b,\n                iDataColumn: d,\n                aData: a.aoData[b]._aData,\n                oSettings: a\n              });\n              u.innerHTML = r;\n              a.aoColumns[d].bUseRendered && O(a, b, d, r);\n            }\n            if (e) u.className += \" \" + a.aoColumns[d].sClass;\n            if (k) a.aoData[b]._anHidden[d] = null;else {\n              a.aoData[b]._anHidden[d] = u;\n              u.parentNode.removeChild(u);\n            }\n          }\n        }\n      }\n    }\n    function X(a) {\n      var b, c, d;\n      a.nTHead.getElementsByTagName(\"tr\");\n      if (a.nTHead.getElementsByTagName(\"th\").length !== 0) {\n        b = 0;\n        for (d = a.aoColumns.length; b < d; b++) {\n          c = a.aoColumns[b].nTh;\n          a.aoColumns[b].sClass !== null && i(c).addClass(a.aoColumns[b].sClass);\n          if (a.aoColumns[b].sTitle != c.innerHTML) c.innerHTML = a.aoColumns[b].sTitle;\n        }\n      } else {\n        var f = p.createElement(\"tr\");\n        b = 0;\n        for (d = a.aoColumns.length; b < d; b++) {\n          c = a.aoColumns[b].nTh;\n          c.innerHTML = a.aoColumns[b].sTitle;\n          a.aoColumns[b].sClass !== null && i(c).addClass(a.aoColumns[b].sClass);\n          f.appendChild(c);\n        }\n        i(a.nTHead).html(\"\")[0].appendChild(f);\n        Y(a.aoHeader, a.nTHead);\n      }\n      if (a.bJUI) {\n        b = 0;\n        for (d = a.aoColumns.length; b < d; b++) {\n          c = a.aoColumns[b].nTh;\n          f = p.createElement(\"div\");\n          f.className = a.oClasses.sSortJUIWrapper;\n          i(c).contents().appendTo(f);\n          var e = p.createElement(\"span\");\n          e.className = a.oClasses.sSortIcon;\n          f.appendChild(e);\n          c.appendChild(f);\n        }\n      }\n      d = function d() {\n        this.onselectstart = function () {\n          return false;\n        };\n        return false;\n      };\n      if (a.oFeatures.bSort) for (b = 0; b < a.aoColumns.length; b++) if (a.aoColumns[b].bSortable !== false) {\n        ja(a, a.aoColumns[b].nTh, b);\n        i(a.aoColumns[b].nTh).bind(\"mousedown.DT\", d);\n      } else i(a.aoColumns[b].nTh).addClass(a.oClasses.sSortableNone);\n      a.oClasses.sFooterTH !== \"\" && i(a.nTFoot).children(\"tr\").children(\"th\").addClass(a.oClasses.sFooterTH);\n      if (a.nTFoot !== null) {\n        c = S(a, null, a.aoFooter);\n        b = 0;\n        for (d = a.aoColumns.length; b < d; b++) if (typeof c[b] != \"undefined\") a.aoColumns[b].nTf = c[b];\n      }\n    }\n    function M(a, b, c) {\n      var d,\n        f,\n        e,\n        h = [],\n        j = [],\n        k = a.aoColumns.length;\n      if (typeof c == \"undefined\") c = false;\n      d = 0;\n      for (f = b.length; d < f; d++) {\n        h[d] = b[d].slice();\n        h[d].nTr = b[d].nTr;\n        for (e = k - 1; e >= 0; e--) !a.aoColumns[e].bVisible && !c && h[d].splice(e, 1);\n        j.push([]);\n      }\n      d = 0;\n      for (f = h.length; d < f; d++) {\n        if (h[d].nTr) {\n          a = 0;\n          for (e = h[d].nTr.childNodes.length; a < e; a++) h[d].nTr.removeChild(h[d].nTr.childNodes[0]);\n        }\n        e = 0;\n        for (b = h[d].length; e < b; e++) {\n          k = c = 1;\n          if (typeof j[d][e] == \"undefined\") {\n            h[d].nTr.appendChild(h[d][e].cell);\n            for (j[d][e] = 1; typeof h[d + c] != \"undefined\" && h[d][e].cell == h[d + c][e].cell;) {\n              j[d + c][e] = 1;\n              c++;\n            }\n            for (; typeof h[d][e + k] != \"undefined\" && h[d][e].cell == h[d][e + k].cell;) {\n              for (a = 0; a < c; a++) j[d + a][e + k] = 1;\n              k++;\n            }\n            h[d][e].cell.rowSpan = c;\n            h[d][e].cell.colSpan = k;\n          }\n        }\n      }\n    }\n    function C(a) {\n      var b,\n        c,\n        d = [],\n        f = 0,\n        e = false;\n      b = a.asStripeClasses.length;\n      c = a.aoOpenRows.length;\n      if (!(a.fnPreDrawCallback !== null && a.fnPreDrawCallback.call(a.oInstance, a) === false)) {\n        a.bDrawing = true;\n        if (typeof a.iInitDisplayStart != \"undefined\" && a.iInitDisplayStart != -1) {\n          a._iDisplayStart = a.oFeatures.bServerSide ? a.iInitDisplayStart : a.iInitDisplayStart >= a.fnRecordsDisplay() ? 0 : a.iInitDisplayStart;\n          a.iInitDisplayStart = -1;\n          E(a);\n        }\n        if (a.bDeferLoading) {\n          a.bDeferLoading = false;\n          a.iDraw++;\n        } else if (a.oFeatures.bServerSide) {\n          if (!a.bDestroying && !Ca(a)) return;\n        } else a.iDraw++;\n        if (a.aiDisplay.length !== 0) {\n          var h = a._iDisplayStart,\n            j = a._iDisplayEnd;\n          if (a.oFeatures.bServerSide) {\n            h = 0;\n            j = a.aoData.length;\n          }\n          for (h = h; h < j; h++) {\n            var k = a.aoData[a.aiDisplay[h]];\n            k.nTr === null && z(a, a.aiDisplay[h]);\n            var m = k.nTr;\n            if (b !== 0) {\n              var u = a.asStripeClasses[f % b];\n              if (k._sRowStripe != u) {\n                i(m).removeClass(k._sRowStripe).addClass(u);\n                k._sRowStripe = u;\n              }\n            }\n            if (typeof a.fnRowCallback == \"function\") {\n              m = a.fnRowCallback.call(a.oInstance, m, a.aoData[a.aiDisplay[h]]._aData, f, h);\n              if (!m && !e) {\n                J(a, 0, \"A node was not returned by fnRowCallback\");\n                e = true;\n              }\n            }\n            d.push(m);\n            f++;\n            if (c !== 0) for (k = 0; k < c; k++) m == a.aoOpenRows[k].nParent && d.push(a.aoOpenRows[k].nTr);\n          }\n        } else {\n          d[0] = p.createElement(\"tr\");\n          if (typeof a.asStripeClasses[0] != \"undefined\") d[0].className = a.asStripeClasses[0];\n          e = a.oLanguage.sZeroRecords.replace(\"_MAX_\", a.fnFormatNumber(a.fnRecordsTotal()));\n          if (a.iDraw == 1 && a.sAjaxSource !== null && !a.oFeatures.bServerSide) e = a.oLanguage.sLoadingRecords;else if (typeof a.oLanguage.sEmptyTable != \"undefined\" && a.fnRecordsTotal() === 0) e = a.oLanguage.sEmptyTable;\n          b = p.createElement(\"td\");\n          b.setAttribute(\"valign\", \"top\");\n          b.colSpan = Z(a);\n          b.className = a.oClasses.sRowEmpty;\n          b.innerHTML = e;\n          d[f].appendChild(b);\n        }\n        typeof a.fnHeaderCallback == \"function\" && a.fnHeaderCallback.call(a.oInstance, i(a.nTHead).children(\"tr\")[0], ca(a), a._iDisplayStart, a.fnDisplayEnd(), a.aiDisplay);\n        typeof a.fnFooterCallback == \"function\" && a.fnFooterCallback.call(a.oInstance, i(a.nTFoot).children(\"tr\")[0], ca(a), a._iDisplayStart, a.fnDisplayEnd(), a.aiDisplay);\n        f = p.createDocumentFragment();\n        b = p.createDocumentFragment();\n        if (a.nTBody) {\n          e = a.nTBody.parentNode;\n          b.appendChild(a.nTBody);\n          if (!a.oScroll.bInfinite || !a._bInitComplete || a.bSorted || a.bFiltered) {\n            c = a.nTBody.childNodes;\n            for (b = c.length - 1; b >= 0; b--) c[b].parentNode.removeChild(c[b]);\n          }\n          b = 0;\n          for (c = d.length; b < c; b++) f.appendChild(d[b]);\n          a.nTBody.appendChild(f);\n          e !== null && e.appendChild(a.nTBody);\n        }\n        for (b = a.aoDrawCallback.length - 1; b >= 0; b--) a.aoDrawCallback[b].fn.call(a.oInstance, a);\n        i(a.oInstance).trigger(\"draw\", a);\n        a.bSorted = false;\n        a.bFiltered = false;\n        a.bDrawing = false;\n        if (a.oFeatures.bServerSide) {\n          K(a, false);\n          typeof a._bInitComplete == \"undefined\" && w(a);\n        }\n      }\n    }\n    function da(a) {\n      if (a.oFeatures.bSort) R(a, a.oPreviousSearch);else if (a.oFeatures.bFilter) N(a, a.oPreviousSearch);else {\n        E(a);\n        C(a);\n      }\n    }\n    function Ca(a) {\n      if (a.bAjaxDataGet) {\n        a.iDraw++;\n        K(a, true);\n        var b = Da(a);\n        ha(a, b);\n        a.fnServerData.call(a.oInstance, a.sAjaxSource, b, function (c) {\n          Ea(a, c);\n        }, a);\n        return false;\n      } else return true;\n    }\n    function Da(a) {\n      var b = a.aoColumns.length,\n        c = [],\n        d,\n        f;\n      c.push({\n        name: \"sEcho\",\n        value: a.iDraw\n      });\n      c.push({\n        name: \"iColumns\",\n        value: b\n      });\n      c.push({\n        name: \"sColumns\",\n        value: ka(a)\n      });\n      c.push({\n        name: \"iDisplayStart\",\n        value: a._iDisplayStart\n      });\n      c.push({\n        name: \"iDisplayLength\",\n        value: a.oFeatures.bPaginate !== false ? a._iDisplayLength : -1\n      });\n      for (f = 0; f < b; f++) {\n        d = a.aoColumns[f].mDataProp;\n        c.push({\n          name: \"mDataProp_\" + f,\n          value: typeof d == \"function\" ? \"function\" : d\n        });\n      }\n      if (a.oFeatures.bFilter !== false) {\n        c.push({\n          name: \"sSearch\",\n          value: a.oPreviousSearch.sSearch\n        });\n        c.push({\n          name: \"bRegex\",\n          value: a.oPreviousSearch.bRegex\n        });\n        for (f = 0; f < b; f++) {\n          c.push({\n            name: \"sSearch_\" + f,\n            value: a.aoPreSearchCols[f].sSearch\n          });\n          c.push({\n            name: \"bRegex_\" + f,\n            value: a.aoPreSearchCols[f].bRegex\n          });\n          c.push({\n            name: \"bSearchable_\" + f,\n            value: a.aoColumns[f].bSearchable\n          });\n        }\n      }\n      if (a.oFeatures.bSort !== false) {\n        d = a.aaSortingFixed !== null ? a.aaSortingFixed.length : 0;\n        var e = a.aaSorting.length;\n        c.push({\n          name: \"iSortingCols\",\n          value: d + e\n        });\n        for (f = 0; f < d; f++) {\n          c.push({\n            name: \"iSortCol_\" + f,\n            value: a.aaSortingFixed[f][0]\n          });\n          c.push({\n            name: \"sSortDir_\" + f,\n            value: a.aaSortingFixed[f][1]\n          });\n        }\n        for (f = 0; f < e; f++) {\n          c.push({\n            name: \"iSortCol_\" + (f + d),\n            value: a.aaSorting[f][0]\n          });\n          c.push({\n            name: \"sSortDir_\" + (f + d),\n            value: a.aaSorting[f][1]\n          });\n        }\n        for (f = 0; f < b; f++) c.push({\n          name: \"bSortable_\" + f,\n          value: a.aoColumns[f].bSortable\n        });\n      }\n      return c;\n    }\n    function ha(a, b) {\n      for (var c = 0, d = a.aoServerParams.length; c < d; c++) a.aoServerParams[c].fn.call(a.oInstance, b);\n    }\n    function Ea(a, b) {\n      if (typeof b.sEcho != \"undefined\") if (b.sEcho * 1 < a.iDraw) return;else a.iDraw = b.sEcho * 1;\n      if (!a.oScroll.bInfinite || a.oScroll.bInfinite && (a.bSorted || a.bFiltered)) la(a);\n      a._iRecordsTotal = b.iTotalRecords;\n      a._iRecordsDisplay = b.iTotalDisplayRecords;\n      var c = ka(a);\n      if (c = typeof b.sColumns != \"undefined\" && c !== \"\" && b.sColumns != c) var d = Fa(a, b.sColumns);\n      b = aa(a.sAjaxDataProp)(b);\n      for (var f = 0, e = b.length; f < e; f++) if (c) {\n        for (var h = [], j = 0, k = a.aoColumns.length; j < k; j++) h.push(b[f][d[j]]);\n        v(a, h);\n      } else v(a, b[f]);\n      a.aiDisplay = a.aiDisplayMaster.slice();\n      a.bAjaxDataGet = false;\n      C(a);\n      a.bAjaxDataGet = true;\n      K(a, false);\n    }\n    function Aa(a) {\n      var b = p.createElement(\"div\");\n      a.nTable.parentNode.insertBefore(b, a.nTable);\n      a.nTableWrapper = p.createElement(\"div\");\n      a.nTableWrapper.className = a.oClasses.sWrapper;\n      a.sTableId !== \"\" && a.nTableWrapper.setAttribute(\"id\", a.sTableId + \"_wrapper\");\n      a.nTableReinsertBefore = a.nTable.nextSibling;\n      for (var c = a.nTableWrapper, d = a.sDom.split(\"\"), f, e, h, j, k, m, u, r = 0; r < d.length; r++) {\n        e = 0;\n        h = d[r];\n        if (h == \"<\") {\n          j = p.createElement(\"div\");\n          k = d[r + 1];\n          if (k == \"'\" || k == '\"') {\n            m = \"\";\n            for (u = 2; d[r + u] != k;) {\n              m += d[r + u];\n              u++;\n            }\n            if (m == \"H\") m = \"fg-toolbar ui-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix\";else if (m == \"F\") m = \"fg-toolbar ui-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix\";\n            if (m.indexOf(\".\") != -1) {\n              k = m.split(\".\");\n              j.setAttribute(\"id\", k[0].substr(1, k[0].length - 1));\n              j.className = k[1];\n            } else if (m.charAt(0) == \"#\") j.setAttribute(\"id\", m.substr(1, m.length - 1));else j.className = m;\n            r += u;\n          }\n          c.appendChild(j);\n          c = j;\n        } else if (h == \">\") c = c.parentNode;else if (h == \"l\" && a.oFeatures.bPaginate && a.oFeatures.bLengthChange) {\n          f = Ga(a);\n          e = 1;\n        } else if (h == \"f\" && a.oFeatures.bFilter) {\n          f = Ha(a);\n          e = 1;\n        } else if (h == \"r\" && a.oFeatures.bProcessing) {\n          f = Ia(a);\n          e = 1;\n        } else if (h == \"t\") {\n          f = Ja(a);\n          e = 1;\n        } else if (h == \"i\" && a.oFeatures.bInfo) {\n          f = Ka(a);\n          e = 1;\n        } else if (h == \"p\" && a.oFeatures.bPaginate) {\n          f = La(a);\n          e = 1;\n        } else if (n.aoFeatures.length !== 0) {\n          j = n.aoFeatures;\n          u = 0;\n          for (k = j.length; u < k; u++) if (h == j[u].cFeature) {\n            if (f = j[u].fnInit(a)) e = 1;\n            break;\n          }\n        }\n        if (e == 1 && f !== null) {\n          if (_typeof(a.aanFeatures[h]) != \"object\") a.aanFeatures[h] = [];\n          a.aanFeatures[h].push(f);\n          c.appendChild(f);\n        }\n      }\n      b.parentNode.replaceChild(a.nTableWrapper, b);\n    }\n    function Ja(a) {\n      if (a.oScroll.sX === \"\" && a.oScroll.sY === \"\") return a.nTable;\n      var b = p.createElement(\"div\"),\n        c = p.createElement(\"div\"),\n        d = p.createElement(\"div\"),\n        f = p.createElement(\"div\"),\n        e = p.createElement(\"div\"),\n        h = p.createElement(\"div\"),\n        j = a.nTable.cloneNode(false),\n        k = a.nTable.cloneNode(false),\n        m = a.nTable.getElementsByTagName(\"thead\")[0],\n        u = a.nTable.getElementsByTagName(\"tfoot\").length === 0 ? null : a.nTable.getElementsByTagName(\"tfoot\")[0],\n        r = typeof g.bJQueryUI != \"undefined\" && g.bJQueryUI ? n.oJUIClasses : n.oStdClasses;\n      c.appendChild(d);\n      e.appendChild(h);\n      f.appendChild(a.nTable);\n      b.appendChild(c);\n      b.appendChild(f);\n      d.appendChild(j);\n      j.appendChild(m);\n      if (u !== null) {\n        b.appendChild(e);\n        h.appendChild(k);\n        k.appendChild(u);\n      }\n      b.className = r.sScrollWrapper;\n      c.className = r.sScrollHead;\n      d.className = r.sScrollHeadInner;\n      f.className = r.sScrollBody;\n      e.className = r.sScrollFoot;\n      h.className = r.sScrollFootInner;\n      if (a.oScroll.bAutoCss) {\n        c.style.overflow = \"hidden\";\n        c.style.position = \"relative\";\n        e.style.overflow = \"hidden\";\n        f.style.overflow = \"auto\";\n      }\n      c.style.border = \"0\";\n      c.style.width = \"100%\";\n      e.style.border = \"0\";\n      d.style.width = \"150%\";\n      j.removeAttribute(\"id\");\n      j.style.marginLeft = \"0\";\n      a.nTable.style.marginLeft = \"0\";\n      if (u !== null) {\n        k.removeAttribute(\"id\");\n        k.style.marginLeft = \"0\";\n      }\n      d = i(a.nTable).children(\"caption\");\n      h = 0;\n      for (k = d.length; h < k; h++) j.appendChild(d[h]);\n      if (a.oScroll.sX !== \"\") {\n        c.style.width = q(a.oScroll.sX);\n        f.style.width = q(a.oScroll.sX);\n        if (u !== null) e.style.width = q(a.oScroll.sX);\n        i(f).scroll(function () {\n          c.scrollLeft = this.scrollLeft;\n          if (u !== null) e.scrollLeft = this.scrollLeft;\n        });\n      }\n      if (a.oScroll.sY !== \"\") f.style.height = q(a.oScroll.sY);\n      a.aoDrawCallback.push({\n        fn: Ma,\n        sName: \"scrolling\"\n      });\n      a.oScroll.bInfinite && i(f).scroll(function () {\n        if (!a.bDrawing) if (i(this).scrollTop() + i(this).height() > i(a.nTable).height() - a.oScroll.iLoadGap) if (a.fnDisplayEnd() < a.fnRecordsDisplay()) {\n          ma(a, \"next\");\n          E(a);\n          C(a);\n        }\n      });\n      a.nScrollHead = c;\n      a.nScrollFoot = e;\n      return b;\n    }\n    function Ma(a) {\n      var b = a.nScrollHead.getElementsByTagName(\"div\")[0],\n        c = b.getElementsByTagName(\"table\")[0],\n        d = a.nTable.parentNode,\n        f,\n        e,\n        h,\n        j,\n        k,\n        m,\n        u,\n        r,\n        H = [],\n        L = a.nTFoot !== null ? a.nScrollFoot.getElementsByTagName(\"div\")[0] : null,\n        T = a.nTFoot !== null ? L.getElementsByTagName(\"table\")[0] : null,\n        B = i.browser.msie && i.browser.version <= 7;\n      h = a.nTable.getElementsByTagName(\"thead\");\n      h.length > 0 && a.nTable.removeChild(h[0]);\n      if (a.nTFoot !== null) {\n        k = a.nTable.getElementsByTagName(\"tfoot\");\n        k.length > 0 && a.nTable.removeChild(k[0]);\n      }\n      h = a.nTHead.cloneNode(true);\n      a.nTable.insertBefore(h, a.nTable.childNodes[0]);\n      if (a.nTFoot !== null) {\n        k = a.nTFoot.cloneNode(true);\n        a.nTable.insertBefore(k, a.nTable.childNodes[1]);\n      }\n      if (a.oScroll.sX === \"\") {\n        d.style.width = \"100%\";\n        b.parentNode.style.width = \"100%\";\n      }\n      var U = S(a, h);\n      f = 0;\n      for (e = U.length; f < e; f++) {\n        u = Na(a, f);\n        U[f].style.width = a.aoColumns[u].sWidth;\n      }\n      a.nTFoot !== null && P(function (I) {\n        I.style.width = \"\";\n      }, k.getElementsByTagName(\"tr\"));\n      f = i(a.nTable).outerWidth();\n      if (a.oScroll.sX === \"\") {\n        a.nTable.style.width = \"100%\";\n        if (B && (d.scrollHeight > d.offsetHeight || i(d).css(\"overflow-y\") == \"scroll\")) a.nTable.style.width = q(i(a.nTable).outerWidth() - a.oScroll.iBarWidth);\n      } else if (a.oScroll.sXInner !== \"\") a.nTable.style.width = q(a.oScroll.sXInner);else if (f == i(d).width() && i(d).height() < i(a.nTable).height()) {\n        a.nTable.style.width = q(f - a.oScroll.iBarWidth);\n        if (i(a.nTable).outerWidth() > f - a.oScroll.iBarWidth) a.nTable.style.width = q(f);\n      } else a.nTable.style.width = q(f);\n      f = i(a.nTable).outerWidth();\n      e = a.nTHead.getElementsByTagName(\"tr\");\n      h = h.getElementsByTagName(\"tr\");\n      P(function (I, na) {\n        m = I.style;\n        m.paddingTop = \"0\";\n        m.paddingBottom = \"0\";\n        m.borderTopWidth = \"0\";\n        m.borderBottomWidth = \"0\";\n        m.height = 0;\n        r = i(I).width();\n        na.style.width = q(r);\n        H.push(r);\n      }, h, e);\n      i(h).height(0);\n      if (a.nTFoot !== null) {\n        j = k.getElementsByTagName(\"tr\");\n        k = a.nTFoot.getElementsByTagName(\"tr\");\n        P(function (I, na) {\n          m = I.style;\n          m.paddingTop = \"0\";\n          m.paddingBottom = \"0\";\n          m.borderTopWidth = \"0\";\n          m.borderBottomWidth = \"0\";\n          m.height = 0;\n          r = i(I).width();\n          na.style.width = q(r);\n          H.push(r);\n        }, j, k);\n        i(j).height(0);\n      }\n      P(function (I) {\n        I.innerHTML = \"\";\n        I.style.width = q(H.shift());\n      }, h);\n      a.nTFoot !== null && P(function (I) {\n        I.innerHTML = \"\";\n        I.style.width = q(H.shift());\n      }, j);\n      if (i(a.nTable).outerWidth() < f) {\n        j = d.scrollHeight > d.offsetHeight || i(d).css(\"overflow-y\") == \"scroll\" ? f + a.oScroll.iBarWidth : f;\n        if (B && (d.scrollHeight > d.offsetHeight || i(d).css(\"overflow-y\") == \"scroll\")) a.nTable.style.width = q(j - a.oScroll.iBarWidth);\n        d.style.width = q(j);\n        b.parentNode.style.width = q(j);\n        if (a.nTFoot !== null) L.parentNode.style.width = q(j);\n        if (a.oScroll.sX === \"\") J(a, 1, \"The table cannot fit into the current element which will cause column misalignment. The table has been drawn at its minimum possible width.\");else a.oScroll.sXInner !== \"\" && J(a, 1, \"The table cannot fit into the current element which will cause column misalignment. Increase the sScrollXInner value or remove it to allow automatic calculation\");\n      } else {\n        d.style.width = q(\"100%\");\n        b.parentNode.style.width = q(\"100%\");\n        if (a.nTFoot !== null) L.parentNode.style.width = q(\"100%\");\n      }\n      if (a.oScroll.sY === \"\") if (B) d.style.height = q(a.nTable.offsetHeight + a.oScroll.iBarWidth);\n      if (a.oScroll.sY !== \"\" && a.oScroll.bCollapse) {\n        d.style.height = q(a.oScroll.sY);\n        B = a.oScroll.sX !== \"\" && a.nTable.offsetWidth > d.offsetWidth ? a.oScroll.iBarWidth : 0;\n        if (a.nTable.offsetHeight < d.offsetHeight) d.style.height = q(i(a.nTable).height() + B);\n      }\n      B = i(a.nTable).outerWidth();\n      c.style.width = q(B);\n      b.style.width = q(B + a.oScroll.iBarWidth);\n      if (a.nTFoot !== null) {\n        L.style.width = q(a.nTable.offsetWidth + a.oScroll.iBarWidth);\n        T.style.width = q(a.nTable.offsetWidth);\n      }\n      if (a.bSorted || a.bFiltered) d.scrollTop = 0;\n    }\n    function ea(a) {\n      if (a.oFeatures.bAutoWidth === false) return false;\n      ga(a);\n      for (var b = 0, c = a.aoColumns.length; b < c; b++) a.aoColumns[b].nTh.style.width = a.aoColumns[b].sWidth;\n    }\n    function Ha(a) {\n      var b = a.oLanguage.sSearch;\n      b = b.indexOf(\"_INPUT_\") !== -1 ? b.replace(\"_INPUT_\", '<input type=\"text\" />') : b === \"\" ? '<input type=\"text\" />' : b + ' <input type=\"text\" />';\n      var c = p.createElement(\"div\");\n      c.className = a.oClasses.sFilter;\n      c.innerHTML = \"<label>\" + b + \"</label>\";\n      a.sTableId !== \"\" && typeof a.aanFeatures.f == \"undefined\" && c.setAttribute(\"id\", a.sTableId + \"_filter\");\n      b = i(\"input\", c);\n      b.val(a.oPreviousSearch.sSearch.replace('\"', \"&quot;\"));\n      b.bind(\"keyup.DT\", function () {\n        for (var d = a.aanFeatures.f, f = 0, e = d.length; f < e; f++) d[f] != i(this).parents(\"div.dataTables_filter\")[0] && i(\"input\", d[f]).val(this.value);\n        this.value != a.oPreviousSearch.sSearch && N(a, {\n          sSearch: this.value,\n          bRegex: a.oPreviousSearch.bRegex,\n          bSmart: a.oPreviousSearch.bSmart\n        });\n      });\n      b.bind(\"keypress.DT\", function (d) {\n        if (d.keyCode == 13) return false;\n      });\n      return c;\n    }\n    function N(a, b, c) {\n      Oa(a, b.sSearch, c, b.bRegex, b.bSmart);\n      for (b = 0; b < a.aoPreSearchCols.length; b++) Pa(a, a.aoPreSearchCols[b].sSearch, b, a.aoPreSearchCols[b].bRegex, a.aoPreSearchCols[b].bSmart);\n      n.afnFiltering.length !== 0 && Qa(a);\n      a.bFiltered = true;\n      i(a.oInstance).trigger(\"filter\", a);\n      a._iDisplayStart = 0;\n      E(a);\n      C(a);\n      oa(a, 0);\n    }\n    function Qa(a) {\n      for (var b = n.afnFiltering, c = 0, d = b.length; c < d; c++) for (var f = 0, e = 0, h = a.aiDisplay.length; e < h; e++) {\n        var j = a.aiDisplay[e - f];\n        if (!b[c](a, fa(a, j, \"filter\"), j)) {\n          a.aiDisplay.splice(e - f, 1);\n          f++;\n        }\n      }\n    }\n    function Pa(a, b, c, d, f) {\n      if (b !== \"\") {\n        var e = 0;\n        b = pa(b, d, f);\n        for (d = a.aiDisplay.length - 1; d >= 0; d--) {\n          f = qa(G(a, a.aiDisplay[d], c, \"filter\"), a.aoColumns[c].sType);\n          if (!b.test(f)) {\n            a.aiDisplay.splice(d, 1);\n            e++;\n          }\n        }\n      }\n    }\n    function Oa(a, b, c, d, f) {\n      var e = pa(b, d, f);\n      if (typeof c == \"undefined\" || c === null) c = 0;\n      if (n.afnFiltering.length !== 0) c = 1;\n      if (b.length <= 0) {\n        a.aiDisplay.splice(0, a.aiDisplay.length);\n        a.aiDisplay = a.aiDisplayMaster.slice();\n      } else if (a.aiDisplay.length == a.aiDisplayMaster.length || a.oPreviousSearch.sSearch.length > b.length || c == 1 || b.indexOf(a.oPreviousSearch.sSearch) !== 0) {\n        a.aiDisplay.splice(0, a.aiDisplay.length);\n        oa(a, 1);\n        for (c = 0; c < a.aiDisplayMaster.length; c++) e.test(a.asDataSearch[c]) && a.aiDisplay.push(a.aiDisplayMaster[c]);\n      } else {\n        var h = 0;\n        for (c = 0; c < a.asDataSearch.length; c++) if (!e.test(a.asDataSearch[c])) {\n          a.aiDisplay.splice(c - h, 1);\n          h++;\n        }\n      }\n      a.oPreviousSearch.sSearch = b;\n      a.oPreviousSearch.bRegex = d;\n      a.oPreviousSearch.bSmart = f;\n    }\n    function oa(a, b) {\n      if (!a.oFeatures.bServerSide) {\n        a.asDataSearch.splice(0, a.asDataSearch.length);\n        b = typeof b != \"undefined\" && b == 1 ? a.aiDisplayMaster : a.aiDisplay;\n        for (var c = 0, d = b.length; c < d; c++) a.asDataSearch[c] = ra(a, fa(a, b[c], \"filter\"));\n      }\n    }\n    function ra(a, b) {\n      var c = \"\";\n      if (typeof a.__nTmpFilter == \"undefined\") a.__nTmpFilter = p.createElement(\"div\");\n      for (var d = a.__nTmpFilter, f = 0, e = a.aoColumns.length; f < e; f++) if (a.aoColumns[f].bSearchable) c += qa(b[f], a.aoColumns[f].sType) + \"  \";\n      if (c.indexOf(\"&\") !== -1) {\n        d.innerHTML = c;\n        c = d.textContent ? d.textContent : d.innerText;\n        c = c.replace(/\\n/g, \" \").replace(/\\r/g, \"\");\n      }\n      return c;\n    }\n    function pa(a, b, c) {\n      if (c) {\n        a = b ? a.split(\" \") : sa(a).split(\" \");\n        a = \"^(?=.*?\" + a.join(\")(?=.*?\") + \").*$\";\n        return new RegExp(a, \"i\");\n      } else {\n        a = b ? a : sa(a);\n        return new RegExp(a, \"i\");\n      }\n    }\n    function qa(a, b) {\n      if (typeof n.ofnSearch[b] == \"function\") return n.ofnSearch[b](a);else if (b == \"html\") return a.replace(/\\n/g, \" \").replace(/<.*?>/g, \"\");else if (typeof a == \"string\") return a.replace(/\\n/g, \" \");else if (a === null) return \"\";\n      return a;\n    }\n    function R(a, b) {\n      var c,\n        d,\n        f,\n        e,\n        h = [],\n        j = [],\n        k = n.oSort;\n      d = a.aoData;\n      var m = a.aoColumns;\n      if (!a.oFeatures.bServerSide && (a.aaSorting.length !== 0 || a.aaSortingFixed !== null)) {\n        h = a.aaSortingFixed !== null ? a.aaSortingFixed.concat(a.aaSorting) : a.aaSorting.slice();\n        for (c = 0; c < h.length; c++) {\n          var u = h[c][0];\n          f = ta(a, u);\n          e = a.aoColumns[u].sSortDataType;\n          if (typeof n.afnSortData[e] != \"undefined\") {\n            var r = n.afnSortData[e](a, u, f);\n            f = 0;\n            for (e = d.length; f < e; f++) O(a, f, u, r[f]);\n          }\n        }\n        c = 0;\n        for (d = a.aiDisplayMaster.length; c < d; c++) j[a.aiDisplayMaster[c]] = c;\n        var H = h.length;\n        a.aiDisplayMaster.sort(function (L, T) {\n          var B, U;\n          for (c = 0; c < H; c++) {\n            B = m[h[c][0]].iDataSort;\n            U = m[B].sType;\n            B = k[(U ? U : \"string\") + \"-\" + h[c][1]](G(a, L, B, \"sort\"), G(a, T, B, \"sort\"));\n            if (B !== 0) return B;\n          }\n          return k[\"numeric-asc\"](j[L], j[T]);\n        });\n      }\n      if ((typeof b == \"undefined\" || b) && !a.oFeatures.bDeferRender) V(a);\n      a.bSorted = true;\n      i(a.oInstance).trigger(\"sort\", a);\n      if (a.oFeatures.bFilter) N(a, a.oPreviousSearch, 1);else {\n        a.aiDisplay = a.aiDisplayMaster.slice();\n        a._iDisplayStart = 0;\n        E(a);\n        C(a);\n      }\n    }\n    function ja(a, b, c, d) {\n      i(b).bind(\"click.DT\", function (f) {\n        if (a.aoColumns[c].bSortable !== false) {\n          var e = function e() {\n            var h, j;\n            if (f.shiftKey) {\n              for (var k = false, m = 0; m < a.aaSorting.length; m++) if (a.aaSorting[m][0] == c) {\n                k = true;\n                h = a.aaSorting[m][0];\n                j = a.aaSorting[m][2] + 1;\n                if (typeof a.aoColumns[h].asSorting[j] == \"undefined\") a.aaSorting.splice(m, 1);else {\n                  a.aaSorting[m][1] = a.aoColumns[h].asSorting[j];\n                  a.aaSorting[m][2] = j;\n                }\n                break;\n              }\n              k === false && a.aaSorting.push([c, a.aoColumns[c].asSorting[0], 0]);\n            } else if (a.aaSorting.length == 1 && a.aaSorting[0][0] == c) {\n              h = a.aaSorting[0][0];\n              j = a.aaSorting[0][2] + 1;\n              if (typeof a.aoColumns[h].asSorting[j] == \"undefined\") j = 0;\n              a.aaSorting[0][1] = a.aoColumns[h].asSorting[j];\n              a.aaSorting[0][2] = j;\n            } else {\n              a.aaSorting.splice(0, a.aaSorting.length);\n              a.aaSorting.push([c, a.aoColumns[c].asSorting[0], 0]);\n            }\n            R(a);\n          };\n          if (a.oFeatures.bProcessing) {\n            K(a, true);\n            setTimeout(function () {\n              e();\n              a.oFeatures.bServerSide || K(a, false);\n            }, 0);\n          } else e();\n          typeof d == \"function\" && d(a);\n        }\n      });\n    }\n    function V(a) {\n      var b,\n        c,\n        d,\n        f,\n        e,\n        h = a.aoColumns.length,\n        j = a.oClasses;\n      for (b = 0; b < h; b++) a.aoColumns[b].bSortable && i(a.aoColumns[b].nTh).removeClass(j.sSortAsc + \" \" + j.sSortDesc + \" \" + a.aoColumns[b].sSortingClass);\n      f = a.aaSortingFixed !== null ? a.aaSortingFixed.concat(a.aaSorting) : a.aaSorting.slice();\n      for (b = 0; b < a.aoColumns.length; b++) if (a.aoColumns[b].bSortable) {\n        e = a.aoColumns[b].sSortingClass;\n        d = -1;\n        for (c = 0; c < f.length; c++) if (f[c][0] == b) {\n          e = f[c][1] == \"asc\" ? j.sSortAsc : j.sSortDesc;\n          d = c;\n          break;\n        }\n        i(a.aoColumns[b].nTh).addClass(e);\n        if (a.bJUI) {\n          c = i(\"span\", a.aoColumns[b].nTh);\n          c.removeClass(j.sSortJUIAsc + \" \" + j.sSortJUIDesc + \" \" + j.sSortJUI + \" \" + j.sSortJUIAscAllowed + \" \" + j.sSortJUIDescAllowed);\n          c.addClass(d == -1 ? a.aoColumns[b].sSortingClassJUI : f[d][1] == \"asc\" ? j.sSortJUIAsc : j.sSortJUIDesc);\n        }\n      } else i(a.aoColumns[b].nTh).addClass(a.aoColumns[b].sSortingClass);\n      e = j.sSortColumn;\n      if (a.oFeatures.bSort && a.oFeatures.bSortClasses) {\n        d = Q(a);\n        if (a.oFeatures.bDeferRender) i(d).removeClass(e + \"1 \" + e + \"2 \" + e + \"3\");else if (d.length >= h) for (b = 0; b < h; b++) if (d[b].className.indexOf(e + \"1\") != -1) {\n          c = 0;\n          for (a = d.length / h; c < a; c++) d[h * c + b].className = i.trim(d[h * c + b].className.replace(e + \"1\", \"\"));\n        } else if (d[b].className.indexOf(e + \"2\") != -1) {\n          c = 0;\n          for (a = d.length / h; c < a; c++) d[h * c + b].className = i.trim(d[h * c + b].className.replace(e + \"2\", \"\"));\n        } else if (d[b].className.indexOf(e + \"3\") != -1) {\n          c = 0;\n          for (a = d.length / h; c < a; c++) d[h * c + b].className = i.trim(d[h * c + b].className.replace(\" \" + e + \"3\", \"\"));\n        }\n        j = 1;\n        var k;\n        for (b = 0; b < f.length; b++) {\n          k = parseInt(f[b][0], 10);\n          c = 0;\n          for (a = d.length / h; c < a; c++) d[h * c + k].className += \" \" + e + j;\n          j < 3 && j++;\n        }\n      }\n    }\n    function La(a) {\n      if (a.oScroll.bInfinite) return null;\n      var b = p.createElement(\"div\");\n      b.className = a.oClasses.sPaging + a.sPaginationType;\n      n.oPagination[a.sPaginationType].fnInit(a, b, function (c) {\n        E(c);\n        C(c);\n      });\n      typeof a.aanFeatures.p == \"undefined\" && a.aoDrawCallback.push({\n        fn: function fn(c) {\n          n.oPagination[c.sPaginationType].fnUpdate(c, function (d) {\n            E(d);\n            C(d);\n          });\n        },\n        sName: \"pagination\"\n      });\n      return b;\n    }\n    function ma(a, b) {\n      var c = a._iDisplayStart;\n      if (b == \"first\") a._iDisplayStart = 0;else if (b == \"previous\") {\n        a._iDisplayStart = a._iDisplayLength >= 0 ? a._iDisplayStart - a._iDisplayLength : 0;\n        if (a._iDisplayStart < 0) a._iDisplayStart = 0;\n      } else if (b == \"next\") {\n        if (a._iDisplayLength >= 0) {\n          if (a._iDisplayStart + a._iDisplayLength < a.fnRecordsDisplay()) a._iDisplayStart += a._iDisplayLength;\n        } else a._iDisplayStart = 0;\n      } else if (b == \"last\") {\n        if (a._iDisplayLength >= 0) {\n          b = parseInt((a.fnRecordsDisplay() - 1) / a._iDisplayLength, 10) + 1;\n          a._iDisplayStart = (b - 1) * a._iDisplayLength;\n        } else a._iDisplayStart = 0;\n      } else J(a, 0, \"Unknown paging action: \" + b);\n      i(a.oInstance).trigger(\"page\", a);\n      return c != a._iDisplayStart;\n    }\n    function Ka(a) {\n      var b = p.createElement(\"div\");\n      b.className = a.oClasses.sInfo;\n      if (typeof a.aanFeatures.i == \"undefined\") {\n        a.aoDrawCallback.push({\n          fn: Ra,\n          sName: \"information\"\n        });\n        a.sTableId !== \"\" && b.setAttribute(\"id\", a.sTableId + \"_info\");\n      }\n      return b;\n    }\n    function Ra(a) {\n      if (!(!a.oFeatures.bInfo || a.aanFeatures.i.length === 0)) {\n        var b = a._iDisplayStart + 1,\n          c = a.fnDisplayEnd(),\n          d = a.fnRecordsTotal(),\n          f = a.fnRecordsDisplay(),\n          e = a.fnFormatNumber(b),\n          h = a.fnFormatNumber(c),\n          j = a.fnFormatNumber(d),\n          k = a.fnFormatNumber(f);\n        if (a.oScroll.bInfinite) e = a.fnFormatNumber(1);\n        e = a.fnRecordsDisplay() === 0 && a.fnRecordsDisplay() == a.fnRecordsTotal() ? a.oLanguage.sInfoEmpty + a.oLanguage.sInfoPostFix : a.fnRecordsDisplay() === 0 ? a.oLanguage.sInfoEmpty + \" \" + a.oLanguage.sInfoFiltered.replace(\"_MAX_\", j) + a.oLanguage.sInfoPostFix : a.fnRecordsDisplay() == a.fnRecordsTotal() ? a.oLanguage.sInfo.replace(\"_START_\", e).replace(\"_END_\", h).replace(\"_TOTAL_\", k) + a.oLanguage.sInfoPostFix : a.oLanguage.sInfo.replace(\"_START_\", e).replace(\"_END_\", h).replace(\"_TOTAL_\", k) + \" \" + a.oLanguage.sInfoFiltered.replace(\"_MAX_\", a.fnFormatNumber(a.fnRecordsTotal())) + a.oLanguage.sInfoPostFix;\n        if (a.oLanguage.fnInfoCallback !== null) e = a.oLanguage.fnInfoCallback(a, b, c, d, f, e);\n        a = a.aanFeatures.i;\n        b = 0;\n        for (c = a.length; b < c; b++) i(a[b]).html(e);\n      }\n    }\n    function Ga(a) {\n      if (a.oScroll.bInfinite) return null;\n      var b = '<select size=\"1\" ' + (a.sTableId === \"\" ? \"\" : 'name=\"' + a.sTableId + '_length\"') + \">\",\n        c,\n        d;\n      if (a.aLengthMenu.length == 2 && _typeof(a.aLengthMenu[0]) == \"object\" && _typeof(a.aLengthMenu[1]) == \"object\") {\n        c = 0;\n        for (d = a.aLengthMenu[0].length; c < d; c++) b += '<option value=\"' + a.aLengthMenu[0][c] + '\">' + a.aLengthMenu[1][c] + \"</option>\";\n      } else {\n        c = 0;\n        for (d = a.aLengthMenu.length; c < d; c++) b += '<option value=\"' + a.aLengthMenu[c] + '\">' + a.aLengthMenu[c] + \"</option>\";\n      }\n      b += \"</select>\";\n      var f = p.createElement(\"div\");\n      a.sTableId !== \"\" && typeof a.aanFeatures.l == \"undefined\" && f.setAttribute(\"id\", a.sTableId + \"_length\");\n      f.className = a.oClasses.sLength;\n      f.innerHTML = \"<label>\" + a.oLanguage.sLengthMenu.replace(\"_MENU_\", b) + \"</label>\";\n      i('select option[value=\"' + a._iDisplayLength + '\"]', f).attr(\"selected\", true);\n      i(\"select\", f).bind(\"change.DT\", function () {\n        var e = i(this).val(),\n          h = a.aanFeatures.l;\n        c = 0;\n        for (d = h.length; c < d; c++) h[c] != this.parentNode && i(\"select\", h[c]).val(e);\n        a._iDisplayLength = parseInt(e, 10);\n        E(a);\n        if (a.fnDisplayEnd() == a.fnRecordsDisplay()) {\n          a._iDisplayStart = a.fnDisplayEnd() - a._iDisplayLength;\n          if (a._iDisplayStart < 0) a._iDisplayStart = 0;\n        }\n        if (a._iDisplayLength == -1) a._iDisplayStart = 0;\n        C(a);\n      });\n      return f;\n    }\n    function Ia(a) {\n      var b = p.createElement(\"div\");\n      a.sTableId !== \"\" && typeof a.aanFeatures.r == \"undefined\" && b.setAttribute(\"id\", a.sTableId + \"_processing\");\n      b.innerHTML = a.oLanguage.sProcessing;\n      b.className = a.oClasses.sProcessing;\n      a.nTable.parentNode.insertBefore(b, a.nTable);\n      return b;\n    }\n    function K(a, b) {\n      if (a.oFeatures.bProcessing) {\n        a = a.aanFeatures.r;\n        for (var c = 0, d = a.length; c < d; c++) a[c].style.visibility = b ? \"visible\" : \"hidden\";\n      }\n    }\n    function Na(a, b) {\n      for (var c = -1, d = 0; d < a.aoColumns.length; d++) {\n        a.aoColumns[d].bVisible === true && c++;\n        if (c == b) return d;\n      }\n      return null;\n    }\n    function ta(a, b) {\n      for (var c = -1, d = 0; d < a.aoColumns.length; d++) {\n        a.aoColumns[d].bVisible === true && c++;\n        if (d == b) return a.aoColumns[d].bVisible === true ? c : null;\n      }\n      return null;\n    }\n    function W(a, b) {\n      var c, d;\n      c = a._iDisplayStart;\n      for (d = a._iDisplayEnd; c < d; c++) if (a.aoData[a.aiDisplay[c]].nTr == b) return a.aiDisplay[c];\n      c = 0;\n      for (d = a.aoData.length; c < d; c++) if (a.aoData[c].nTr == b) return c;\n      return null;\n    }\n    function Z(a) {\n      for (var b = 0, c = 0; c < a.aoColumns.length; c++) a.aoColumns[c].bVisible === true && b++;\n      return b;\n    }\n    function E(a) {\n      a._iDisplayEnd = a.oFeatures.bPaginate === false ? a.aiDisplay.length : a._iDisplayStart + a._iDisplayLength > a.aiDisplay.length || a._iDisplayLength == -1 ? a.aiDisplay.length : a._iDisplayStart + a._iDisplayLength;\n    }\n    function Sa(a, b) {\n      if (!a || a === null || a === \"\") return 0;\n      if (typeof b == \"undefined\") b = p.getElementsByTagName(\"body\")[0];\n      var c = p.createElement(\"div\");\n      c.style.width = q(a);\n      b.appendChild(c);\n      a = c.offsetWidth;\n      b.removeChild(c);\n      return a;\n    }\n    function ga(a) {\n      var b = 0,\n        c,\n        d = 0,\n        f = a.aoColumns.length,\n        e,\n        h = i(\"th\", a.nTHead);\n      for (e = 0; e < f; e++) if (a.aoColumns[e].bVisible) {\n        d++;\n        if (a.aoColumns[e].sWidth !== null) {\n          c = Sa(a.aoColumns[e].sWidthOrig, a.nTable.parentNode);\n          if (c !== null) a.aoColumns[e].sWidth = q(c);\n          b++;\n        }\n      }\n      if (f == h.length && b === 0 && d == f && a.oScroll.sX === \"\" && a.oScroll.sY === \"\") for (e = 0; e < a.aoColumns.length; e++) {\n        c = i(h[e]).width();\n        if (c !== null) a.aoColumns[e].sWidth = q(c);\n      } else {\n        b = a.nTable.cloneNode(false);\n        e = a.nTHead.cloneNode(true);\n        d = p.createElement(\"tbody\");\n        c = p.createElement(\"tr\");\n        b.removeAttribute(\"id\");\n        b.appendChild(e);\n        if (a.nTFoot !== null) {\n          b.appendChild(a.nTFoot.cloneNode(true));\n          P(function (k) {\n            k.style.width = \"\";\n          }, b.getElementsByTagName(\"tr\"));\n        }\n        b.appendChild(d);\n        d.appendChild(c);\n        d = i(\"thead th\", b);\n        if (d.length === 0) d = i(\"tbody tr:eq(0)>td\", b);\n        h = S(a, e);\n        for (e = d = 0; e < f; e++) {\n          var j = a.aoColumns[e];\n          if (j.bVisible && j.sWidthOrig !== null && j.sWidthOrig !== \"\") h[e - d].style.width = q(j.sWidthOrig);else if (j.bVisible) h[e - d].style.width = \"\";else d++;\n        }\n        for (e = 0; e < f; e++) if (a.aoColumns[e].bVisible) {\n          d = Ta(a, e);\n          if (d !== null) {\n            d = d.cloneNode(true);\n            if (a.aoColumns[e].sContentPadding !== \"\") d.innerHTML += a.aoColumns[e].sContentPadding;\n            c.appendChild(d);\n          }\n        }\n        f = a.nTable.parentNode;\n        f.appendChild(b);\n        if (a.oScroll.sX !== \"\" && a.oScroll.sXInner !== \"\") b.style.width = q(a.oScroll.sXInner);else if (a.oScroll.sX !== \"\") {\n          b.style.width = \"\";\n          if (i(b).width() < f.offsetWidth) b.style.width = q(f.offsetWidth);\n        } else if (a.oScroll.sY !== \"\") b.style.width = q(f.offsetWidth);\n        b.style.visibility = \"hidden\";\n        Ua(a, b);\n        f = i(\"tbody tr:eq(0)\", b).children();\n        if (f.length === 0) f = S(a, i(\"thead\", b)[0]);\n        if (a.oScroll.sX !== \"\") {\n          for (e = d = c = 0; e < a.aoColumns.length; e++) if (a.aoColumns[e].bVisible) {\n            c += a.aoColumns[e].sWidthOrig === null ? i(f[d]).outerWidth() : parseInt(a.aoColumns[e].sWidth.replace(\"px\", \"\"), 10) + (i(f[d]).outerWidth() - i(f[d]).width());\n            d++;\n          }\n          b.style.width = q(c);\n          a.nTable.style.width = q(c);\n        }\n        for (e = d = 0; e < a.aoColumns.length; e++) if (a.aoColumns[e].bVisible) {\n          c = i(f[d]).width();\n          if (c !== null && c > 0) a.aoColumns[e].sWidth = q(c);\n          d++;\n        }\n        a.nTable.style.width = q(i(b).outerWidth());\n        b.parentNode.removeChild(b);\n      }\n    }\n    function Ua(a, b) {\n      if (a.oScroll.sX === \"\" && a.oScroll.sY !== \"\") {\n        i(b).width();\n        b.style.width = q(i(b).outerWidth() - a.oScroll.iBarWidth);\n      } else if (a.oScroll.sX !== \"\") b.style.width = q(i(b).outerWidth());\n    }\n    function Ta(a, b) {\n      var c = Va(a, b);\n      if (c < 0) return null;\n      if (a.aoData[c].nTr === null) {\n        var d = p.createElement(\"td\");\n        d.innerHTML = G(a, c, b, \"\");\n        return d;\n      }\n      return Q(a, c)[b];\n    }\n    function Va(a, b) {\n      for (var c = -1, d = -1, f = 0; f < a.aoData.length; f++) {\n        var e = G(a, f, b, \"display\") + \"\";\n        e = e.replace(/<.*?>/g, \"\");\n        if (e.length > c) {\n          c = e.length;\n          d = f;\n        }\n      }\n      return d;\n    }\n    function q(a) {\n      if (a === null) return \"0px\";\n      if (typeof a == \"number\") {\n        if (a < 0) return \"0px\";\n        return a + \"px\";\n      }\n      var b = a.charCodeAt(a.length - 1);\n      if (b < 48 || b > 57) return a;\n      return a + \"px\";\n    }\n    function Za(a, b) {\n      if (a.length != b.length) return 1;\n      for (var c = 0; c < a.length; c++) if (a[c] != b[c]) return 2;\n      return 0;\n    }\n    function ia(a) {\n      for (var b = n.aTypes, c = b.length, d = 0; d < c; d++) {\n        var f = b[d](a);\n        if (f !== null) return f;\n      }\n      return \"string\";\n    }\n    function A(a) {\n      for (var b = 0; b < D.length; b++) if (D[b].nTable == a) return D[b];\n      return null;\n    }\n    function ca(a) {\n      for (var b = [], c = a.aoData.length, d = 0; d < c; d++) b.push(a.aoData[d]._aData);\n      return b;\n    }\n    function ba(a) {\n      for (var b = [], c = 0, d = a.aoData.length; c < d; c++) a.aoData[c].nTr !== null && b.push(a.aoData[c].nTr);\n      return b;\n    }\n    function Q(a, b) {\n      var c = [],\n        d,\n        f,\n        e,\n        h,\n        j;\n      f = 0;\n      var k = a.aoData.length;\n      if (typeof b != \"undefined\") {\n        f = b;\n        k = b + 1;\n      }\n      for (f = f; f < k; f++) {\n        j = a.aoData[f];\n        if (j.nTr !== null) {\n          b = [];\n          e = 0;\n          for (h = j.nTr.childNodes.length; e < h; e++) {\n            d = j.nTr.childNodes[e].nodeName.toLowerCase();\n            if (d == \"td\" || d == \"th\") b.push(j.nTr.childNodes[e]);\n          }\n          e = d = 0;\n          for (h = a.aoColumns.length; e < h; e++) if (a.aoColumns[e].bVisible) c.push(b[e - d]);else {\n            c.push(j._anHidden[e]);\n            d++;\n          }\n        }\n      }\n      return c;\n    }\n    function sa(a) {\n      return a.replace(new RegExp(\"(\\\\/|\\\\.|\\\\*|\\\\+|\\\\?|\\\\||\\\\(|\\\\)|\\\\[|\\\\]|\\\\{|\\\\}|\\\\\\\\|\\\\$|\\\\^)\", \"g\"), \"\\\\$1\");\n    }\n    function ua(a, b) {\n      for (var c = -1, d = 0, f = a.length; d < f; d++) if (a[d] == b) c = d;else a[d] > b && a[d]--;\n      c != -1 && a.splice(c, 1);\n    }\n    function Fa(a, b) {\n      b = b.split(\",\");\n      for (var c = [], d = 0, f = a.aoColumns.length; d < f; d++) for (var e = 0; e < f; e++) if (a.aoColumns[d].sName == b[e]) {\n        c.push(e);\n        break;\n      }\n      return c;\n    }\n    function ka(a) {\n      for (var b = \"\", c = 0, d = a.aoColumns.length; c < d; c++) b += a.aoColumns[c].sName + \",\";\n      if (b.length == d) return \"\";\n      return b.slice(0, -1);\n    }\n    function J(a, b, c) {\n      a = a.sTableId === \"\" ? \"DataTables warning: \" + c : \"DataTables warning (table id = '\" + a.sTableId + \"'): \" + c;\n      if (b === 0) {\n        if (n.sErrMode == \"alert\") alert(a);else throw a;\n      } else typeof console != \"undefined\" && typeof console.log != \"undefined\" && console.log(a);\n    }\n    function la(a) {\n      a.aoData.splice(0, a.aoData.length);\n      a.aiDisplayMaster.splice(0, a.aiDisplayMaster.length);\n      a.aiDisplay.splice(0, a.aiDisplay.length);\n      E(a);\n    }\n    function va(a) {\n      if (!(!a.oFeatures.bStateSave || typeof a.bDestroying != \"undefined\")) {\n        var b,\n          c,\n          d,\n          f = \"{\";\n        f += '\"iCreate\":' + new Date().getTime() + \",\";\n        f += '\"iStart\":' + (a.oScroll.bInfinite ? 0 : a._iDisplayStart) + \",\";\n        f += '\"iEnd\":' + (a.oScroll.bInfinite ? a._iDisplayLength : a._iDisplayEnd) + \",\";\n        f += '\"iLength\":' + a._iDisplayLength + \",\";\n        f += '\"sFilter\":\"' + encodeURIComponent(a.oPreviousSearch.sSearch) + '\",';\n        f += '\"sFilterEsc\":' + !a.oPreviousSearch.bRegex + \",\";\n        f += '\"aaSorting\":[ ';\n        for (b = 0; b < a.aaSorting.length; b++) f += \"[\" + a.aaSorting[b][0] + ',\"' + a.aaSorting[b][1] + '\"],';\n        f = f.substring(0, f.length - 1);\n        f += \"],\";\n        f += '\"aaSearchCols\":[ ';\n        for (b = 0; b < a.aoPreSearchCols.length; b++) f += '[\"' + encodeURIComponent(a.aoPreSearchCols[b].sSearch) + '\",' + !a.aoPreSearchCols[b].bRegex + \"],\";\n        f = f.substring(0, f.length - 1);\n        f += \"],\";\n        f += '\"abVisCols\":[ ';\n        for (b = 0; b < a.aoColumns.length; b++) f += a.aoColumns[b].bVisible + \",\";\n        f = f.substring(0, f.length - 1);\n        f += \"]\";\n        b = 0;\n        for (c = a.aoStateSave.length; b < c; b++) {\n          d = a.aoStateSave[b].fn(a, f);\n          if (d !== \"\") f = d;\n        }\n        f += \"}\";\n        Wa(a.sCookiePrefix + a.sInstance, f, a.iCookieDuration, a.sCookiePrefix, a.fnCookieCallback);\n      }\n    }\n    function Xa(a, b) {\n      if (a.oFeatures.bStateSave) {\n        var c, d, f;\n        d = wa(a.sCookiePrefix + a.sInstance);\n        if (d !== null && d !== \"\") {\n          try {\n            c = typeof i.parseJSON == \"function\" ? i.parseJSON(d.replace(/'/g, '\"')) : eval(\"(\" + d + \")\");\n          } catch (e) {\n            return;\n          }\n          d = 0;\n          for (f = a.aoStateLoad.length; d < f; d++) if (!a.aoStateLoad[d].fn(a, c)) return;\n          a.oLoadedState = i.extend(true, {}, c);\n          a._iDisplayStart = c.iStart;\n          a.iInitDisplayStart = c.iStart;\n          a._iDisplayEnd = c.iEnd;\n          a._iDisplayLength = c.iLength;\n          a.oPreviousSearch.sSearch = decodeURIComponent(c.sFilter);\n          a.aaSorting = c.aaSorting.slice();\n          a.saved_aaSorting = c.aaSorting.slice();\n          if (typeof c.sFilterEsc != \"undefined\") a.oPreviousSearch.bRegex = !c.sFilterEsc;\n          if (typeof c.aaSearchCols != \"undefined\") for (d = 0; d < c.aaSearchCols.length; d++) a.aoPreSearchCols[d] = {\n            sSearch: decodeURIComponent(c.aaSearchCols[d][0]),\n            bRegex: !c.aaSearchCols[d][1]\n          };\n          if (typeof c.abVisCols != \"undefined\") {\n            b.saved_aoColumns = [];\n            for (d = 0; d < c.abVisCols.length; d++) {\n              b.saved_aoColumns[d] = {};\n              b.saved_aoColumns[d].bVisible = c.abVisCols[d];\n            }\n          }\n        }\n      }\n    }\n    function Wa(a, b, c, d, f) {\n      var e = new Date();\n      e.setTime(e.getTime() + c * 1E3);\n      c = za.location.pathname.split(\"/\");\n      a = a + \"_\" + c.pop().replace(/[\\/:]/g, \"\").toLowerCase();\n      var h;\n      if (f !== null) {\n        h = typeof i.parseJSON == \"function\" ? i.parseJSON(b) : eval(\"(\" + b + \")\");\n        b = f(a, h, e.toGMTString(), c.join(\"/\") + \"/\");\n      } else b = a + \"=\" + encodeURIComponent(b) + \"; expires=\" + e.toGMTString() + \"; path=\" + c.join(\"/\") + \"/\";\n      f = \"\";\n      e = 9999999999999;\n      if ((wa(a) !== null ? p.cookie.length : b.length + p.cookie.length) + 10 > 4096) {\n        a = p.cookie.split(\";\");\n        for (var j = 0, k = a.length; j < k; j++) if (a[j].indexOf(d) != -1) {\n          var m = a[j].split(\"=\");\n          try {\n            h = eval(\"(\" + decodeURIComponent(m[1]) + \")\");\n          } catch (u) {\n            continue;\n          }\n          if (typeof h.iCreate != \"undefined\" && h.iCreate < e) {\n            f = m[0];\n            e = h.iCreate;\n          }\n        }\n        if (f !== \"\") p.cookie = f + \"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path=\" + c.join(\"/\") + \"/\";\n      }\n      p.cookie = b;\n    }\n    function wa(a) {\n      var b = za.location.pathname.split(\"/\");\n      a = a + \"_\" + b[b.length - 1].replace(/[\\/:]/g, \"\").toLowerCase() + \"=\";\n      b = p.cookie.split(\";\");\n      for (var c = 0; c < b.length; c++) {\n        for (var d = b[c]; d.charAt(0) == \" \";) d = d.substring(1, d.length);\n        if (d.indexOf(a) === 0) return decodeURIComponent(d.substring(a.length, d.length));\n      }\n      return null;\n    }\n    function Y(a, b) {\n      b = i(b).children(\"tr\");\n      var c,\n        d,\n        f,\n        e,\n        h,\n        j,\n        k,\n        m,\n        u = function u(L, T, B) {\n          for (; typeof L[T][B] != \"undefined\";) B++;\n          return B;\n        };\n      a.splice(0, a.length);\n      d = 0;\n      for (j = b.length; d < j; d++) a.push([]);\n      d = 0;\n      for (j = b.length; d < j; d++) {\n        f = 0;\n        for (k = b[d].childNodes.length; f < k; f++) {\n          c = b[d].childNodes[f];\n          if (c.nodeName.toUpperCase() == \"TD\" || c.nodeName.toUpperCase() == \"TH\") {\n            var r = c.getAttribute(\"colspan\") * 1,\n              H = c.getAttribute(\"rowspan\") * 1;\n            r = !r || r === 0 || r === 1 ? 1 : r;\n            H = !H || H === 0 || H === 1 ? 1 : H;\n            m = u(a, d, 0);\n            for (h = 0; h < r; h++) for (e = 0; e < H; e++) {\n              a[d + e][m + h] = {\n                cell: c,\n                unique: r == 1 ? true : false\n              };\n              a[d + e].nTr = b[d];\n            }\n          }\n        }\n      }\n    }\n    function S(a, b, c) {\n      var d = [];\n      if (typeof c == \"undefined\") {\n        c = a.aoHeader;\n        if (typeof b != \"undefined\") {\n          c = [];\n          Y(c, b);\n        }\n      }\n      b = 0;\n      for (var f = c.length; b < f; b++) for (var e = 0, h = c[b].length; e < h; e++) if (c[b][e].unique && (typeof d[e] == \"undefined\" || !a.bSortCellsTop)) d[e] = c[b][e].cell;\n      return d;\n    }\n    function Ya() {\n      var a = p.createElement(\"p\"),\n        b = a.style;\n      b.width = \"100%\";\n      b.height = \"200px\";\n      b.padding = \"0px\";\n      var c = p.createElement(\"div\");\n      b = c.style;\n      b.position = \"absolute\";\n      b.top = \"0px\";\n      b.left = \"0px\";\n      b.visibility = \"hidden\";\n      b.width = \"200px\";\n      b.height = \"150px\";\n      b.padding = \"0px\";\n      b.overflow = \"hidden\";\n      c.appendChild(a);\n      p.body.appendChild(c);\n      b = a.offsetWidth;\n      c.style.overflow = \"scroll\";\n      a = a.offsetWidth;\n      if (b == a) a = c.clientWidth;\n      p.body.removeChild(c);\n      return b - a;\n    }\n    function P(a, b, c) {\n      for (var d = 0, f = b.length; d < f; d++) for (var e = 0, h = b[d].childNodes.length; e < h; e++) if (b[d].childNodes[e].nodeType == 1) typeof c != \"undefined\" ? a(b[d].childNodes[e], c[d].childNodes[e]) : a(b[d].childNodes[e]);\n    }\n    function o(a, b, c, d) {\n      if (typeof d == \"undefined\") d = c;\n      if (typeof b[c] != \"undefined\") a[d] = b[c];\n    }\n    function fa(a, b, c) {\n      for (var d = [], f = 0, e = a.aoColumns.length; f < e; f++) d.push(G(a, b, f, c));\n      return d;\n    }\n    function G(a, b, c, d) {\n      var f = a.aoColumns[c];\n      if ((c = f.fnGetData(a.aoData[b]._aData)) === undefined) {\n        if (a.iDrawError != a.iDraw && f.sDefaultContent === null) {\n          J(a, 0, \"Requested unknown parameter '\" + f.mDataProp + \"' from the data source for row \" + b);\n          a.iDrawError = a.iDraw;\n        }\n        return f.sDefaultContent;\n      }\n      if (c === null && f.sDefaultContent !== null) c = f.sDefaultContent;else if (typeof c == \"function\") return c();\n      if (d == \"display\" && c === null) return \"\";\n      return c;\n    }\n    function O(a, b, c, d) {\n      a.aoColumns[c].fnSetData(a.aoData[b]._aData, d);\n    }\n    function aa(a) {\n      if (a === null) return function () {\n        return null;\n      };else if (typeof a == \"function\") return function (c) {\n        return a(c);\n      };else if (typeof a == \"string\" && a.indexOf(\".\") != -1) {\n        var b = a.split(\".\");\n        return b.length == 2 ? function (c) {\n          return c[b[0]][b[1]];\n        } : b.length == 3 ? function (c) {\n          return c[b[0]][b[1]][b[2]];\n        } : function (c) {\n          for (var d = 0, f = b.length; d < f; d++) c = c[b[d]];\n          return c;\n        };\n      } else return function (c) {\n        return c[a];\n      };\n    }\n    function Ba(a) {\n      if (a === null) return function () {};else if (typeof a == \"function\") return function (c, d) {\n        return a(c, d);\n      };else if (typeof a == \"string\" && a.indexOf(\".\") != -1) {\n        var b = a.split(\".\");\n        return b.length == 2 ? function (c, d) {\n          c[b[0]][b[1]] = d;\n        } : b.length == 3 ? function (c, d) {\n          c[b[0]][b[1]][b[2]] = d;\n        } : function (c, d) {\n          for (var f = 0, e = b.length - 1; f < e; f++) c = c[b[f]];\n          c[b[b.length - 1]] = d;\n        };\n      } else return function (c, d) {\n        c[a] = d;\n      };\n    }\n    this.oApi = {};\n    this.fnDraw = function (a) {\n      var b = A(this[n.iApiIndex]);\n      if (typeof a != \"undefined\" && a === false) {\n        E(b);\n        C(b);\n      } else da(b);\n    };\n    this.fnFilter = function (a, b, c, d, f) {\n      var e = A(this[n.iApiIndex]);\n      if (e.oFeatures.bFilter) {\n        if (typeof c == \"undefined\") c = false;\n        if (typeof d == \"undefined\") d = true;\n        if (typeof f == \"undefined\") f = true;\n        if (typeof b == \"undefined\" || b === null) {\n          N(e, {\n            sSearch: a,\n            bRegex: c,\n            bSmart: d\n          }, 1);\n          if (f && typeof e.aanFeatures.f != \"undefined\") {\n            b = e.aanFeatures.f;\n            c = 0;\n            for (d = b.length; c < d; c++) i(\"input\", b[c]).val(a);\n          }\n        } else {\n          e.aoPreSearchCols[b].sSearch = a;\n          e.aoPreSearchCols[b].bRegex = c;\n          e.aoPreSearchCols[b].bSmart = d;\n          N(e, e.oPreviousSearch, 1);\n        }\n      }\n    };\n    this.fnSettings = function () {\n      return A(this[n.iApiIndex]);\n    };\n    this.fnVersionCheck = n.fnVersionCheck;\n    this.fnSort = function (a) {\n      var b = A(this[n.iApiIndex]);\n      b.aaSorting = a;\n      R(b);\n    };\n    this.fnSortListener = function (a, b, c) {\n      ja(A(this[n.iApiIndex]), a, b, c);\n    };\n    this.fnAddData = function (a, b) {\n      if (a.length === 0) return [];\n      var c = [],\n        d,\n        f = A(this[n.iApiIndex]);\n      if (_typeof(a[0]) == \"object\") for (var e = 0; e < a.length; e++) {\n        d = v(f, a[e]);\n        if (d == -1) return c;\n        c.push(d);\n      } else {\n        d = v(f, a);\n        if (d == -1) return c;\n        c.push(d);\n      }\n      f.aiDisplay = f.aiDisplayMaster.slice();\n      if (typeof b == \"undefined\" || b) da(f);\n      return c;\n    };\n    this.fnDeleteRow = function (a, b, c) {\n      var d = A(this[n.iApiIndex]);\n      a = _typeof(a) == \"object\" ? W(d, a) : a;\n      var f = d.aoData.splice(a, 1),\n        e = i.inArray(a, d.aiDisplay);\n      d.asDataSearch.splice(e, 1);\n      ua(d.aiDisplayMaster, a);\n      ua(d.aiDisplay, a);\n      typeof b == \"function\" && b.call(this, d, f);\n      if (d._iDisplayStart >= d.aiDisplay.length) {\n        d._iDisplayStart -= d._iDisplayLength;\n        if (d._iDisplayStart < 0) d._iDisplayStart = 0;\n      }\n      if (typeof c == \"undefined\" || c) {\n        E(d);\n        C(d);\n      }\n      return f;\n    };\n    this.fnClearTable = function (a) {\n      var b = A(this[n.iApiIndex]);\n      la(b);\n      if (typeof a == \"undefined\" || a) C(b);\n    };\n    this.fnOpen = function (a, b, c) {\n      var d = A(this[n.iApiIndex]);\n      this.fnClose(a);\n      var f = p.createElement(\"tr\"),\n        e = p.createElement(\"td\");\n      f.appendChild(e);\n      e.className = c;\n      e.colSpan = Z(d);\n      if (typeof b.jquery != \"undefined\" || _typeof(b) == \"object\") e.appendChild(b);else e.innerHTML = b;\n      b = i(\"tr\", d.nTBody);\n      i.inArray(a, b) != -1 && i(f).insertAfter(a);\n      d.aoOpenRows.push({\n        nTr: f,\n        nParent: a\n      });\n      return f;\n    };\n    this.fnClose = function (a) {\n      for (var b = A(this[n.iApiIndex]), c = 0; c < b.aoOpenRows.length; c++) if (b.aoOpenRows[c].nParent == a) {\n        (a = b.aoOpenRows[c].nTr.parentNode) && a.removeChild(b.aoOpenRows[c].nTr);\n        b.aoOpenRows.splice(c, 1);\n        return 0;\n      }\n      return 1;\n    };\n    this.fnGetData = function (a, b) {\n      var c = A(this[n.iApiIndex]);\n      if (typeof a != \"undefined\") {\n        a = _typeof(a) == \"object\" ? W(c, a) : a;\n        if (typeof b != \"undefined\") return G(c, a, b, \"\");\n        return typeof c.aoData[a] != \"undefined\" ? c.aoData[a]._aData : null;\n      }\n      return ca(c);\n    };\n    this.fnGetNodes = function (a) {\n      var b = A(this[n.iApiIndex]);\n      if (typeof a != \"undefined\") return typeof b.aoData[a] != \"undefined\" ? b.aoData[a].nTr : null;\n      return ba(b);\n    };\n    this.fnGetPosition = function (a) {\n      var b = A(this[n.iApiIndex]),\n        c = a.nodeName.toUpperCase();\n      if (c == \"TR\") return W(b, a);else if (c == \"TD\" || c == \"TH\") {\n        c = W(b, a.parentNode);\n        for (var d = Q(b, c), f = 0; f < b.aoColumns.length; f++) if (d[f] == a) return [c, ta(b, f), f];\n      }\n      return null;\n    };\n    this.fnUpdate = function (a, b, c, d, f) {\n      var e = A(this[n.iApiIndex]);\n      b = _typeof(b) == \"object\" ? W(e, b) : b;\n      if (i.isArray(a) && _typeof(a) == \"object\") {\n        e.aoData[b]._aData = a.slice();\n        for (c = 0; c < e.aoColumns.length; c++) this.fnUpdate(G(e, b, c), b, c, false, false);\n      } else if (a !== null && _typeof(a) == \"object\") {\n        e.aoData[b]._aData = i.extend(true, {}, a);\n        for (c = 0; c < e.aoColumns.length; c++) this.fnUpdate(G(e, b, c), b, c, false, false);\n      } else {\n        a = a;\n        O(e, b, c, a);\n        if (e.aoColumns[c].fnRender !== null) {\n          a = e.aoColumns[c].fnRender({\n            iDataRow: b,\n            iDataColumn: c,\n            aData: e.aoData[b]._aData,\n            oSettings: e\n          });\n          e.aoColumns[c].bUseRendered && O(e, b, c, a);\n        }\n        if (e.aoData[b].nTr !== null) Q(e, b)[c].innerHTML = a;\n      }\n      c = i.inArray(b, e.aiDisplay);\n      e.asDataSearch[c] = ra(e, fa(e, b, \"filter\"));\n      if (typeof f == \"undefined\" || f) ea(e);\n      if (typeof d == \"undefined\" || d) da(e);\n      return 0;\n    };\n    this.fnSetColumnVis = function (a, b, c) {\n      var d = A(this[n.iApiIndex]),\n        f,\n        e;\n      e = d.aoColumns.length;\n      var h, j;\n      if (d.aoColumns[a].bVisible != b) {\n        if (b) {\n          for (f = j = 0; f < a; f++) d.aoColumns[f].bVisible && j++;\n          j = j >= Z(d);\n          if (!j) for (f = a; f < e; f++) if (d.aoColumns[f].bVisible) {\n            h = f;\n            break;\n          }\n          f = 0;\n          for (e = d.aoData.length; f < e; f++) if (d.aoData[f].nTr !== null) j ? d.aoData[f].nTr.appendChild(d.aoData[f]._anHidden[a]) : d.aoData[f].nTr.insertBefore(d.aoData[f]._anHidden[a], Q(d, f)[h]);\n        } else {\n          f = 0;\n          for (e = d.aoData.length; f < e; f++) if (d.aoData[f].nTr !== null) {\n            h = Q(d, f)[a];\n            d.aoData[f]._anHidden[a] = h;\n            h.parentNode.removeChild(h);\n          }\n        }\n        d.aoColumns[a].bVisible = b;\n        M(d, d.aoHeader);\n        d.nTFoot && M(d, d.aoFooter);\n        f = 0;\n        for (e = d.aoOpenRows.length; f < e; f++) d.aoOpenRows[f].nTr.colSpan = Z(d);\n        if (typeof c == \"undefined\" || c) {\n          ea(d);\n          C(d);\n        }\n        va(d);\n      }\n    };\n    this.fnPageChange = function (a, b) {\n      var c = A(this[n.iApiIndex]);\n      ma(c, a);\n      E(c);\n      if (typeof b == \"undefined\" || b) C(c);\n    };\n    this.fnDestroy = function () {\n      var a = A(this[n.iApiIndex]),\n        b = a.nTableWrapper.parentNode,\n        c = a.nTBody,\n        d,\n        f;\n      a.bDestroying = true;\n      d = 0;\n      for (f = a.aoDestroyCallback.length; d < f; d++) a.aoDestroyCallback[d].fn();\n      d = 0;\n      for (f = a.aoColumns.length; d < f; d++) a.aoColumns[d].bVisible === false && this.fnSetColumnVis(d, true);\n      i(a.nTableWrapper).find(\"*\").andSelf().unbind(\".DT\");\n      i(\"tbody>tr>td.\" + a.oClasses.sRowEmpty, a.nTable).parent().remove();\n      if (a.nTable != a.nTHead.parentNode) {\n        i(a.nTable).children(\"thead\").remove();\n        a.nTable.appendChild(a.nTHead);\n      }\n      if (a.nTFoot && a.nTable != a.nTFoot.parentNode) {\n        i(a.nTable).children(\"tfoot\").remove();\n        a.nTable.appendChild(a.nTFoot);\n      }\n      a.nTable.parentNode.removeChild(a.nTable);\n      i(a.nTableWrapper).remove();\n      a.aaSorting = [];\n      a.aaSortingFixed = [];\n      V(a);\n      i(ba(a)).removeClass(a.asStripeClasses.join(\" \"));\n      if (a.bJUI) {\n        i(\"th\", a.nTHead).removeClass([n.oStdClasses.sSortable, n.oJUIClasses.sSortableAsc, n.oJUIClasses.sSortableDesc, n.oJUIClasses.sSortableNone].join(\" \"));\n        i(\"th span.\" + n.oJUIClasses.sSortIcon, a.nTHead).remove();\n        i(\"th\", a.nTHead).each(function () {\n          var e = i(\"div.\" + n.oJUIClasses.sSortJUIWrapper, this),\n            h = e.contents();\n          i(this).append(h);\n          e.remove();\n        });\n      } else i(\"th\", a.nTHead).removeClass([n.oStdClasses.sSortable, n.oStdClasses.sSortableAsc, n.oStdClasses.sSortableDesc, n.oStdClasses.sSortableNone].join(\" \"));\n      a.nTableReinsertBefore ? b.insertBefore(a.nTable, a.nTableReinsertBefore) : b.appendChild(a.nTable);\n      d = 0;\n      for (f = a.aoData.length; d < f; d++) a.aoData[d].nTr !== null && c.appendChild(a.aoData[d].nTr);\n      if (a.oFeatures.bAutoWidth === true) a.nTable.style.width = q(a.sDestroyWidth);\n      i(c).children(\"tr:even\").addClass(a.asDestroyStripes[0]);\n      i(c).children(\"tr:odd\").addClass(a.asDestroyStripes[1]);\n      d = 0;\n      for (f = D.length; d < f; d++) D[d] == a && D.splice(d, 1);\n      a = null;\n    };\n    this.fnAdjustColumnSizing = function (a) {\n      var b = A(this[n.iApiIndex]);\n      ea(b);\n      if (typeof a == \"undefined\" || a) this.fnDraw(false);else if (b.oScroll.sX !== \"\" || b.oScroll.sY !== \"\") this.oApi._fnScrollDraw(b);\n    };\n    for (var xa in n.oApi) if (xa) this[xa] = s(xa);\n    this.oApi._fnExternApiFunc = s;\n    this.oApi._fnInitialise = t;\n    this.oApi._fnInitComplete = w;\n    this.oApi._fnLanguageProcess = y;\n    this.oApi._fnAddColumn = F;\n    this.oApi._fnColumnOptions = x;\n    this.oApi._fnAddData = v;\n    this.oApi._fnCreateTr = z;\n    this.oApi._fnGatherData = $;\n    this.oApi._fnBuildHead = X;\n    this.oApi._fnDrawHead = M;\n    this.oApi._fnDraw = C;\n    this.oApi._fnReDraw = da;\n    this.oApi._fnAjaxUpdate = Ca;\n    this.oApi._fnAjaxParameters = Da;\n    this.oApi._fnAjaxUpdateDraw = Ea;\n    this.oApi._fnServerParams = ha;\n    this.oApi._fnAddOptionsHtml = Aa;\n    this.oApi._fnFeatureHtmlTable = Ja;\n    this.oApi._fnScrollDraw = Ma;\n    this.oApi._fnAdjustColumnSizing = ea;\n    this.oApi._fnFeatureHtmlFilter = Ha;\n    this.oApi._fnFilterComplete = N;\n    this.oApi._fnFilterCustom = Qa;\n    this.oApi._fnFilterColumn = Pa;\n    this.oApi._fnFilter = Oa;\n    this.oApi._fnBuildSearchArray = oa;\n    this.oApi._fnBuildSearchRow = ra;\n    this.oApi._fnFilterCreateSearch = pa;\n    this.oApi._fnDataToSearch = qa;\n    this.oApi._fnSort = R;\n    this.oApi._fnSortAttachListener = ja;\n    this.oApi._fnSortingClasses = V;\n    this.oApi._fnFeatureHtmlPaginate = La;\n    this.oApi._fnPageChange = ma;\n    this.oApi._fnFeatureHtmlInfo = Ka;\n    this.oApi._fnUpdateInfo = Ra;\n    this.oApi._fnFeatureHtmlLength = Ga;\n    this.oApi._fnFeatureHtmlProcessing = Ia;\n    this.oApi._fnProcessingDisplay = K;\n    this.oApi._fnVisibleToColumnIndex = Na;\n    this.oApi._fnColumnIndexToVisible = ta;\n    this.oApi._fnNodeToDataIndex = W;\n    this.oApi._fnVisbleColumns = Z;\n    this.oApi._fnCalculateEnd = E;\n    this.oApi._fnConvertToWidth = Sa;\n    this.oApi._fnCalculateColumnWidths = ga;\n    this.oApi._fnScrollingWidthAdjust = Ua;\n    this.oApi._fnGetWidestNode = Ta;\n    this.oApi._fnGetMaxLenString = Va;\n    this.oApi._fnStringToCss = q;\n    this.oApi._fnArrayCmp = Za;\n    this.oApi._fnDetectType = ia;\n    this.oApi._fnSettingsFromNode = A;\n    this.oApi._fnGetDataMaster = ca;\n    this.oApi._fnGetTrNodes = ba;\n    this.oApi._fnGetTdNodes = Q;\n    this.oApi._fnEscapeRegex = sa;\n    this.oApi._fnDeleteIndex = ua;\n    this.oApi._fnReOrderIndex = Fa;\n    this.oApi._fnColumnOrdering = ka;\n    this.oApi._fnLog = J;\n    this.oApi._fnClearTable = la;\n    this.oApi._fnSaveState = va;\n    this.oApi._fnLoadState = Xa;\n    this.oApi._fnCreateCookie = Wa;\n    this.oApi._fnReadCookie = wa;\n    this.oApi._fnDetectHeader = Y;\n    this.oApi._fnGetUniqueThs = S;\n    this.oApi._fnScrollBarWidth = Ya;\n    this.oApi._fnApplyToChildren = P;\n    this.oApi._fnMap = o;\n    this.oApi._fnGetRowData = fa;\n    this.oApi._fnGetCellData = G;\n    this.oApi._fnSetCellData = O;\n    this.oApi._fnGetObjectDataFn = aa;\n    this.oApi._fnSetObjectDataFn = Ba;\n    var ya = this;\n    return this.each(function () {\n      var a = 0,\n        b,\n        c,\n        d,\n        f;\n      a = 0;\n      for (b = D.length; a < b; a++) {\n        if (D[a].nTable == this) if (typeof g == \"undefined\" || typeof g.bRetrieve != \"undefined\" && g.bRetrieve === true) return D[a].oInstance;else if (typeof g.bDestroy != \"undefined\" && g.bDestroy === true) {\n          D[a].oInstance.fnDestroy();\n          break;\n        } else {\n          J(D[a], 0, \"Cannot reinitialise DataTable.\\n\\nTo retrieve the DataTables object for this table, please pass either no arguments to the dataTable() function, or set bRetrieve to true. Alternatively, to destory the old table and create a new one, set bDestroy to true (note that a lot of changes to the configuration can be made through the API which is usually much faster).\");\n          return;\n        }\n        if (D[a].sTableId !== \"\" && D[a].sTableId == this.getAttribute(\"id\")) {\n          D.splice(a, 1);\n          break;\n        }\n      }\n      var e = new l();\n      D.push(e);\n      var h = false,\n        j = false;\n      a = this.getAttribute(\"id\");\n      if (a !== null) {\n        e.sTableId = a;\n        e.sInstance = a;\n      } else e.sInstance = n._oExternConfig.iNextUnique++;\n      if (this.nodeName.toLowerCase() != \"table\") J(e, 0, \"Attempted to initialise DataTables on a node which is not a table: \" + this.nodeName);else {\n        e.nTable = this;\n        e.oInstance = ya.length == 1 ? ya : i(this).dataTable();\n        e.oApi = ya.oApi;\n        e.sDestroyWidth = i(this).width();\n        if (typeof g != \"undefined\" && g !== null) {\n          e.oInit = g;\n          o(e.oFeatures, g, \"bPaginate\");\n          o(e.oFeatures, g, \"bLengthChange\");\n          o(e.oFeatures, g, \"bFilter\");\n          o(e.oFeatures, g, \"bSort\");\n          o(e.oFeatures, g, \"bInfo\");\n          o(e.oFeatures, g, \"bProcessing\");\n          o(e.oFeatures, g, \"bAutoWidth\");\n          o(e.oFeatures, g, \"bSortClasses\");\n          o(e.oFeatures, g, \"bServerSide\");\n          o(e.oFeatures, g, \"bDeferRender\");\n          o(e.oScroll, g, \"sScrollX\", \"sX\");\n          o(e.oScroll, g, \"sScrollXInner\", \"sXInner\");\n          o(e.oScroll, g, \"sScrollY\", \"sY\");\n          o(e.oScroll, g, \"bScrollCollapse\", \"bCollapse\");\n          o(e.oScroll, g, \"bScrollInfinite\", \"bInfinite\");\n          o(e.oScroll, g, \"iScrollLoadGap\", \"iLoadGap\");\n          o(e.oScroll, g, \"bScrollAutoCss\", \"bAutoCss\");\n          o(e, g, \"asStripClasses\", \"asStripeClasses\");\n          o(e, g, \"asStripeClasses\");\n          o(e, g, \"fnPreDrawCallback\");\n          o(e, g, \"fnRowCallback\");\n          o(e, g, \"fnHeaderCallback\");\n          o(e, g, \"fnFooterCallback\");\n          o(e, g, \"fnCookieCallback\");\n          o(e, g, \"fnInitComplete\");\n          o(e, g, \"fnServerData\");\n          o(e, g, \"fnFormatNumber\");\n          o(e, g, \"aaSorting\");\n          o(e, g, \"aaSortingFixed\");\n          o(e, g, \"aLengthMenu\");\n          o(e, g, \"sPaginationType\");\n          o(e, g, \"sAjaxSource\");\n          o(e, g, \"sAjaxDataProp\");\n          o(e, g, \"iCookieDuration\");\n          o(e, g, \"sCookiePrefix\");\n          o(e, g, \"sDom\");\n          o(e, g, \"bSortCellsTop\");\n          o(e, g, \"oSearch\", \"oPreviousSearch\");\n          o(e, g, \"aoSearchCols\", \"aoPreSearchCols\");\n          o(e, g, \"iDisplayLength\", \"_iDisplayLength\");\n          o(e, g, \"bJQueryUI\", \"bJUI\");\n          o(e.oLanguage, g, \"fnInfoCallback\");\n          typeof g.fnDrawCallback == \"function\" && e.aoDrawCallback.push({\n            fn: g.fnDrawCallback,\n            sName: \"user\"\n          });\n          typeof g.fnServerParams == \"function\" && e.aoServerParams.push({\n            fn: g.fnServerParams,\n            sName: \"user\"\n          });\n          typeof g.fnStateSaveCallback == \"function\" && e.aoStateSave.push({\n            fn: g.fnStateSaveCallback,\n            sName: \"user\"\n          });\n          typeof g.fnStateLoadCallback == \"function\" && e.aoStateLoad.push({\n            fn: g.fnStateLoadCallback,\n            sName: \"user\"\n          });\n          if (e.oFeatures.bServerSide && e.oFeatures.bSort && e.oFeatures.bSortClasses) e.aoDrawCallback.push({\n            fn: V,\n            sName: \"server_side_sort_classes\"\n          });else e.oFeatures.bDeferRender && e.aoDrawCallback.push({\n            fn: V,\n            sName: \"defer_sort_classes\"\n          });\n          if (typeof g.bJQueryUI != \"undefined\" && g.bJQueryUI) {\n            e.oClasses = n.oJUIClasses;\n            if (typeof g.sDom == \"undefined\") e.sDom = '<\"H\"lfr>t<\"F\"ip>';\n          }\n          if (e.oScroll.sX !== \"\" || e.oScroll.sY !== \"\") e.oScroll.iBarWidth = Ya();\n          if (typeof g.iDisplayStart != \"undefined\" && typeof e.iInitDisplayStart == \"undefined\") {\n            e.iInitDisplayStart = g.iDisplayStart;\n            e._iDisplayStart = g.iDisplayStart;\n          }\n          if (typeof g.bStateSave != \"undefined\") {\n            e.oFeatures.bStateSave = g.bStateSave;\n            Xa(e, g);\n            e.aoDrawCallback.push({\n              fn: va,\n              sName: \"state_save\"\n            });\n          }\n          if (typeof g.iDeferLoading != \"undefined\") {\n            e.bDeferLoading = true;\n            e._iRecordsTotal = g.iDeferLoading;\n            e._iRecordsDisplay = g.iDeferLoading;\n          }\n          if (typeof g.aaData != \"undefined\") j = true;\n          if (typeof g != \"undefined\" && typeof g.aoData != \"undefined\") g.aoColumns = g.aoData;\n          if (typeof g.oLanguage != \"undefined\") if (typeof g.oLanguage.sUrl != \"undefined\" && g.oLanguage.sUrl !== \"\") {\n            e.oLanguage.sUrl = g.oLanguage.sUrl;\n            i.getJSON(e.oLanguage.sUrl, null, function (u) {\n              y(e, u, true);\n            });\n            h = true;\n          } else y(e, g.oLanguage, false);\n        } else g = {};\n        if (typeof g.asStripClasses == \"undefined\" && typeof g.asStripeClasses == \"undefined\") {\n          e.asStripeClasses.push(e.oClasses.sStripeOdd);\n          e.asStripeClasses.push(e.oClasses.sStripeEven);\n        }\n        c = false;\n        d = i(this).children(\"tbody\").children(\"tr\");\n        a = 0;\n        for (b = e.asStripeClasses.length; a < b; a++) if (d.filter(\":lt(2)\").hasClass(e.asStripeClasses[a])) {\n          c = true;\n          break;\n        }\n        if (c) {\n          e.asDestroyStripes = [\"\", \"\"];\n          if (i(d[0]).hasClass(e.oClasses.sStripeOdd)) e.asDestroyStripes[0] += e.oClasses.sStripeOdd + \" \";\n          if (i(d[0]).hasClass(e.oClasses.sStripeEven)) e.asDestroyStripes[0] += e.oClasses.sStripeEven;\n          if (i(d[1]).hasClass(e.oClasses.sStripeOdd)) e.asDestroyStripes[1] += e.oClasses.sStripeOdd + \" \";\n          if (i(d[1]).hasClass(e.oClasses.sStripeEven)) e.asDestroyStripes[1] += e.oClasses.sStripeEven;\n          d.removeClass(e.asStripeClasses.join(\" \"));\n        }\n        c = [];\n        var k;\n        a = this.getElementsByTagName(\"thead\");\n        if (a.length !== 0) {\n          Y(e.aoHeader, a[0]);\n          c = S(e);\n        }\n        if (typeof g.aoColumns == \"undefined\") {\n          k = [];\n          a = 0;\n          for (b = c.length; a < b; a++) k.push(null);\n        } else k = g.aoColumns;\n        a = 0;\n        for (b = k.length; a < b; a++) {\n          if (typeof g.saved_aoColumns != \"undefined\" && g.saved_aoColumns.length == b) {\n            if (k[a] === null) k[a] = {};\n            k[a].bVisible = g.saved_aoColumns[a].bVisible;\n          }\n          F(e, c ? c[a] : null);\n        }\n        if (typeof g.aoColumnDefs != \"undefined\") for (a = g.aoColumnDefs.length - 1; a >= 0; a--) {\n          var m = g.aoColumnDefs[a].aTargets;\n          i.isArray(m) || J(e, 1, \"aTargets must be an array of targets, not a \" + _typeof(m));\n          c = 0;\n          for (d = m.length; c < d; c++) if (typeof m[c] == \"number\" && m[c] >= 0) {\n            for (; e.aoColumns.length <= m[c];) F(e);\n            x(e, m[c], g.aoColumnDefs[a]);\n          } else if (typeof m[c] == \"number\" && m[c] < 0) x(e, e.aoColumns.length + m[c], g.aoColumnDefs[a]);else if (typeof m[c] == \"string\") {\n            b = 0;\n            for (f = e.aoColumns.length; b < f; b++) if (m[c] == \"_all\" || i(e.aoColumns[b].nTh).hasClass(m[c])) x(e, b, g.aoColumnDefs[a]);\n          }\n        }\n        if (typeof k != \"undefined\") {\n          a = 0;\n          for (b = k.length; a < b; a++) x(e, a, k[a]);\n        }\n        a = 0;\n        for (b = e.aaSorting.length; a < b; a++) {\n          if (e.aaSorting[a][0] >= e.aoColumns.length) e.aaSorting[a][0] = 0;\n          k = e.aoColumns[e.aaSorting[a][0]];\n          if (typeof e.aaSorting[a][2] == \"undefined\") e.aaSorting[a][2] = 0;\n          if (typeof g.aaSorting == \"undefined\" && typeof e.saved_aaSorting == \"undefined\") e.aaSorting[a][1] = k.asSorting[0];\n          c = 0;\n          for (d = k.asSorting.length; c < d; c++) if (e.aaSorting[a][1] == k.asSorting[c]) {\n            e.aaSorting[a][2] = c;\n            break;\n          }\n        }\n        V(e);\n        a = i(this).children(\"thead\");\n        if (a.length === 0) {\n          a = [p.createElement(\"thead\")];\n          this.appendChild(a[0]);\n        }\n        e.nTHead = a[0];\n        a = i(this).children(\"tbody\");\n        if (a.length === 0) {\n          a = [p.createElement(\"tbody\")];\n          this.appendChild(a[0]);\n        }\n        e.nTBody = a[0];\n        a = i(this).children(\"tfoot\");\n        if (a.length > 0) {\n          e.nTFoot = a[0];\n          Y(e.aoFooter, e.nTFoot);\n        }\n        if (j) for (a = 0; a < g.aaData.length; a++) v(e, g.aaData[a]);else $(e);\n        e.aiDisplay = e.aiDisplayMaster.slice();\n        e.bInitialised = true;\n        h === false && t(e);\n      }\n    });\n  };\n})(jQuery, window, document);","function _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n/*\nCopyright 2014 Igor Vaynberg\n\nVersion: 3.5.1 Timestamp: Tue Jul 22 18:58:56 EDT 2014\n\nThis software is licensed under the Apache License, Version 2.0 (the \"Apache License\") or the GNU\nGeneral Public License version 2 (the \"GPL License\"). You may choose either license to govern your\nuse of this software only upon the condition that you accept all of the terms of either the Apache\nLicense or the GPL License.\n\nYou may obtain a copy of the Apache License and the GPL License at:\n\nhttp://www.apache.org/licenses/LICENSE-2.0\nhttp://www.gnu.org/licenses/gpl-2.0.html\n\nUnless required by applicable law or agreed to in writing, software distributed under the Apache License\nor the GPL Licesnse is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,\neither express or implied. See the Apache License and the GPL License for the specific language governing\npermissions and limitations under the Apache License and the GPL License.\n*/\n\nimport jQuery from 'jquery';\n!function (a) {\n  \"undefined\" == typeof a.fn.each2 && a.extend(a.fn, {\n    each2: function each2(b) {\n      for (var c = a([0]), d = -1, e = this.length; ++d < e && (c.context = c[0] = this[d]) && b.call(c[0], d, c) !== !1;);\n      return this;\n    }\n  });\n}(jQuery), function (a, b) {\n  \"use strict\";\n\n  function n(b) {\n    var c = a(document.createTextNode(\"\"));\n    b.before(c), c.before(b), c.remove();\n  }\n  function o(a) {\n    function b(a) {\n      return m[a] || a;\n    }\n    return a.replace(/[^\\u0000-\\u007E]/g, b);\n  }\n  function p(a, b) {\n    for (var c = 0, d = b.length; d > c; c += 1) if (r(a, b[c])) return c;\n    return -1;\n  }\n  function q() {\n    var b = a(l);\n    b.appendTo(\"body\");\n    var c = {\n      width: b.width() - b[0].clientWidth,\n      height: b.height() - b[0].clientHeight\n    };\n    return b.remove(), c;\n  }\n  function r(a, c) {\n    return a === c ? !0 : a === b || c === b ? !1 : null === a || null === c ? !1 : a.constructor === String ? a + \"\" == c + \"\" : c.constructor === String ? c + \"\" == a + \"\" : !1;\n  }\n  function s(b, c) {\n    var d, e, f;\n    if (null === b || b.length < 1) return [];\n    for (d = b.split(c), e = 0, f = d.length; f > e; e += 1) d[e] = a.trim(d[e]);\n    return d;\n  }\n  function t(a) {\n    return a.outerWidth(!1) - a.width();\n  }\n  function u(c) {\n    var d = \"keyup-change-value\";\n    c.on(\"keydown\", function () {\n      a.data(c, d) === b && a.data(c, d, c.val());\n    }), c.on(\"keyup\", function () {\n      var e = a.data(c, d);\n      e !== b && c.val() !== e && (a.removeData(c, d), c.trigger(\"keyup-change\"));\n    });\n  }\n  function v(c) {\n    c.on(\"mousemove\", function (c) {\n      var d = i;\n      (d === b || d.x !== c.pageX || d.y !== c.pageY) && a(c.target).trigger(\"mousemove-filtered\", c);\n    });\n  }\n  function w(a, c, d) {\n    d = d || b;\n    var e;\n    return function () {\n      var b = arguments;\n      window.clearTimeout(e), e = window.setTimeout(function () {\n        c.apply(d, b);\n      }, a);\n    };\n  }\n  function x(a, b) {\n    var c = w(a, function (a) {\n      b.trigger(\"scroll-debounced\", a);\n    });\n    b.on(\"scroll\", function (a) {\n      p(a.target, b.get()) >= 0 && c(a);\n    });\n  }\n  function y(a) {\n    a[0] !== document.activeElement && window.setTimeout(function () {\n      var d,\n        b = a[0],\n        c = a.val().length;\n      a.focus();\n      var e = b.offsetWidth > 0 || b.offsetHeight > 0;\n      e && b === document.activeElement && (b.setSelectionRange ? b.setSelectionRange(c, c) : b.createTextRange && (d = b.createTextRange(), d.collapse(!1), d.select()));\n    }, 0);\n  }\n  function z(b) {\n    b = a(b)[0];\n    var c = 0,\n      d = 0;\n    if (\"selectionStart\" in b) c = b.selectionStart, d = b.selectionEnd - c;else if (\"selection\" in document) {\n      b.focus();\n      var e = document.selection.createRange();\n      d = document.selection.createRange().text.length, e.moveStart(\"character\", -b.value.length), c = e.text.length - d;\n    }\n    return {\n      offset: c,\n      length: d\n    };\n  }\n  function A(a) {\n    a.preventDefault(), a.stopPropagation();\n  }\n  function B(a) {\n    a.preventDefault(), a.stopImmediatePropagation();\n  }\n  function C(b) {\n    if (!h) {\n      var c = b[0].currentStyle || window.getComputedStyle(b[0], null);\n      h = a(document.createElement(\"div\")).css({\n        position: \"absolute\",\n        left: \"-10000px\",\n        top: \"-10000px\",\n        display: \"none\",\n        fontSize: c.fontSize,\n        fontFamily: c.fontFamily,\n        fontStyle: c.fontStyle,\n        fontWeight: c.fontWeight,\n        letterSpacing: c.letterSpacing,\n        textTransform: c.textTransform,\n        whiteSpace: \"nowrap\"\n      }), h.attr(\"class\", \"select2-sizer\"), a(\"body\").append(h);\n    }\n    return h.text(b.val()), h.width();\n  }\n  function D(b, c, d) {\n    var e,\n      g,\n      f = [];\n    e = a.trim(b.attr(\"class\")), e && (e = \"\" + e, a(e.split(/\\s+/)).each2(function () {\n      0 === this.indexOf(\"select2-\") && f.push(this);\n    })), e = a.trim(c.attr(\"class\")), e && (e = \"\" + e, a(e.split(/\\s+/)).each2(function () {\n      0 !== this.indexOf(\"select2-\") && (g = d(this), g && f.push(g));\n    })), b.attr(\"class\", f.join(\" \"));\n  }\n  function E(a, b, c, d) {\n    var e = o(a.toUpperCase()).indexOf(o(b.toUpperCase())),\n      f = b.length;\n    return 0 > e ? (c.push(d(a)), void 0) : (c.push(d(a.substring(0, e))), c.push(\"<span class='select2-match'>\"), c.push(d(a.substring(e, e + f))), c.push(\"</span>\"), c.push(d(a.substring(e + f, a.length))), void 0);\n  }\n  function F(a) {\n    var b = {\n      \"\\\\\": \"&#92;\",\n      \"&\": \"&amp;\",\n      \"<\": \"&lt;\",\n      \">\": \"&gt;\",\n      '\"': \"&quot;\",\n      \"'\": \"&#39;\",\n      \"/\": \"&#47;\"\n    };\n    return String(a).replace(/[&<>\"'\\/\\\\]/g, function (a) {\n      return b[a];\n    });\n  }\n  function G(c) {\n    var d,\n      e = null,\n      f = c.quietMillis || 100,\n      g = c.url,\n      h = this;\n    return function (i) {\n      window.clearTimeout(d), d = window.setTimeout(function () {\n        var d = c.data,\n          f = g,\n          j = c.transport || a.fn.select2.ajaxDefaults.transport,\n          k = {\n            type: c.type || \"GET\",\n            cache: c.cache || !1,\n            jsonpCallback: c.jsonpCallback || b,\n            dataType: c.dataType || \"json\"\n          },\n          l = a.extend({}, a.fn.select2.ajaxDefaults.params, k);\n        d = d ? d.call(h, i.term, i.page, i.context) : null, f = \"function\" == typeof f ? f.call(h, i.term, i.page, i.context) : f, e && \"function\" == typeof e.abort && e.abort(), c.params && (a.isFunction(c.params) ? a.extend(l, c.params.call(h)) : a.extend(l, c.params)), a.extend(l, {\n          url: f,\n          dataType: c.dataType,\n          data: d,\n          success: function success(a) {\n            var b = c.results(a, i.page, i);\n            i.callback(b);\n          },\n          error: function error(a, b, c) {\n            var d = {\n              hasError: !0,\n              jqXHR: a,\n              textStatus: b,\n              errorThrown: c\n            };\n            i.callback(d);\n          }\n        }), e = j.call(h, l);\n      }, f);\n    };\n  }\n  function H(b) {\n    var d,\n      e,\n      c = b,\n      f = function f(a) {\n        return \"\" + a.text;\n      };\n    a.isArray(c) && (e = c, c = {\n      results: e\n    }), a.isFunction(c) === !1 && (e = c, c = function c() {\n      return e;\n    });\n    var g = c();\n    return g.text && (f = g.text, a.isFunction(f) || (d = g.text, f = function f(a) {\n      return a[d];\n    })), function (b) {\n      var _g,\n        d = b.term,\n        e = {\n          results: []\n        };\n      return \"\" === d ? (b.callback(c()), void 0) : (_g = function g(c, e) {\n        var h, i;\n        if (c = c[0], c.children) {\n          h = {};\n          for (i in c) c.hasOwnProperty(i) && (h[i] = c[i]);\n          h.children = [], a(c.children).each2(function (a, b) {\n            _g(b, h.children);\n          }), (h.children.length || b.matcher(d, f(h), c)) && e.push(h);\n        } else b.matcher(d, f(c), c) && e.push(c);\n      }, a(c().results).each2(function (a, b) {\n        _g(b, e.results);\n      }), b.callback(e), void 0);\n    };\n  }\n  function I(c) {\n    var d = a.isFunction(c);\n    return function (e) {\n      var f = e.term,\n        g = {\n          results: []\n        },\n        h = d ? c(e) : c;\n      a.isArray(h) && (a(h).each(function () {\n        var a = this.text !== b,\n          c = a ? this.text : this;\n        (\"\" === f || e.matcher(f, c)) && g.results.push(a ? this : {\n          id: this,\n          text: this\n        });\n      }), e.callback(g));\n    };\n  }\n  function J(b, c) {\n    if (a.isFunction(b)) return !0;\n    if (!b) return !1;\n    if (\"string\" == typeof b) return !0;\n    throw new Error(c + \" must be a string, function, or falsy value\");\n  }\n  function K(b, c) {\n    if (a.isFunction(b)) {\n      var d = Array.prototype.slice.call(arguments, 2);\n      return b.apply(c, d);\n    }\n    return b;\n  }\n  function L(b) {\n    var c = 0;\n    return a.each(b, function (a, b) {\n      b.children ? c += L(b.children) : c++;\n    }), c;\n  }\n  function M(a, c, d, e) {\n    var h,\n      i,\n      j,\n      k,\n      l,\n      f = a,\n      g = !1;\n    if (!e.createSearchChoice || !e.tokenSeparators || e.tokenSeparators.length < 1) return b;\n    for (;;) {\n      for (i = -1, j = 0, k = e.tokenSeparators.length; k > j && (l = e.tokenSeparators[j], i = a.indexOf(l), !(i >= 0)); j++);\n      if (0 > i) break;\n      if (h = a.substring(0, i), a = a.substring(i + l.length), h.length > 0 && (h = e.createSearchChoice.call(this, h, c), h !== b && null !== h && e.id(h) !== b && null !== e.id(h))) {\n        for (g = !1, j = 0, k = c.length; k > j; j++) if (r(e.id(h), e.id(c[j]))) {\n          g = !0;\n          break;\n        }\n        g || d(h);\n      }\n    }\n    return f !== a ? a : void 0;\n  }\n  function N() {\n    var b = this;\n    a.each(arguments, function (a, c) {\n      b[c].remove(), b[c] = null;\n    });\n  }\n  function O(b, c) {\n    var d = function d() {};\n    return d.prototype = new b(), d.prototype.constructor = d, d.prototype.parent = b.prototype, d.prototype = a.extend(d.prototype, c), d;\n  }\n  if (window.Select2 === b) {\n    var c,\n      d,\n      e,\n      f,\n      g,\n      h,\n      j,\n      k,\n      i = {\n        x: 0,\n        y: 0\n      },\n      c = {\n        TAB: 9,\n        ENTER: 13,\n        ESC: 27,\n        SPACE: 32,\n        LEFT: 37,\n        UP: 38,\n        RIGHT: 39,\n        DOWN: 40,\n        SHIFT: 16,\n        CTRL: 17,\n        ALT: 18,\n        PAGE_UP: 33,\n        PAGE_DOWN: 34,\n        HOME: 36,\n        END: 35,\n        BACKSPACE: 8,\n        DELETE: 46,\n        isArrow: function isArrow(a) {\n          switch (a = a.which ? a.which : a) {\n            case c.LEFT:\n            case c.RIGHT:\n            case c.UP:\n            case c.DOWN:\n              return !0;\n          }\n          return !1;\n        },\n        isControl: function isControl(a) {\n          var b = a.which;\n          switch (b) {\n            case c.SHIFT:\n            case c.CTRL:\n            case c.ALT:\n              return !0;\n          }\n          return a.metaKey ? !0 : !1;\n        },\n        isFunctionKey: function isFunctionKey(a) {\n          return a = a.which ? a.which : a, a >= 112 && 123 >= a;\n        }\n      },\n      l = \"<div class='select2-measure-scrollbar'></div>\",\n      m = {\n        \"\\u24B6\": \"A\",\n        \"\\uFF21\": \"A\",\n        \"\\xc0\": \"A\",\n        \"\\xc1\": \"A\",\n        \"\\xc2\": \"A\",\n        \"\\u1EA6\": \"A\",\n        \"\\u1EA4\": \"A\",\n        \"\\u1EAA\": \"A\",\n        \"\\u1EA8\": \"A\",\n        \"\\xc3\": \"A\",\n        \"\\u0100\": \"A\",\n        \"\\u0102\": \"A\",\n        \"\\u1EB0\": \"A\",\n        \"\\u1EAE\": \"A\",\n        \"\\u1EB4\": \"A\",\n        \"\\u1EB2\": \"A\",\n        \"\\u0226\": \"A\",\n        \"\\u01E0\": \"A\",\n        \"\\xc4\": \"A\",\n        \"\\u01DE\": \"A\",\n        \"\\u1EA2\": \"A\",\n        \"\\xc5\": \"A\",\n        \"\\u01FA\": \"A\",\n        \"\\u01CD\": \"A\",\n        \"\\u0200\": \"A\",\n        \"\\u0202\": \"A\",\n        \"\\u1EA0\": \"A\",\n        \"\\u1EAC\": \"A\",\n        \"\\u1EB6\": \"A\",\n        \"\\u1E00\": \"A\",\n        \"\\u0104\": \"A\",\n        \"\\u023A\": \"A\",\n        \"\\u2C6F\": \"A\",\n        \"\\uA732\": \"AA\",\n        \"\\xc6\": \"AE\",\n        \"\\u01FC\": \"AE\",\n        \"\\u01E2\": \"AE\",\n        \"\\uA734\": \"AO\",\n        \"\\uA736\": \"AU\",\n        \"\\uA738\": \"AV\",\n        \"\\uA73A\": \"AV\",\n        \"\\uA73C\": \"AY\",\n        \"\\u24B7\": \"B\",\n        \"\\uFF22\": \"B\",\n        \"\\u1E02\": \"B\",\n        \"\\u1E04\": \"B\",\n        \"\\u1E06\": \"B\",\n        \"\\u0243\": \"B\",\n        \"\\u0182\": \"B\",\n        \"\\u0181\": \"B\",\n        \"\\u24B8\": \"C\",\n        \"\\uFF23\": \"C\",\n        \"\\u0106\": \"C\",\n        \"\\u0108\": \"C\",\n        \"\\u010A\": \"C\",\n        \"\\u010C\": \"C\",\n        \"\\xc7\": \"C\",\n        \"\\u1E08\": \"C\",\n        \"\\u0187\": \"C\",\n        \"\\u023B\": \"C\",\n        \"\\uA73E\": \"C\",\n        \"\\u24B9\": \"D\",\n        \"\\uFF24\": \"D\",\n        \"\\u1E0A\": \"D\",\n        \"\\u010E\": \"D\",\n        \"\\u1E0C\": \"D\",\n        \"\\u1E10\": \"D\",\n        \"\\u1E12\": \"D\",\n        \"\\u1E0E\": \"D\",\n        \"\\u0110\": \"D\",\n        \"\\u018B\": \"D\",\n        \"\\u018A\": \"D\",\n        \"\\u0189\": \"D\",\n        \"\\uA779\": \"D\",\n        \"\\u01F1\": \"DZ\",\n        \"\\u01C4\": \"DZ\",\n        \"\\u01F2\": \"Dz\",\n        \"\\u01C5\": \"Dz\",\n        \"\\u24BA\": \"E\",\n        \"\\uFF25\": \"E\",\n        \"\\xc8\": \"E\",\n        \"\\xc9\": \"E\",\n        \"\\xca\": \"E\",\n        \"\\u1EC0\": \"E\",\n        \"\\u1EBE\": \"E\",\n        \"\\u1EC4\": \"E\",\n        \"\\u1EC2\": \"E\",\n        \"\\u1EBC\": \"E\",\n        \"\\u0112\": \"E\",\n        \"\\u1E14\": \"E\",\n        \"\\u1E16\": \"E\",\n        \"\\u0114\": \"E\",\n        \"\\u0116\": \"E\",\n        \"\\xcb\": \"E\",\n        \"\\u1EBA\": \"E\",\n        \"\\u011A\": \"E\",\n        \"\\u0204\": \"E\",\n        \"\\u0206\": \"E\",\n        \"\\u1EB8\": \"E\",\n        \"\\u1EC6\": \"E\",\n        \"\\u0228\": \"E\",\n        \"\\u1E1C\": \"E\",\n        \"\\u0118\": \"E\",\n        \"\\u1E18\": \"E\",\n        \"\\u1E1A\": \"E\",\n        \"\\u0190\": \"E\",\n        \"\\u018E\": \"E\",\n        \"\\u24BB\": \"F\",\n        \"\\uFF26\": \"F\",\n        \"\\u1E1E\": \"F\",\n        \"\\u0191\": \"F\",\n        \"\\uA77B\": \"F\",\n        \"\\u24BC\": \"G\",\n        \"\\uFF27\": \"G\",\n        \"\\u01F4\": \"G\",\n        \"\\u011C\": \"G\",\n        \"\\u1E20\": \"G\",\n        \"\\u011E\": \"G\",\n        \"\\u0120\": \"G\",\n        \"\\u01E6\": \"G\",\n        \"\\u0122\": \"G\",\n        \"\\u01E4\": \"G\",\n        \"\\u0193\": \"G\",\n        \"\\uA7A0\": \"G\",\n        \"\\uA77D\": \"G\",\n        \"\\uA77E\": \"G\",\n        \"\\u24BD\": \"H\",\n        \"\\uFF28\": \"H\",\n        \"\\u0124\": \"H\",\n        \"\\u1E22\": \"H\",\n        \"\\u1E26\": \"H\",\n        \"\\u021E\": \"H\",\n        \"\\u1E24\": \"H\",\n        \"\\u1E28\": \"H\",\n        \"\\u1E2A\": \"H\",\n        \"\\u0126\": \"H\",\n        \"\\u2C67\": \"H\",\n        \"\\u2C75\": \"H\",\n        \"\\uA78D\": \"H\",\n        \"\\u24BE\": \"I\",\n        \"\\uFF29\": \"I\",\n        \"\\xcc\": \"I\",\n        \"\\xcd\": \"I\",\n        \"\\xce\": \"I\",\n        \"\\u0128\": \"I\",\n        \"\\u012A\": \"I\",\n        \"\\u012C\": \"I\",\n        \"\\u0130\": \"I\",\n        \"\\xcf\": \"I\",\n        \"\\u1E2E\": \"I\",\n        \"\\u1EC8\": \"I\",\n        \"\\u01CF\": \"I\",\n        \"\\u0208\": \"I\",\n        \"\\u020A\": \"I\",\n        \"\\u1ECA\": \"I\",\n        \"\\u012E\": \"I\",\n        \"\\u1E2C\": \"I\",\n        \"\\u0197\": \"I\",\n        \"\\u24BF\": \"J\",\n        \"\\uFF2A\": \"J\",\n        \"\\u0134\": \"J\",\n        \"\\u0248\": \"J\",\n        \"\\u24C0\": \"K\",\n        \"\\uFF2B\": \"K\",\n        \"\\u1E30\": \"K\",\n        \"\\u01E8\": \"K\",\n        \"\\u1E32\": \"K\",\n        \"\\u0136\": \"K\",\n        \"\\u1E34\": \"K\",\n        \"\\u0198\": \"K\",\n        \"\\u2C69\": \"K\",\n        \"\\uA740\": \"K\",\n        \"\\uA742\": \"K\",\n        \"\\uA744\": \"K\",\n        \"\\uA7A2\": \"K\",\n        \"\\u24C1\": \"L\",\n        \"\\uFF2C\": \"L\",\n        \"\\u013F\": \"L\",\n        \"\\u0139\": \"L\",\n        \"\\u013D\": \"L\",\n        \"\\u1E36\": \"L\",\n        \"\\u1E38\": \"L\",\n        \"\\u013B\": \"L\",\n        \"\\u1E3C\": \"L\",\n        \"\\u1E3A\": \"L\",\n        \"\\u0141\": \"L\",\n        \"\\u023D\": \"L\",\n        \"\\u2C62\": \"L\",\n        \"\\u2C60\": \"L\",\n        \"\\uA748\": \"L\",\n        \"\\uA746\": \"L\",\n        \"\\uA780\": \"L\",\n        \"\\u01C7\": \"LJ\",\n        \"\\u01C8\": \"Lj\",\n        \"\\u24C2\": \"M\",\n        \"\\uFF2D\": \"M\",\n        \"\\u1E3E\": \"M\",\n        \"\\u1E40\": \"M\",\n        \"\\u1E42\": \"M\",\n        \"\\u2C6E\": \"M\",\n        \"\\u019C\": \"M\",\n        \"\\u24C3\": \"N\",\n        \"\\uFF2E\": \"N\",\n        \"\\u01F8\": \"N\",\n        \"\\u0143\": \"N\",\n        \"\\xd1\": \"N\",\n        \"\\u1E44\": \"N\",\n        \"\\u0147\": \"N\",\n        \"\\u1E46\": \"N\",\n        \"\\u0145\": \"N\",\n        \"\\u1E4A\": \"N\",\n        \"\\u1E48\": \"N\",\n        \"\\u0220\": \"N\",\n        \"\\u019D\": \"N\",\n        \"\\uA790\": \"N\",\n        \"\\uA7A4\": \"N\",\n        \"\\u01CA\": \"NJ\",\n        \"\\u01CB\": \"Nj\",\n        \"\\u24C4\": \"O\",\n        \"\\uFF2F\": \"O\",\n        \"\\xd2\": \"O\",\n        \"\\xd3\": \"O\",\n        \"\\xd4\": \"O\",\n        \"\\u1ED2\": \"O\",\n        \"\\u1ED0\": \"O\",\n        \"\\u1ED6\": \"O\",\n        \"\\u1ED4\": \"O\",\n        \"\\xd5\": \"O\",\n        \"\\u1E4C\": \"O\",\n        \"\\u022C\": \"O\",\n        \"\\u1E4E\": \"O\",\n        \"\\u014C\": \"O\",\n        \"\\u1E50\": \"O\",\n        \"\\u1E52\": \"O\",\n        \"\\u014E\": \"O\",\n        \"\\u022E\": \"O\",\n        \"\\u0230\": \"O\",\n        \"\\xd6\": \"O\",\n        \"\\u022A\": \"O\",\n        \"\\u1ECE\": \"O\",\n        \"\\u0150\": \"O\",\n        \"\\u01D1\": \"O\",\n        \"\\u020C\": \"O\",\n        \"\\u020E\": \"O\",\n        \"\\u01A0\": \"O\",\n        \"\\u1EDC\": \"O\",\n        \"\\u1EDA\": \"O\",\n        \"\\u1EE0\": \"O\",\n        \"\\u1EDE\": \"O\",\n        \"\\u1EE2\": \"O\",\n        \"\\u1ECC\": \"O\",\n        \"\\u1ED8\": \"O\",\n        \"\\u01EA\": \"O\",\n        \"\\u01EC\": \"O\",\n        \"\\xd8\": \"O\",\n        \"\\u01FE\": \"O\",\n        \"\\u0186\": \"O\",\n        \"\\u019F\": \"O\",\n        \"\\uA74A\": \"O\",\n        \"\\uA74C\": \"O\",\n        \"\\u01A2\": \"OI\",\n        \"\\uA74E\": \"OO\",\n        \"\\u0222\": \"OU\",\n        \"\\u24C5\": \"P\",\n        \"\\uFF30\": \"P\",\n        \"\\u1E54\": \"P\",\n        \"\\u1E56\": \"P\",\n        \"\\u01A4\": \"P\",\n        \"\\u2C63\": \"P\",\n        \"\\uA750\": \"P\",\n        \"\\uA752\": \"P\",\n        \"\\uA754\": \"P\",\n        \"\\u24C6\": \"Q\",\n        \"\\uFF31\": \"Q\",\n        \"\\uA756\": \"Q\",\n        \"\\uA758\": \"Q\",\n        \"\\u024A\": \"Q\",\n        \"\\u24C7\": \"R\",\n        \"\\uFF32\": \"R\",\n        \"\\u0154\": \"R\",\n        \"\\u1E58\": \"R\",\n        \"\\u0158\": \"R\",\n        \"\\u0210\": \"R\",\n        \"\\u0212\": \"R\",\n        \"\\u1E5A\": \"R\",\n        \"\\u1E5C\": \"R\",\n        \"\\u0156\": \"R\",\n        \"\\u1E5E\": \"R\",\n        \"\\u024C\": \"R\",\n        \"\\u2C64\": \"R\",\n        \"\\uA75A\": \"R\",\n        \"\\uA7A6\": \"R\",\n        \"\\uA782\": \"R\",\n        \"\\u24C8\": \"S\",\n        \"\\uFF33\": \"S\",\n        \"\\u1E9E\": \"S\",\n        \"\\u015A\": \"S\",\n        \"\\u1E64\": \"S\",\n        \"\\u015C\": \"S\",\n        \"\\u1E60\": \"S\",\n        \"\\u0160\": \"S\",\n        \"\\u1E66\": \"S\",\n        \"\\u1E62\": \"S\",\n        \"\\u1E68\": \"S\",\n        \"\\u0218\": \"S\",\n        \"\\u015E\": \"S\",\n        \"\\u2C7E\": \"S\",\n        \"\\uA7A8\": \"S\",\n        \"\\uA784\": \"S\",\n        \"\\u24C9\": \"T\",\n        \"\\uFF34\": \"T\",\n        \"\\u1E6A\": \"T\",\n        \"\\u0164\": \"T\",\n        \"\\u1E6C\": \"T\",\n        \"\\u021A\": \"T\",\n        \"\\u0162\": \"T\",\n        \"\\u1E70\": \"T\",\n        \"\\u1E6E\": \"T\",\n        \"\\u0166\": \"T\",\n        \"\\u01AC\": \"T\",\n        \"\\u01AE\": \"T\",\n        \"\\u023E\": \"T\",\n        \"\\uA786\": \"T\",\n        \"\\uA728\": \"TZ\",\n        \"\\u24CA\": \"U\",\n        \"\\uFF35\": \"U\",\n        \"\\xd9\": \"U\",\n        \"\\xda\": \"U\",\n        \"\\xdb\": \"U\",\n        \"\\u0168\": \"U\",\n        \"\\u1E78\": \"U\",\n        \"\\u016A\": \"U\",\n        \"\\u1E7A\": \"U\",\n        \"\\u016C\": \"U\",\n        \"\\xdc\": \"U\",\n        \"\\u01DB\": \"U\",\n        \"\\u01D7\": \"U\",\n        \"\\u01D5\": \"U\",\n        \"\\u01D9\": \"U\",\n        \"\\u1EE6\": \"U\",\n        \"\\u016E\": \"U\",\n        \"\\u0170\": \"U\",\n        \"\\u01D3\": \"U\",\n        \"\\u0214\": \"U\",\n        \"\\u0216\": \"U\",\n        \"\\u01AF\": \"U\",\n        \"\\u1EEA\": \"U\",\n        \"\\u1EE8\": \"U\",\n        \"\\u1EEE\": \"U\",\n        \"\\u1EEC\": \"U\",\n        \"\\u1EF0\": \"U\",\n        \"\\u1EE4\": \"U\",\n        \"\\u1E72\": \"U\",\n        \"\\u0172\": \"U\",\n        \"\\u1E76\": \"U\",\n        \"\\u1E74\": \"U\",\n        \"\\u0244\": \"U\",\n        \"\\u24CB\": \"V\",\n        \"\\uFF36\": \"V\",\n        \"\\u1E7C\": \"V\",\n        \"\\u1E7E\": \"V\",\n        \"\\u01B2\": \"V\",\n        \"\\uA75E\": \"V\",\n        \"\\u0245\": \"V\",\n        \"\\uA760\": \"VY\",\n        \"\\u24CC\": \"W\",\n        \"\\uFF37\": \"W\",\n        \"\\u1E80\": \"W\",\n        \"\\u1E82\": \"W\",\n        \"\\u0174\": \"W\",\n        \"\\u1E86\": \"W\",\n        \"\\u1E84\": \"W\",\n        \"\\u1E88\": \"W\",\n        \"\\u2C72\": \"W\",\n        \"\\u24CD\": \"X\",\n        \"\\uFF38\": \"X\",\n        \"\\u1E8A\": \"X\",\n        \"\\u1E8C\": \"X\",\n        \"\\u24CE\": \"Y\",\n        \"\\uFF39\": \"Y\",\n        \"\\u1EF2\": \"Y\",\n        \"\\xdd\": \"Y\",\n        \"\\u0176\": \"Y\",\n        \"\\u1EF8\": \"Y\",\n        \"\\u0232\": \"Y\",\n        \"\\u1E8E\": \"Y\",\n        \"\\u0178\": \"Y\",\n        \"\\u1EF6\": \"Y\",\n        \"\\u1EF4\": \"Y\",\n        \"\\u01B3\": \"Y\",\n        \"\\u024E\": \"Y\",\n        \"\\u1EFE\": \"Y\",\n        \"\\u24CF\": \"Z\",\n        \"\\uFF3A\": \"Z\",\n        \"\\u0179\": \"Z\",\n        \"\\u1E90\": \"Z\",\n        \"\\u017B\": \"Z\",\n        \"\\u017D\": \"Z\",\n        \"\\u1E92\": \"Z\",\n        \"\\u1E94\": \"Z\",\n        \"\\u01B5\": \"Z\",\n        \"\\u0224\": \"Z\",\n        \"\\u2C7F\": \"Z\",\n        \"\\u2C6B\": \"Z\",\n        \"\\uA762\": \"Z\",\n        \"\\u24D0\": \"a\",\n        \"\\uFF41\": \"a\",\n        \"\\u1E9A\": \"a\",\n        \"\\xe0\": \"a\",\n        \"\\xe1\": \"a\",\n        \"\\xe2\": \"a\",\n        \"\\u1EA7\": \"a\",\n        \"\\u1EA5\": \"a\",\n        \"\\u1EAB\": \"a\",\n        \"\\u1EA9\": \"a\",\n        \"\\xe3\": \"a\",\n        \"\\u0101\": \"a\",\n        \"\\u0103\": \"a\",\n        \"\\u1EB1\": \"a\",\n        \"\\u1EAF\": \"a\",\n        \"\\u1EB5\": \"a\",\n        \"\\u1EB3\": \"a\",\n        \"\\u0227\": \"a\",\n        \"\\u01E1\": \"a\",\n        \"\\xe4\": \"a\",\n        \"\\u01DF\": \"a\",\n        \"\\u1EA3\": \"a\",\n        \"\\xe5\": \"a\",\n        \"\\u01FB\": \"a\",\n        \"\\u01CE\": \"a\",\n        \"\\u0201\": \"a\",\n        \"\\u0203\": \"a\",\n        \"\\u1EA1\": \"a\",\n        \"\\u1EAD\": \"a\",\n        \"\\u1EB7\": \"a\",\n        \"\\u1E01\": \"a\",\n        \"\\u0105\": \"a\",\n        \"\\u2C65\": \"a\",\n        \"\\u0250\": \"a\",\n        \"\\uA733\": \"aa\",\n        \"\\xe6\": \"ae\",\n        \"\\u01FD\": \"ae\",\n        \"\\u01E3\": \"ae\",\n        \"\\uA735\": \"ao\",\n        \"\\uA737\": \"au\",\n        \"\\uA739\": \"av\",\n        \"\\uA73B\": \"av\",\n        \"\\uA73D\": \"ay\",\n        \"\\u24D1\": \"b\",\n        \"\\uFF42\": \"b\",\n        \"\\u1E03\": \"b\",\n        \"\\u1E05\": \"b\",\n        \"\\u1E07\": \"b\",\n        \"\\u0180\": \"b\",\n        \"\\u0183\": \"b\",\n        \"\\u0253\": \"b\",\n        \"\\u24D2\": \"c\",\n        \"\\uFF43\": \"c\",\n        \"\\u0107\": \"c\",\n        \"\\u0109\": \"c\",\n        \"\\u010B\": \"c\",\n        \"\\u010D\": \"c\",\n        \"\\xe7\": \"c\",\n        \"\\u1E09\": \"c\",\n        \"\\u0188\": \"c\",\n        \"\\u023C\": \"c\",\n        \"\\uA73F\": \"c\",\n        \"\\u2184\": \"c\",\n        \"\\u24D3\": \"d\",\n        \"\\uFF44\": \"d\",\n        \"\\u1E0B\": \"d\",\n        \"\\u010F\": \"d\",\n        \"\\u1E0D\": \"d\",\n        \"\\u1E11\": \"d\",\n        \"\\u1E13\": \"d\",\n        \"\\u1E0F\": \"d\",\n        \"\\u0111\": \"d\",\n        \"\\u018C\": \"d\",\n        \"\\u0256\": \"d\",\n        \"\\u0257\": \"d\",\n        \"\\uA77A\": \"d\",\n        \"\\u01F3\": \"dz\",\n        \"\\u01C6\": \"dz\",\n        \"\\u24D4\": \"e\",\n        \"\\uFF45\": \"e\",\n        \"\\xe8\": \"e\",\n        \"\\xe9\": \"e\",\n        \"\\xea\": \"e\",\n        \"\\u1EC1\": \"e\",\n        \"\\u1EBF\": \"e\",\n        \"\\u1EC5\": \"e\",\n        \"\\u1EC3\": \"e\",\n        \"\\u1EBD\": \"e\",\n        \"\\u0113\": \"e\",\n        \"\\u1E15\": \"e\",\n        \"\\u1E17\": \"e\",\n        \"\\u0115\": \"e\",\n        \"\\u0117\": \"e\",\n        \"\\xeb\": \"e\",\n        \"\\u1EBB\": \"e\",\n        \"\\u011B\": \"e\",\n        \"\\u0205\": \"e\",\n        \"\\u0207\": \"e\",\n        \"\\u1EB9\": \"e\",\n        \"\\u1EC7\": \"e\",\n        \"\\u0229\": \"e\",\n        \"\\u1E1D\": \"e\",\n        \"\\u0119\": \"e\",\n        \"\\u1E19\": \"e\",\n        \"\\u1E1B\": \"e\",\n        \"\\u0247\": \"e\",\n        \"\\u025B\": \"e\",\n        \"\\u01DD\": \"e\",\n        \"\\u24D5\": \"f\",\n        \"\\uFF46\": \"f\",\n        \"\\u1E1F\": \"f\",\n        \"\\u0192\": \"f\",\n        \"\\uA77C\": \"f\",\n        \"\\u24D6\": \"g\",\n        \"\\uFF47\": \"g\",\n        \"\\u01F5\": \"g\",\n        \"\\u011D\": \"g\",\n        \"\\u1E21\": \"g\",\n        \"\\u011F\": \"g\",\n        \"\\u0121\": \"g\",\n        \"\\u01E7\": \"g\",\n        \"\\u0123\": \"g\",\n        \"\\u01E5\": \"g\",\n        \"\\u0260\": \"g\",\n        \"\\uA7A1\": \"g\",\n        \"\\u1D79\": \"g\",\n        \"\\uA77F\": \"g\",\n        \"\\u24D7\": \"h\",\n        \"\\uFF48\": \"h\",\n        \"\\u0125\": \"h\",\n        \"\\u1E23\": \"h\",\n        \"\\u1E27\": \"h\",\n        \"\\u021F\": \"h\",\n        \"\\u1E25\": \"h\",\n        \"\\u1E29\": \"h\",\n        \"\\u1E2B\": \"h\",\n        \"\\u1E96\": \"h\",\n        \"\\u0127\": \"h\",\n        \"\\u2C68\": \"h\",\n        \"\\u2C76\": \"h\",\n        \"\\u0265\": \"h\",\n        \"\\u0195\": \"hv\",\n        \"\\u24D8\": \"i\",\n        \"\\uFF49\": \"i\",\n        \"\\xec\": \"i\",\n        \"\\xed\": \"i\",\n        \"\\xee\": \"i\",\n        \"\\u0129\": \"i\",\n        \"\\u012B\": \"i\",\n        \"\\u012D\": \"i\",\n        \"\\xef\": \"i\",\n        \"\\u1E2F\": \"i\",\n        \"\\u1EC9\": \"i\",\n        \"\\u01D0\": \"i\",\n        \"\\u0209\": \"i\",\n        \"\\u020B\": \"i\",\n        \"\\u1ECB\": \"i\",\n        \"\\u012F\": \"i\",\n        \"\\u1E2D\": \"i\",\n        \"\\u0268\": \"i\",\n        \"\\u0131\": \"i\",\n        \"\\u24D9\": \"j\",\n        \"\\uFF4A\": \"j\",\n        \"\\u0135\": \"j\",\n        \"\\u01F0\": \"j\",\n        \"\\u0249\": \"j\",\n        \"\\u24DA\": \"k\",\n        \"\\uFF4B\": \"k\",\n        \"\\u1E31\": \"k\",\n        \"\\u01E9\": \"k\",\n        \"\\u1E33\": \"k\",\n        \"\\u0137\": \"k\",\n        \"\\u1E35\": \"k\",\n        \"\\u0199\": \"k\",\n        \"\\u2C6A\": \"k\",\n        \"\\uA741\": \"k\",\n        \"\\uA743\": \"k\",\n        \"\\uA745\": \"k\",\n        \"\\uA7A3\": \"k\",\n        \"\\u24DB\": \"l\",\n        \"\\uFF4C\": \"l\",\n        \"\\u0140\": \"l\",\n        \"\\u013A\": \"l\",\n        \"\\u013E\": \"l\",\n        \"\\u1E37\": \"l\",\n        \"\\u1E39\": \"l\",\n        \"\\u013C\": \"l\",\n        \"\\u1E3D\": \"l\",\n        \"\\u1E3B\": \"l\",\n        \"\\u017F\": \"l\",\n        \"\\u0142\": \"l\",\n        \"\\u019A\": \"l\",\n        \"\\u026B\": \"l\",\n        \"\\u2C61\": \"l\",\n        \"\\uA749\": \"l\",\n        \"\\uA781\": \"l\",\n        \"\\uA747\": \"l\",\n        \"\\u01C9\": \"lj\",\n        \"\\u24DC\": \"m\",\n        \"\\uFF4D\": \"m\",\n        \"\\u1E3F\": \"m\",\n        \"\\u1E41\": \"m\",\n        \"\\u1E43\": \"m\",\n        \"\\u0271\": \"m\",\n        \"\\u026F\": \"m\",\n        \"\\u24DD\": \"n\",\n        \"\\uFF4E\": \"n\",\n        \"\\u01F9\": \"n\",\n        \"\\u0144\": \"n\",\n        \"\\xf1\": \"n\",\n        \"\\u1E45\": \"n\",\n        \"\\u0148\": \"n\",\n        \"\\u1E47\": \"n\",\n        \"\\u0146\": \"n\",\n        \"\\u1E4B\": \"n\",\n        \"\\u1E49\": \"n\",\n        \"\\u019E\": \"n\",\n        \"\\u0272\": \"n\",\n        \"\\u0149\": \"n\",\n        \"\\uA791\": \"n\",\n        \"\\uA7A5\": \"n\",\n        \"\\u01CC\": \"nj\",\n        \"\\u24DE\": \"o\",\n        \"\\uFF4F\": \"o\",\n        \"\\xf2\": \"o\",\n        \"\\xf3\": \"o\",\n        \"\\xf4\": \"o\",\n        \"\\u1ED3\": \"o\",\n        \"\\u1ED1\": \"o\",\n        \"\\u1ED7\": \"o\",\n        \"\\u1ED5\": \"o\",\n        \"\\xf5\": \"o\",\n        \"\\u1E4D\": \"o\",\n        \"\\u022D\": \"o\",\n        \"\\u1E4F\": \"o\",\n        \"\\u014D\": \"o\",\n        \"\\u1E51\": \"o\",\n        \"\\u1E53\": \"o\",\n        \"\\u014F\": \"o\",\n        \"\\u022F\": \"o\",\n        \"\\u0231\": \"o\",\n        \"\\xf6\": \"o\",\n        \"\\u022B\": \"o\",\n        \"\\u1ECF\": \"o\",\n        \"\\u0151\": \"o\",\n        \"\\u01D2\": \"o\",\n        \"\\u020D\": \"o\",\n        \"\\u020F\": \"o\",\n        \"\\u01A1\": \"o\",\n        \"\\u1EDD\": \"o\",\n        \"\\u1EDB\": \"o\",\n        \"\\u1EE1\": \"o\",\n        \"\\u1EDF\": \"o\",\n        \"\\u1EE3\": \"o\",\n        \"\\u1ECD\": \"o\",\n        \"\\u1ED9\": \"o\",\n        \"\\u01EB\": \"o\",\n        \"\\u01ED\": \"o\",\n        \"\\xf8\": \"o\",\n        \"\\u01FF\": \"o\",\n        \"\\u0254\": \"o\",\n        \"\\uA74B\": \"o\",\n        \"\\uA74D\": \"o\",\n        \"\\u0275\": \"o\",\n        \"\\u01A3\": \"oi\",\n        \"\\u0223\": \"ou\",\n        \"\\uA74F\": \"oo\",\n        \"\\u24DF\": \"p\",\n        \"\\uFF50\": \"p\",\n        \"\\u1E55\": \"p\",\n        \"\\u1E57\": \"p\",\n        \"\\u01A5\": \"p\",\n        \"\\u1D7D\": \"p\",\n        \"\\uA751\": \"p\",\n        \"\\uA753\": \"p\",\n        \"\\uA755\": \"p\",\n        \"\\u24E0\": \"q\",\n        \"\\uFF51\": \"q\",\n        \"\\u024B\": \"q\",\n        \"\\uA757\": \"q\",\n        \"\\uA759\": \"q\",\n        \"\\u24E1\": \"r\",\n        \"\\uFF52\": \"r\",\n        \"\\u0155\": \"r\",\n        \"\\u1E59\": \"r\",\n        \"\\u0159\": \"r\",\n        \"\\u0211\": \"r\",\n        \"\\u0213\": \"r\",\n        \"\\u1E5B\": \"r\",\n        \"\\u1E5D\": \"r\",\n        \"\\u0157\": \"r\",\n        \"\\u1E5F\": \"r\",\n        \"\\u024D\": \"r\",\n        \"\\u027D\": \"r\",\n        \"\\uA75B\": \"r\",\n        \"\\uA7A7\": \"r\",\n        \"\\uA783\": \"r\",\n        \"\\u24E2\": \"s\",\n        \"\\uFF53\": \"s\",\n        \"\\xdf\": \"s\",\n        \"\\u015B\": \"s\",\n        \"\\u1E65\": \"s\",\n        \"\\u015D\": \"s\",\n        \"\\u1E61\": \"s\",\n        \"\\u0161\": \"s\",\n        \"\\u1E67\": \"s\",\n        \"\\u1E63\": \"s\",\n        \"\\u1E69\": \"s\",\n        \"\\u0219\": \"s\",\n        \"\\u015F\": \"s\",\n        \"\\u023F\": \"s\",\n        \"\\uA7A9\": \"s\",\n        \"\\uA785\": \"s\",\n        \"\\u1E9B\": \"s\",\n        \"\\u24E3\": \"t\",\n        \"\\uFF54\": \"t\",\n        \"\\u1E6B\": \"t\",\n        \"\\u1E97\": \"t\",\n        \"\\u0165\": \"t\",\n        \"\\u1E6D\": \"t\",\n        \"\\u021B\": \"t\",\n        \"\\u0163\": \"t\",\n        \"\\u1E71\": \"t\",\n        \"\\u1E6F\": \"t\",\n        \"\\u0167\": \"t\",\n        \"\\u01AD\": \"t\",\n        \"\\u0288\": \"t\",\n        \"\\u2C66\": \"t\",\n        \"\\uA787\": \"t\",\n        \"\\uA729\": \"tz\",\n        \"\\u24E4\": \"u\",\n        \"\\uFF55\": \"u\",\n        \"\\xf9\": \"u\",\n        \"\\xfa\": \"u\",\n        \"\\xfb\": \"u\",\n        \"\\u0169\": \"u\",\n        \"\\u1E79\": \"u\",\n        \"\\u016B\": \"u\",\n        \"\\u1E7B\": \"u\",\n        \"\\u016D\": \"u\",\n        \"\\xfc\": \"u\",\n        \"\\u01DC\": \"u\",\n        \"\\u01D8\": \"u\",\n        \"\\u01D6\": \"u\",\n        \"\\u01DA\": \"u\",\n        \"\\u1EE7\": \"u\",\n        \"\\u016F\": \"u\",\n        \"\\u0171\": \"u\",\n        \"\\u01D4\": \"u\",\n        \"\\u0215\": \"u\",\n        \"\\u0217\": \"u\",\n        \"\\u01B0\": \"u\",\n        \"\\u1EEB\": \"u\",\n        \"\\u1EE9\": \"u\",\n        \"\\u1EEF\": \"u\",\n        \"\\u1EED\": \"u\",\n        \"\\u1EF1\": \"u\",\n        \"\\u1EE5\": \"u\",\n        \"\\u1E73\": \"u\",\n        \"\\u0173\": \"u\",\n        \"\\u1E77\": \"u\",\n        \"\\u1E75\": \"u\",\n        \"\\u0289\": \"u\",\n        \"\\u24E5\": \"v\",\n        \"\\uFF56\": \"v\",\n        \"\\u1E7D\": \"v\",\n        \"\\u1E7F\": \"v\",\n        \"\\u028B\": \"v\",\n        \"\\uA75F\": \"v\",\n        \"\\u028C\": \"v\",\n        \"\\uA761\": \"vy\",\n        \"\\u24E6\": \"w\",\n        \"\\uFF57\": \"w\",\n        \"\\u1E81\": \"w\",\n        \"\\u1E83\": \"w\",\n        \"\\u0175\": \"w\",\n        \"\\u1E87\": \"w\",\n        \"\\u1E85\": \"w\",\n        \"\\u1E98\": \"w\",\n        \"\\u1E89\": \"w\",\n        \"\\u2C73\": \"w\",\n        \"\\u24E7\": \"x\",\n        \"\\uFF58\": \"x\",\n        \"\\u1E8B\": \"x\",\n        \"\\u1E8D\": \"x\",\n        \"\\u24E8\": \"y\",\n        \"\\uFF59\": \"y\",\n        \"\\u1EF3\": \"y\",\n        \"\\xfd\": \"y\",\n        \"\\u0177\": \"y\",\n        \"\\u1EF9\": \"y\",\n        \"\\u0233\": \"y\",\n        \"\\u1E8F\": \"y\",\n        \"\\xff\": \"y\",\n        \"\\u1EF7\": \"y\",\n        \"\\u1E99\": \"y\",\n        \"\\u1EF5\": \"y\",\n        \"\\u01B4\": \"y\",\n        \"\\u024F\": \"y\",\n        \"\\u1EFF\": \"y\",\n        \"\\u24E9\": \"z\",\n        \"\\uFF5A\": \"z\",\n        \"\\u017A\": \"z\",\n        \"\\u1E91\": \"z\",\n        \"\\u017C\": \"z\",\n        \"\\u017E\": \"z\",\n        \"\\u1E93\": \"z\",\n        \"\\u1E95\": \"z\",\n        \"\\u01B6\": \"z\",\n        \"\\u0225\": \"z\",\n        \"\\u0240\": \"z\",\n        \"\\u2C6C\": \"z\",\n        \"\\uA763\": \"z\",\n        \"\\u0386\": \"\\u0391\",\n        \"\\u0388\": \"\\u0395\",\n        \"\\u0389\": \"\\u0397\",\n        \"\\u038A\": \"\\u0399\",\n        \"\\u03AA\": \"\\u0399\",\n        \"\\u038C\": \"\\u039F\",\n        \"\\u038E\": \"\\u03A5\",\n        \"\\u03AB\": \"\\u03A5\",\n        \"\\u038F\": \"\\u03A9\",\n        \"\\u03AC\": \"\\u03B1\",\n        \"\\u03AD\": \"\\u03B5\",\n        \"\\u03AE\": \"\\u03B7\",\n        \"\\u03AF\": \"\\u03B9\",\n        \"\\u03CA\": \"\\u03B9\",\n        \"\\u0390\": \"\\u03B9\",\n        \"\\u03CC\": \"\\u03BF\",\n        \"\\u03CD\": \"\\u03C5\",\n        \"\\u03CB\": \"\\u03C5\",\n        \"\\u03B0\": \"\\u03C5\",\n        \"\\u03C9\": \"\\u03C9\",\n        \"\\u03C2\": \"\\u03C3\"\n      };\n    j = a(document), g = function () {\n      var a = 1;\n      return function () {\n        return a++;\n      };\n    }(), d = O(Object, {\n      bind: function bind(a) {\n        var b = this;\n        return function () {\n          a.apply(b, arguments);\n        };\n      },\n      init: function init(c) {\n        var d,\n          e,\n          f = \".select2-results\";\n        this.opts = c = this.prepareOpts(c), this.id = c.id, c.element.data(\"select2\") !== b && null !== c.element.data(\"select2\") && c.element.data(\"select2\").destroy(), this.container = this.createContainer(), this.liveRegion = a(\"<span>\", {\n          role: \"status\",\n          \"aria-live\": \"polite\"\n        }).addClass(\"select2-hidden-accessible\").appendTo(document.body), this.containerId = \"s2id_\" + (c.element.attr(\"id\") || \"autogen\" + g()), this.containerEventName = this.containerId.replace(/([.])/g, \"_\").replace(/([;&,\\-\\.\\+\\*\\~':\"\\!\\^#$%@\\[\\]\\(\\)=>\\|])/g, \"\\\\$1\"), this.container.attr(\"id\", this.containerId), this.container.attr(\"title\", c.element.attr(\"title\")), this.body = a(\"body\"), D(this.container, this.opts.element, this.opts.adaptContainerCssClass), this.container.attr(\"style\", c.element.attr(\"style\")), this.container.css(K(c.containerCss, this.opts.element)), this.container.addClass(K(c.containerCssClass, this.opts.element)), this.elementTabIndex = this.opts.element.attr(\"tabindex\"), this.opts.element.data(\"select2\", this).attr(\"tabindex\", \"-1\").before(this.container).on(\"click.select2\", A), this.container.data(\"select2\", this), this.dropdown = this.container.find(\".select2-drop\"), D(this.dropdown, this.opts.element, this.opts.adaptDropdownCssClass), this.dropdown.addClass(K(c.dropdownCssClass, this.opts.element)), this.dropdown.data(\"select2\", this), this.dropdown.on(\"click\", A), this.results = d = this.container.find(f), this.search = e = this.container.find(\"input.select2-input\"), this.queryCount = 0, this.resultsPage = 0, this.context = null, this.initContainer(), this.container.on(\"click\", A), v(this.results), this.dropdown.on(\"mousemove-filtered\", f, this.bind(this.highlightUnderEvent)), this.dropdown.on(\"touchstart touchmove touchend\", f, this.bind(function (a) {\n          this._touchEvent = !0, this.highlightUnderEvent(a);\n        })), this.dropdown.on(\"touchmove\", f, this.bind(this.touchMoved)), this.dropdown.on(\"touchstart touchend\", f, this.bind(this.clearTouchMoved)), this.dropdown.on(\"click\", this.bind(function () {\n          this._touchEvent && (this._touchEvent = !1, this.selectHighlighted());\n        })), x(80, this.results), this.dropdown.on(\"scroll-debounced\", f, this.bind(this.loadMoreIfNeeded)), a(this.container).on(\"change\", \".select2-input\", function (a) {\n          a.stopPropagation();\n        }), a(this.dropdown).on(\"change\", \".select2-input\", function (a) {\n          a.stopPropagation();\n        }), a.fn.mousewheel && d.mousewheel(function (a, b, c, e) {\n          var f = d.scrollTop();\n          e > 0 && 0 >= f - e ? (d.scrollTop(0), A(a)) : 0 > e && d.get(0).scrollHeight - d.scrollTop() + e <= d.height() && (d.scrollTop(d.get(0).scrollHeight - d.height()), A(a));\n        }), u(e), e.on(\"keyup-change input paste\", this.bind(this.updateResults)), e.on(\"focus\", function () {\n          e.addClass(\"select2-focused\");\n        }), e.on(\"blur\", function () {\n          e.removeClass(\"select2-focused\");\n        }), this.dropdown.on(\"mouseup\", f, this.bind(function (b) {\n          a(b.target).closest(\".select2-result-selectable\").length > 0 && (this.highlightUnderEvent(b), this.selectHighlighted(b));\n        })), this.dropdown.on(\"click mouseup mousedown touchstart touchend focusin\", function (a) {\n          a.stopPropagation();\n        }), this.nextSearchTerm = b, a.isFunction(this.opts.initSelection) && (this.initSelection(), this.monitorSource()), null !== c.maximumInputLength && this.search.attr(\"maxlength\", c.maximumInputLength);\n        var h = c.element.prop(\"disabled\");\n        h === b && (h = !1), this.enable(!h);\n        var i = c.element.prop(\"readonly\");\n        i === b && (i = !1), this.readonly(i), k = k || q(), this.autofocus = c.element.prop(\"autofocus\"), c.element.prop(\"autofocus\", !1), this.autofocus && this.focus(), this.search.attr(\"placeholder\", c.searchInputPlaceholder);\n      },\n      destroy: function destroy() {\n        var a = this.opts.element,\n          c = a.data(\"select2\"),\n          d = this;\n        this.close(), a.length && a[0].detachEvent && a.each(function () {\n          this.detachEvent(\"onpropertychange\", d._sync);\n        }), this.propertyObserver && (this.propertyObserver.disconnect(), this.propertyObserver = null), this._sync = null, c !== b && (c.container.remove(), c.liveRegion.remove(), c.dropdown.remove(), a.removeClass(\"select2-offscreen\").removeData(\"select2\").off(\".select2\").prop(\"autofocus\", this.autofocus || !1), this.elementTabIndex ? a.attr({\n          tabindex: this.elementTabIndex\n        }) : a.removeAttr(\"tabindex\"), a.show()), N.call(this, \"container\", \"liveRegion\", \"dropdown\", \"results\", \"search\");\n      },\n      optionToData: function optionToData(a) {\n        return a.is(\"option\") ? {\n          id: a.prop(\"value\"),\n          text: a.text(),\n          element: a.get(),\n          css: a.attr(\"class\"),\n          disabled: a.prop(\"disabled\"),\n          locked: r(a.attr(\"locked\"), \"locked\") || r(a.data(\"locked\"), !0)\n        } : a.is(\"optgroup\") ? {\n          text: a.attr(\"label\"),\n          children: [],\n          element: a.get(),\n          css: a.attr(\"class\")\n        } : void 0;\n      },\n      prepareOpts: function prepareOpts(c) {\n        var d,\n          e,\n          f,\n          h,\n          i = this;\n        if (d = c.element, \"select\" === d.get(0).tagName.toLowerCase() && (this.select = e = c.element), e && a.each([\"id\", \"multiple\", \"ajax\", \"query\", \"createSearchChoice\", \"initSelection\", \"data\", \"tags\"], function () {\n          if (this in c) throw new Error(\"Option '\" + this + \"' is not allowed for Select2 when attached to a <select> element.\");\n        }), c = a.extend({}, {\n          populateResults: function populateResults(d, e, f) {\n            var _h,\n              j = this.opts.id,\n              k = this.liveRegion;\n            _h = function h(d, e, l) {\n              var m, n, o, p, q, r, s, t, u, v;\n              d = c.sortResults(d, e, f);\n              var w = [];\n              for (m = 0, n = d.length; n > m; m += 1) o = d[m], q = o.disabled === !0, p = !q && j(o) !== b, r = o.children && o.children.length > 0, s = a(\"<li></li>\"), s.addClass(\"select2-results-dept-\" + l), s.addClass(\"select2-result\"), s.addClass(p ? \"select2-result-selectable\" : \"select2-result-unselectable\"), q && s.addClass(\"select2-disabled\"), r && s.addClass(\"select2-result-with-children\"), s.addClass(i.opts.formatResultCssClass(o)), s.attr(\"role\", \"presentation\"), t = a(document.createElement(\"div\")), t.addClass(\"select2-result-label\"), t.attr(\"id\", \"select2-result-label-\" + g()), t.attr(\"role\", \"option\"), v = c.formatResult(o, t, f, i.opts.escapeMarkup), v !== b && (t.html(v), s.append(t)), r && (u = a(\"<ul></ul>\"), u.addClass(\"select2-result-sub\"), _h(o.children, u, l + 1), s.append(u)), s.data(\"select2-data\", o), w.push(s[0]);\n              e.append(w), k.text(c.formatMatches(d.length));\n            }, _h(e, d, 0);\n          }\n        }, a.fn.select2.defaults, c), \"function\" != typeof c.id && (f = c.id, c.id = function (a) {\n          return a[f];\n        }), a.isArray(c.element.data(\"select2Tags\"))) {\n          if (\"tags\" in c) throw \"tags specified as both an attribute 'data-select2-tags' and in options of Select2 \" + c.element.attr(\"id\");\n          c.tags = c.element.data(\"select2Tags\");\n        }\n        if (e ? (c.query = this.bind(function (a) {\n          var f,\n            g,\n            _h2,\n            c = {\n              results: [],\n              more: !1\n            },\n            e = a.term;\n          _h2 = function h(b, c) {\n            var d;\n            b.is(\"option\") ? a.matcher(e, b.text(), b) && c.push(i.optionToData(b)) : b.is(\"optgroup\") && (d = i.optionToData(b), b.children().each2(function (a, b) {\n              _h2(b, d.children);\n            }), d.children.length > 0 && c.push(d));\n          }, f = d.children(), this.getPlaceholder() !== b && f.length > 0 && (g = this.getPlaceholderOption(), g && (f = f.not(g))), f.each2(function (a, b) {\n            _h2(b, c.results);\n          }), a.callback(c);\n        }), c.id = function (a) {\n          return a.id;\n        }) : \"query\" in c || (\"ajax\" in c ? (h = c.element.data(\"ajax-url\"), h && h.length > 0 && (c.ajax.url = h), c.query = G.call(c.element, c.ajax)) : \"data\" in c ? c.query = H(c.data) : \"tags\" in c && (c.query = I(c.tags), c.createSearchChoice === b && (c.createSearchChoice = function (b) {\n          return {\n            id: a.trim(b),\n            text: a.trim(b)\n          };\n        }), c.initSelection === b && (c.initSelection = function (b, d) {\n          var e = [];\n          a(s(b.val(), c.separator)).each(function () {\n            var b = {\n                id: this,\n                text: this\n              },\n              d = c.tags;\n            a.isFunction(d) && (d = d()), a(d).each(function () {\n              return r(this.id, b.id) ? (b = this, !1) : void 0;\n            }), e.push(b);\n          }), d(e);\n        }))), \"function\" != typeof c.query) throw \"query function not defined for Select2 \" + c.element.attr(\"id\");\n        if (\"top\" === c.createSearchChoicePosition) c.createSearchChoicePosition = function (a, b) {\n          a.unshift(b);\n        };else if (\"bottom\" === c.createSearchChoicePosition) c.createSearchChoicePosition = function (a, b) {\n          a.push(b);\n        };else if (\"function\" != typeof c.createSearchChoicePosition) throw \"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function\";\n        return c;\n      },\n      monitorSource: function monitorSource() {\n        var d,\n          c = this.opts.element,\n          e = this;\n        c.on(\"change.select2\", this.bind(function () {\n          this.opts.element.data(\"select2-change-triggered\") !== !0 && this.initSelection();\n        })), this._sync = this.bind(function () {\n          var a = c.prop(\"disabled\");\n          a === b && (a = !1), this.enable(!a);\n          var d = c.prop(\"readonly\");\n          d === b && (d = !1), this.readonly(d), D(this.container, this.opts.element, this.opts.adaptContainerCssClass), this.container.addClass(K(this.opts.containerCssClass, this.opts.element)), D(this.dropdown, this.opts.element, this.opts.adaptDropdownCssClass), this.dropdown.addClass(K(this.opts.dropdownCssClass, this.opts.element));\n        }), c.length && c[0].attachEvent && c.each(function () {\n          this.attachEvent(\"onpropertychange\", e._sync);\n        }), d = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver, d !== b && (this.propertyObserver && (delete this.propertyObserver, this.propertyObserver = null), this.propertyObserver = new d(function (b) {\n          a.each(b, e._sync);\n        }), this.propertyObserver.observe(c.get(0), {\n          attributes: !0,\n          subtree: !1\n        }));\n      },\n      triggerSelect: function triggerSelect(b) {\n        var c = a.Event(\"select2-selecting\", {\n          val: this.id(b),\n          object: b,\n          choice: b\n        });\n        return this.opts.element.trigger(c), !c.isDefaultPrevented();\n      },\n      triggerChange: function triggerChange(b) {\n        b = b || {}, b = a.extend({}, b, {\n          type: \"change\",\n          val: this.val()\n        }), this.opts.element.data(\"select2-change-triggered\", !0), this.opts.element.trigger(b), this.opts.element.data(\"select2-change-triggered\", !1), this.opts.element.click(), this.opts.blurOnChange && this.opts.element.blur();\n      },\n      isInterfaceEnabled: function isInterfaceEnabled() {\n        return this.enabledInterface === !0;\n      },\n      enableInterface: function enableInterface() {\n        var a = this._enabled && !this._readonly,\n          b = !a;\n        return a === this.enabledInterface ? !1 : (this.container.toggleClass(\"select2-container-disabled\", b), this.close(), this.enabledInterface = a, !0);\n      },\n      enable: function enable(a) {\n        a === b && (a = !0), this._enabled !== a && (this._enabled = a, this.opts.element.prop(\"disabled\", !a), this.enableInterface());\n      },\n      disable: function disable() {\n        this.enable(!1);\n      },\n      readonly: function readonly(a) {\n        a === b && (a = !1), this._readonly !== a && (this._readonly = a, this.opts.element.prop(\"readonly\", a), this.enableInterface());\n      },\n      opened: function opened() {\n        return this.container ? this.container.hasClass(\"select2-dropdown-open\") : !1;\n      },\n      positionDropdown: function positionDropdown() {\n        var t,\n          u,\n          v,\n          w,\n          x,\n          b = this.dropdown,\n          c = this.container.offset(),\n          d = this.container.outerHeight(!1),\n          e = this.container.outerWidth(!1),\n          f = b.outerHeight(!1),\n          g = a(window),\n          h = g.width(),\n          i = g.height(),\n          j = g.scrollLeft() + h,\n          l = g.scrollTop() + i,\n          m = c.top + d,\n          n = c.left,\n          o = l >= m + f,\n          p = c.top - f >= g.scrollTop(),\n          q = b.outerWidth(!1),\n          r = j >= n + q,\n          s = b.hasClass(\"select2-drop-above\");\n        s ? (u = !0, !p && o && (v = !0, u = !1)) : (u = !1, !o && p && (v = !0, u = !0)), v && (b.hide(), c = this.container.offset(), d = this.container.outerHeight(!1), e = this.container.outerWidth(!1), f = b.outerHeight(!1), j = g.scrollLeft() + h, l = g.scrollTop() + i, m = c.top + d, n = c.left, q = b.outerWidth(!1), r = j >= n + q, b.show(), this.focusSearch()), this.opts.dropdownAutoWidth ? (x = a(\".select2-results\", b)[0], b.addClass(\"select2-drop-auto-width\"), b.css(\"width\", \"\"), q = b.outerWidth(!1) + (x.scrollHeight === x.clientHeight ? 0 : k.width), q > e ? e = q : q = e, f = b.outerHeight(!1), r = j >= n + q) : this.container.removeClass(\"select2-drop-auto-width\"), \"static\" !== this.body.css(\"position\") && (t = this.body.offset(), m -= t.top, n -= t.left), r || (n = c.left + this.container.outerWidth(!1) - q), w = {\n          left: n,\n          width: e\n        }, u ? (w.top = c.top - f, w.bottom = \"auto\", this.container.addClass(\"select2-drop-above\"), b.addClass(\"select2-drop-above\")) : (w.top = m, w.bottom = \"auto\", this.container.removeClass(\"select2-drop-above\"), b.removeClass(\"select2-drop-above\")), w = a.extend(w, K(this.opts.dropdownCss, this.opts.element)), b.css(w);\n      },\n      shouldOpen: function shouldOpen() {\n        var b;\n        return this.opened() ? !1 : this._enabled === !1 || this._readonly === !0 ? !1 : (b = a.Event(\"select2-opening\"), this.opts.element.trigger(b), !b.isDefaultPrevented());\n      },\n      clearDropdownAlignmentPreference: function clearDropdownAlignmentPreference() {\n        this.container.removeClass(\"select2-drop-above\"), this.dropdown.removeClass(\"select2-drop-above\");\n      },\n      open: function open() {\n        return this.shouldOpen() ? (this.opening(), j.on(\"mousemove.select2Event\", function (a) {\n          i.x = a.pageX, i.y = a.pageY;\n        }), !0) : !1;\n      },\n      opening: function opening() {\n        var f,\n          b = this.containerEventName,\n          c = \"scroll.\" + b,\n          d = \"resize.\" + b,\n          e = \"orientationchange.\" + b;\n        this.container.addClass(\"select2-dropdown-open\").addClass(\"select2-container-active\"), this.clearDropdownAlignmentPreference(), this.dropdown[0] !== this.body.children().last()[0] && this.dropdown.detach().appendTo(this.body), f = a(\"#select2-drop-mask\"), 0 == f.length && (f = a(document.createElement(\"div\")), f.attr(\"id\", \"select2-drop-mask\").attr(\"class\", \"select2-drop-mask\"), f.hide(), f.appendTo(this.body), f.on(\"mousedown touchstart click\", function (b) {\n          n(f);\n          var d,\n            c = a(\"#select2-drop\");\n          c.length > 0 && (d = c.data(\"select2\"), d.opts.selectOnBlur && d.selectHighlighted({\n            noFocus: !0\n          }), d.close(), b.preventDefault(), b.stopPropagation());\n        })), this.dropdown.prev()[0] !== f[0] && this.dropdown.before(f), a(\"#select2-drop\").removeAttr(\"id\"), this.dropdown.attr(\"id\", \"select2-drop\"), f.show(), this.positionDropdown(), this.dropdown.show(), this.positionDropdown(), this.dropdown.addClass(\"select2-drop-active\");\n        var g = this;\n        this.container.parents().add(window).each(function () {\n          a(this).on(d + \" \" + c + \" \" + e, function () {\n            g.opened() && g.positionDropdown();\n          });\n        });\n      },\n      close: function close() {\n        if (this.opened()) {\n          var b = this.containerEventName,\n            c = \"scroll.\" + b,\n            d = \"resize.\" + b,\n            e = \"orientationchange.\" + b;\n          this.container.parents().add(window).each(function () {\n            a(this).off(c).off(d).off(e);\n          }), this.clearDropdownAlignmentPreference(), a(\"#select2-drop-mask\").hide(), this.dropdown.removeAttr(\"id\"), this.dropdown.hide(), this.container.removeClass(\"select2-dropdown-open\").removeClass(\"select2-container-active\"), this.results.empty(), j.off(\"mousemove.select2Event\"), this.clearSearch(), this.search.removeClass(\"select2-active\"), this.opts.element.trigger(a.Event(\"select2-close\"));\n        }\n      },\n      externalSearch: function externalSearch(a) {\n        this.open(), this.search.val(a), this.updateResults(!1);\n      },\n      clearSearch: function clearSearch() {},\n      getMaximumSelectionSize: function getMaximumSelectionSize() {\n        return K(this.opts.maximumSelectionSize, this.opts.element);\n      },\n      ensureHighlightVisible: function ensureHighlightVisible() {\n        var c,\n          d,\n          e,\n          f,\n          g,\n          h,\n          i,\n          j,\n          b = this.results;\n        if (d = this.highlight(), !(0 > d)) {\n          if (0 == d) return b.scrollTop(0), void 0;\n          c = this.findHighlightableChoices().find(\".select2-result-label\"), e = a(c[d]), j = (e.offset() || {}).top || 0, f = j + e.outerHeight(!0), d === c.length - 1 && (i = b.find(\"li.select2-more-results\"), i.length > 0 && (f = i.offset().top + i.outerHeight(!0))), g = b.offset().top + b.outerHeight(!0), f > g && b.scrollTop(b.scrollTop() + (f - g)), h = j - b.offset().top, 0 > h && \"none\" != e.css(\"display\") && b.scrollTop(b.scrollTop() + h);\n        }\n      },\n      findHighlightableChoices: function findHighlightableChoices() {\n        return this.results.find(\".select2-result-selectable:not(.select2-disabled):not(.select2-selected)\");\n      },\n      moveHighlight: function moveHighlight(b) {\n        for (var c = this.findHighlightableChoices(), d = this.highlight(); d > -1 && d < c.length;) {\n          d += b;\n          var e = a(c[d]);\n          if (e.hasClass(\"select2-result-selectable\") && !e.hasClass(\"select2-disabled\") && !e.hasClass(\"select2-selected\")) {\n            this.highlight(d);\n            break;\n          }\n        }\n      },\n      highlight: function highlight(b) {\n        var d,\n          e,\n          c = this.findHighlightableChoices();\n        return 0 === arguments.length ? p(c.filter(\".select2-highlighted\")[0], c.get()) : (b >= c.length && (b = c.length - 1), 0 > b && (b = 0), this.removeHighlight(), d = a(c[b]), d.addClass(\"select2-highlighted\"), this.search.attr(\"aria-activedescendant\", d.find(\".select2-result-label\").attr(\"id\")), this.ensureHighlightVisible(), this.liveRegion.text(d.text()), e = d.data(\"select2-data\"), e && this.opts.element.trigger({\n          type: \"select2-highlight\",\n          val: this.id(e),\n          choice: e\n        }), void 0);\n      },\n      removeHighlight: function removeHighlight() {\n        this.results.find(\".select2-highlighted\").removeClass(\"select2-highlighted\");\n      },\n      touchMoved: function touchMoved() {\n        this._touchMoved = !0;\n      },\n      clearTouchMoved: function clearTouchMoved() {\n        this._touchMoved = !1;\n      },\n      countSelectableResults: function countSelectableResults() {\n        return this.findHighlightableChoices().length;\n      },\n      highlightUnderEvent: function highlightUnderEvent(b) {\n        var c = a(b.target).closest(\".select2-result-selectable\");\n        if (c.length > 0 && !c.is(\".select2-highlighted\")) {\n          var d = this.findHighlightableChoices();\n          this.highlight(d.index(c));\n        } else 0 == c.length && this.removeHighlight();\n      },\n      loadMoreIfNeeded: function loadMoreIfNeeded() {\n        var c,\n          a = this.results,\n          b = a.find(\"li.select2-more-results\"),\n          d = this.resultsPage + 1,\n          e = this,\n          f = this.search.val(),\n          g = this.context;\n        0 !== b.length && (c = b.offset().top - a.offset().top - a.height(), c <= this.opts.loadMorePadding && (b.addClass(\"select2-active\"), this.opts.query({\n          element: this.opts.element,\n          term: f,\n          page: d,\n          context: g,\n          matcher: this.opts.matcher,\n          callback: this.bind(function (c) {\n            e.opened() && (e.opts.populateResults.call(this, a, c.results, {\n              term: f,\n              page: d,\n              context: g\n            }), e.postprocessResults(c, !1, !1), c.more === !0 ? (b.detach().appendTo(a).text(K(e.opts.formatLoadMore, e.opts.element, d + 1)), window.setTimeout(function () {\n              e.loadMoreIfNeeded();\n            }, 10)) : b.remove(), e.positionDropdown(), e.resultsPage = d, e.context = c.context, this.opts.element.trigger({\n              type: \"select2-loaded\",\n              items: c\n            }));\n          })\n        })));\n      },\n      tokenize: function tokenize() {},\n      updateResults: function updateResults(c) {\n        function m() {\n          d.removeClass(\"select2-active\"), h.positionDropdown(), e.find(\".select2-no-results,.select2-selection-limit,.select2-searching\").length ? h.liveRegion.text(e.text()) : h.liveRegion.text(h.opts.formatMatches(e.find(\".select2-result-selectable\").length));\n        }\n        function n(a) {\n          e.html(a), m();\n        }\n        var g,\n          i,\n          l,\n          d = this.search,\n          e = this.results,\n          f = this.opts,\n          h = this,\n          j = d.val(),\n          k = a.data(this.container, \"select2-last-term\");\n        if ((c === !0 || !k || !r(j, k)) && (a.data(this.container, \"select2-last-term\", j), c === !0 || this.showSearchInput !== !1 && this.opened())) {\n          l = ++this.queryCount;\n          var o = this.getMaximumSelectionSize();\n          if (o >= 1 && (g = this.data(), a.isArray(g) && g.length >= o && J(f.formatSelectionTooBig, \"formatSelectionTooBig\"))) return n(\"<li class='select2-selection-limit'>\" + K(f.formatSelectionTooBig, f.element, o) + \"</li>\"), void 0;\n          if (d.val().length < f.minimumInputLength) return J(f.formatInputTooShort, \"formatInputTooShort\") ? n(\"<li class='select2-no-results'>\" + K(f.formatInputTooShort, f.element, d.val(), f.minimumInputLength) + \"</li>\") : n(\"\"), c && this.showSearch && this.showSearch(!0), void 0;\n          if (f.maximumInputLength && d.val().length > f.maximumInputLength) return J(f.formatInputTooLong, \"formatInputTooLong\") ? n(\"<li class='select2-no-results'>\" + K(f.formatInputTooLong, f.element, d.val(), f.maximumInputLength) + \"</li>\") : n(\"\"), void 0;\n          f.formatSearching && 0 === this.findHighlightableChoices().length && n(\"<li class='select2-searching'>\" + K(f.formatSearching, f.element) + \"</li>\"), d.addClass(\"select2-active\"), this.removeHighlight(), i = this.tokenize(), i != b && null != i && d.val(i), this.resultsPage = 1, f.query({\n            element: f.element,\n            term: d.val(),\n            page: this.resultsPage,\n            context: null,\n            matcher: f.matcher,\n            callback: this.bind(function (g) {\n              var i;\n              if (l == this.queryCount) {\n                if (!this.opened()) return this.search.removeClass(\"select2-active\"), void 0;\n                if (g.hasError !== b && J(f.formatAjaxError, \"formatAjaxError\")) return n(\"<li class='select2-ajax-error'>\" + K(f.formatAjaxError, f.element, g.jqXHR, g.textStatus, g.errorThrown) + \"</li>\"), void 0;\n                if (this.context = g.context === b ? null : g.context, this.opts.createSearchChoice && \"\" !== d.val() && (i = this.opts.createSearchChoice.call(h, d.val(), g.results), i !== b && null !== i && h.id(i) !== b && null !== h.id(i) && 0 === a(g.results).filter(function () {\n                  return r(h.id(this), h.id(i));\n                }).length && this.opts.createSearchChoicePosition(g.results, i)), 0 === g.results.length && J(f.formatNoMatches, \"formatNoMatches\")) return n(\"<li class='select2-no-results'>\" + K(f.formatNoMatches, f.element, d.val()) + \"</li>\"), void 0;\n                e.empty(), h.opts.populateResults.call(this, e, g.results, {\n                  term: d.val(),\n                  page: this.resultsPage,\n                  context: null\n                }), g.more === !0 && J(f.formatLoadMore, \"formatLoadMore\") && (e.append(\"<li class='select2-more-results'>\" + f.escapeMarkup(K(f.formatLoadMore, f.element, this.resultsPage)) + \"</li>\"), window.setTimeout(function () {\n                  h.loadMoreIfNeeded();\n                }, 10)), this.postprocessResults(g, c), m(), this.opts.element.trigger({\n                  type: \"select2-loaded\",\n                  items: g\n                });\n              }\n            })\n          });\n        }\n      },\n      cancel: function cancel() {\n        this.close();\n      },\n      blur: function blur() {\n        this.opts.selectOnBlur && this.selectHighlighted({\n          noFocus: !0\n        }), this.close(), this.container.removeClass(\"select2-container-active\"), this.search[0] === document.activeElement && this.search.blur(), this.clearSearch(), this.selection.find(\".select2-search-choice-focus\").removeClass(\"select2-search-choice-focus\");\n      },\n      focusSearch: function focusSearch() {\n        y(this.search);\n      },\n      selectHighlighted: function selectHighlighted(a) {\n        if (this._touchMoved) return this.clearTouchMoved(), void 0;\n        var b = this.highlight(),\n          c = this.results.find(\".select2-highlighted\"),\n          d = c.closest(\".select2-result\").data(\"select2-data\");\n        d ? (this.highlight(b), this.onSelect(d, a)) : a && a.noFocus && this.close();\n      },\n      getPlaceholder: function getPlaceholder() {\n        var a;\n        return this.opts.element.attr(\"placeholder\") || this.opts.element.attr(\"data-placeholder\") || this.opts.element.data(\"placeholder\") || this.opts.placeholder || ((a = this.getPlaceholderOption()) !== b ? a.text() : b);\n      },\n      getPlaceholderOption: function getPlaceholderOption() {\n        if (this.select) {\n          var c = this.select.children(\"option\").first();\n          if (this.opts.placeholderOption !== b) return \"first\" === this.opts.placeholderOption && c || \"function\" == typeof this.opts.placeholderOption && this.opts.placeholderOption(this.select);\n          if (\"\" === a.trim(c.text()) && \"\" === c.val()) return c;\n        }\n      },\n      initContainerWidth: function initContainerWidth() {\n        function c() {\n          var c, d, e, f, g, h;\n          if (\"off\" === this.opts.width) return null;\n          if (\"element\" === this.opts.width) return 0 === this.opts.element.outerWidth(!1) ? \"auto\" : this.opts.element.outerWidth(!1) + \"px\";\n          if (\"copy\" === this.opts.width || \"resolve\" === this.opts.width) {\n            if (c = this.opts.element.attr(\"style\"), c !== b) for (d = c.split(\";\"), f = 0, g = d.length; g > f; f += 1) if (h = d[f].replace(/\\s/g, \"\"), e = h.match(/^width:(([-+]?([0-9]*\\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i), null !== e && e.length >= 1) return e[1];\n            return \"resolve\" === this.opts.width ? (c = this.opts.element.css(\"width\"), c.indexOf(\"%\") > 0 ? c : 0 === this.opts.element.outerWidth(!1) ? \"auto\" : this.opts.element.outerWidth(!1) + \"px\") : null;\n          }\n          return a.isFunction(this.opts.width) ? this.opts.width() : this.opts.width;\n        }\n        var d = c.call(this);\n        null !== d && this.container.css(\"width\", d);\n      }\n    }), e = O(d, {\n      createContainer: function createContainer() {\n        var b = a(document.createElement(\"div\")).attr({\n          \"class\": \"select2-container\"\n        }).html([\"<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>\", \"   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>\", \"   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>\", \"</a>\", \"<label for='' class='select2-offscreen'></label>\", \"<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />\", \"<div class='select2-drop select2-display-none'>\", \"   <div class='select2-search'>\", \"       <label for='' class='select2-offscreen'></label>\", \"       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'\", \"       aria-autocomplete='list' />\", \"   </div>\", \"   <ul class='select2-results' role='listbox'>\", \"   </ul>\", \"</div>\"].join(\"\"));\n        return b;\n      },\n      enableInterface: function enableInterface() {\n        this.parent.enableInterface.apply(this, arguments) && this.focusser.prop(\"disabled\", !this.isInterfaceEnabled());\n      },\n      opening: function opening() {\n        var c, d, e;\n        this.opts.minimumResultsForSearch >= 0 && this.showSearch(!0), this.parent.opening.apply(this, arguments), this.showSearchInput !== !1 && this.search.val(this.focusser.val()), this.opts.shouldFocusInput(this) && (this.search.focus(), c = this.search.get(0), c.createTextRange ? (d = c.createTextRange(), d.collapse(!1), d.select()) : c.setSelectionRange && (e = this.search.val().length, c.setSelectionRange(e, e))), \"\" === this.search.val() && this.nextSearchTerm != b && (this.search.val(this.nextSearchTerm), this.search.select()), this.focusser.prop(\"disabled\", !0).val(\"\"), this.updateResults(!0), this.opts.element.trigger(a.Event(\"select2-open\"));\n      },\n      close: function close() {\n        this.opened() && (this.parent.close.apply(this, arguments), this.focusser.prop(\"disabled\", !1), this.opts.shouldFocusInput(this) && this.focusser.focus());\n      },\n      focus: function focus() {\n        this.opened() ? this.close() : (this.focusser.prop(\"disabled\", !1), this.opts.shouldFocusInput(this) && this.focusser.focus());\n      },\n      isFocused: function isFocused() {\n        return this.container.hasClass(\"select2-container-active\");\n      },\n      cancel: function cancel() {\n        this.parent.cancel.apply(this, arguments), this.focusser.prop(\"disabled\", !1), this.opts.shouldFocusInput(this) && this.focusser.focus();\n      },\n      destroy: function destroy() {\n        a(\"label[for='\" + this.focusser.attr(\"id\") + \"']\").attr(\"for\", this.opts.element.attr(\"id\")), this.parent.destroy.apply(this, arguments), N.call(this, \"selection\", \"focusser\");\n      },\n      initContainer: function initContainer() {\n        var b,\n          h,\n          d = this.container,\n          e = this.dropdown,\n          f = g();\n        this.opts.minimumResultsForSearch < 0 ? this.showSearch(!1) : this.showSearch(!0), this.selection = b = d.find(\".select2-choice\"), this.focusser = d.find(\".select2-focusser\"), b.find(\".select2-chosen\").attr(\"id\", \"select2-chosen-\" + f), this.focusser.attr(\"aria-labelledby\", \"select2-chosen-\" + f), this.results.attr(\"id\", \"select2-results-\" + f), this.search.attr(\"aria-owns\", \"select2-results-\" + f), this.focusser.attr(\"id\", \"s2id_autogen\" + f), h = a(\"label[for='\" + this.opts.element.attr(\"id\") + \"']\"), this.focusser.prev().text(h.text()).attr(\"for\", this.focusser.attr(\"id\"));\n        var i = this.opts.element.attr(\"title\");\n        this.opts.element.attr(\"title\", i || h.text()), this.focusser.attr(\"tabindex\", this.elementTabIndex), this.search.attr(\"id\", this.focusser.attr(\"id\") + \"_search\"), this.search.prev().text(a(\"label[for='\" + this.focusser.attr(\"id\") + \"']\").text()).attr(\"for\", this.search.attr(\"id\")), this.search.on(\"keydown\", this.bind(function (a) {\n          if (this.isInterfaceEnabled() && 229 != a.keyCode) {\n            if (a.which === c.PAGE_UP || a.which === c.PAGE_DOWN) return A(a), void 0;\n            switch (a.which) {\n              case c.UP:\n              case c.DOWN:\n                return this.moveHighlight(a.which === c.UP ? -1 : 1), A(a), void 0;\n              case c.ENTER:\n                return this.selectHighlighted(), A(a), void 0;\n              case c.TAB:\n                return this.selectHighlighted({\n                  noFocus: !0\n                }), void 0;\n              case c.ESC:\n                return this.cancel(a), A(a), void 0;\n            }\n          }\n        })), this.search.on(\"blur\", this.bind(function () {\n          document.activeElement === this.body.get(0) && window.setTimeout(this.bind(function () {\n            this.opened() && this.search.focus();\n          }), 0);\n        })), this.focusser.on(\"keydown\", this.bind(function (a) {\n          if (this.isInterfaceEnabled() && a.which !== c.TAB && !c.isControl(a) && !c.isFunctionKey(a) && a.which !== c.ESC) {\n            if (this.opts.openOnEnter === !1 && a.which === c.ENTER) return A(a), void 0;\n            if (a.which == c.DOWN || a.which == c.UP || a.which == c.ENTER && this.opts.openOnEnter) {\n              if (a.altKey || a.ctrlKey || a.shiftKey || a.metaKey) return;\n              return this.open(), A(a), void 0;\n            }\n            return a.which == c.DELETE || a.which == c.BACKSPACE ? (this.opts.allowClear && this.clear(), A(a), void 0) : void 0;\n          }\n        })), u(this.focusser), this.focusser.on(\"keyup-change input\", this.bind(function (a) {\n          if (this.opts.minimumResultsForSearch >= 0) {\n            if (a.stopPropagation(), this.opened()) return;\n            this.open();\n          }\n        })), b.on(\"mousedown touchstart\", \"abbr\", this.bind(function (a) {\n          this.isInterfaceEnabled() && (this.clear(), B(a), this.close(), this.selection.focus());\n        })), b.on(\"mousedown touchstart\", this.bind(function (c) {\n          n(b), this.container.hasClass(\"select2-container-active\") || this.opts.element.trigger(a.Event(\"select2-focus\")), this.opened() ? this.close() : this.isInterfaceEnabled() && this.open(), A(c);\n        })), e.on(\"mousedown touchstart\", this.bind(function () {\n          this.opts.shouldFocusInput(this) && this.search.focus();\n        })), b.on(\"focus\", this.bind(function (a) {\n          A(a);\n        })), this.focusser.on(\"focus\", this.bind(function () {\n          this.container.hasClass(\"select2-container-active\") || this.opts.element.trigger(a.Event(\"select2-focus\")), this.container.addClass(\"select2-container-active\");\n        })).on(\"blur\", this.bind(function () {\n          this.opened() || (this.container.removeClass(\"select2-container-active\"), this.opts.element.trigger(a.Event(\"select2-blur\")));\n        })), this.search.on(\"focus\", this.bind(function () {\n          this.container.hasClass(\"select2-container-active\") || this.opts.element.trigger(a.Event(\"select2-focus\")), this.container.addClass(\"select2-container-active\");\n        })), this.initContainerWidth(), this.opts.element.addClass(\"select2-offscreen\"), this.setPlaceholder();\n      },\n      clear: function clear(b) {\n        var c = this.selection.data(\"select2-data\");\n        if (c) {\n          var d = a.Event(\"select2-clearing\");\n          if (this.opts.element.trigger(d), d.isDefaultPrevented()) return;\n          var e = this.getPlaceholderOption();\n          this.opts.element.val(e ? e.val() : \"\"), this.selection.find(\".select2-chosen\").empty(), this.selection.removeData(\"select2-data\"), this.setPlaceholder(), b !== !1 && (this.opts.element.trigger({\n            type: \"select2-removed\",\n            val: this.id(c),\n            choice: c\n          }), this.triggerChange({\n            removed: c\n          }));\n        }\n      },\n      initSelection: function initSelection() {\n        if (this.isPlaceholderOptionSelected()) this.updateSelection(null), this.close(), this.setPlaceholder();else {\n          var c = this;\n          this.opts.initSelection.call(null, this.opts.element, function (a) {\n            a !== b && null !== a && (c.updateSelection(a), c.close(), c.setPlaceholder(), c.nextSearchTerm = c.opts.nextSearchTerm(a, c.search.val()));\n          });\n        }\n      },\n      isPlaceholderOptionSelected: function isPlaceholderOptionSelected() {\n        var a;\n        return this.getPlaceholder() === b ? !1 : (a = this.getPlaceholderOption()) !== b && a.prop(\"selected\") || \"\" === this.opts.element.val() || this.opts.element.val() === b || null === this.opts.element.val();\n      },\n      prepareOpts: function prepareOpts() {\n        var b = this.parent.prepareOpts.apply(this, arguments),\n          c = this;\n        return \"select\" === b.element.get(0).tagName.toLowerCase() ? b.initSelection = function (a, b) {\n          var d = a.find(\"option\").filter(function () {\n            return this.selected && !this.disabled;\n          });\n          b(c.optionToData(d));\n        } : \"data\" in b && (b.initSelection = b.initSelection || function (c, d) {\n          var e = c.val(),\n            f = null;\n          b.query({\n            matcher: function matcher(a, c, d) {\n              var g = r(e, b.id(d));\n              return g && (f = d), g;\n            },\n            callback: a.isFunction(d) ? function () {\n              d(f);\n            } : a.noop\n          });\n        }), b;\n      },\n      getPlaceholder: function getPlaceholder() {\n        return this.select && this.getPlaceholderOption() === b ? b : this.parent.getPlaceholder.apply(this, arguments);\n      },\n      setPlaceholder: function setPlaceholder() {\n        var a = this.getPlaceholder();\n        if (this.isPlaceholderOptionSelected() && a !== b) {\n          if (this.select && this.getPlaceholderOption() === b) return;\n          this.selection.find(\".select2-chosen\").html(this.opts.escapeMarkup(a)), this.selection.addClass(\"select2-default\"), this.container.removeClass(\"select2-allowclear\");\n        }\n      },\n      postprocessResults: function postprocessResults(a, b, c) {\n        var d = 0,\n          e = this;\n        if (this.findHighlightableChoices().each2(function (a, b) {\n          return r(e.id(b.data(\"select2-data\")), e.opts.element.val()) ? (d = a, !1) : void 0;\n        }), c !== !1 && (b === !0 && d >= 0 ? this.highlight(d) : this.highlight(0)), b === !0) {\n          var g = this.opts.minimumResultsForSearch;\n          g >= 0 && this.showSearch(L(a.results) >= g);\n        }\n      },\n      showSearch: function showSearch(b) {\n        this.showSearchInput !== b && (this.showSearchInput = b, this.dropdown.find(\".select2-search\").toggleClass(\"select2-search-hidden\", !b), this.dropdown.find(\".select2-search\").toggleClass(\"select2-offscreen\", !b), a(this.dropdown, this.container).toggleClass(\"select2-with-searchbox\", b));\n      },\n      onSelect: function onSelect(a, b) {\n        if (this.triggerSelect(a)) {\n          var c = this.opts.element.val(),\n            d = this.data();\n          this.opts.element.val(this.id(a)), this.updateSelection(a), this.opts.element.trigger({\n            type: \"select2-selected\",\n            val: this.id(a),\n            choice: a\n          }), this.nextSearchTerm = this.opts.nextSearchTerm(a, this.search.val()), this.close(), b && b.noFocus || !this.opts.shouldFocusInput(this) || this.focusser.focus(), r(c, this.id(a)) || this.triggerChange({\n            added: a,\n            removed: d\n          });\n        }\n      },\n      updateSelection: function updateSelection(a) {\n        var d,\n          e,\n          c = this.selection.find(\".select2-chosen\");\n        this.selection.data(\"select2-data\", a), c.empty(), null !== a && (d = this.opts.formatSelection(a, c, this.opts.escapeMarkup)), d !== b && c.append(d), e = this.opts.formatSelectionCssClass(a, c), e !== b && c.addClass(e), this.selection.removeClass(\"select2-default\"), this.opts.allowClear && this.getPlaceholder() !== b && this.container.addClass(\"select2-allowclear\");\n      },\n      val: function val() {\n        var a,\n          c = !1,\n          d = null,\n          e = this,\n          f = this.data();\n        if (0 === arguments.length) return this.opts.element.val();\n        if (a = arguments[0], arguments.length > 1 && (c = arguments[1]), this.select) this.select.val(a).find(\"option\").filter(function () {\n          return this.selected;\n        }).each2(function (a, b) {\n          return d = e.optionToData(b), !1;\n        }), this.updateSelection(d), this.setPlaceholder(), c && this.triggerChange({\n          added: d,\n          removed: f\n        });else {\n          if (!a && 0 !== a) return this.clear(c), void 0;\n          if (this.opts.initSelection === b) throw new Error(\"cannot call val() if initSelection() is not defined\");\n          this.opts.element.val(a), this.opts.initSelection(this.opts.element, function (a) {\n            e.opts.element.val(a ? e.id(a) : \"\"), e.updateSelection(a), e.setPlaceholder(), c && e.triggerChange({\n              added: a,\n              removed: f\n            });\n          });\n        }\n      },\n      clearSearch: function clearSearch() {\n        this.search.val(\"\"), this.focusser.val(\"\");\n      },\n      data: function data(a) {\n        var c,\n          d = !1;\n        return 0 === arguments.length ? (c = this.selection.data(\"select2-data\"), c == b && (c = null), c) : (arguments.length > 1 && (d = arguments[1]), a ? (c = this.data(), this.opts.element.val(a ? this.id(a) : \"\"), this.updateSelection(a), d && this.triggerChange({\n          added: a,\n          removed: c\n        })) : this.clear(d), void 0);\n      }\n    }), f = O(d, {\n      createContainer: function createContainer() {\n        var b = a(document.createElement(\"div\")).attr({\n          \"class\": \"select2-container select2-container-multi\"\n        }).html([\"<ul class='select2-choices'>\", \"  <li class='select2-search-field'>\", \"    <label for='' class='select2-offscreen'></label>\", \"    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>\", \"  </li>\", \"</ul>\", \"<div class='select2-drop select2-drop-multi select2-display-none'>\", \"   <ul class='select2-results'>\", \"   </ul>\", \"</div>\"].join(\"\"));\n        return b;\n      },\n      prepareOpts: function prepareOpts() {\n        var b = this.parent.prepareOpts.apply(this, arguments),\n          c = this;\n        return \"select\" === b.element.get(0).tagName.toLowerCase() ? b.initSelection = function (a, b) {\n          var d = [];\n          a.find(\"option\").filter(function () {\n            return this.selected && !this.disabled;\n          }).each2(function (a, b) {\n            d.push(c.optionToData(b));\n          }), b(d);\n        } : \"data\" in b && (b.initSelection = b.initSelection || function (c, d) {\n          var e = s(c.val(), b.separator),\n            f = [];\n          b.query({\n            matcher: function matcher(c, d, g) {\n              var h = a.grep(e, function (a) {\n                return r(a, b.id(g));\n              }).length;\n              return h && f.push(g), h;\n            },\n            callback: a.isFunction(d) ? function () {\n              for (var a = [], c = 0; c < e.length; c++) for (var g = e[c], h = 0; h < f.length; h++) {\n                var i = f[h];\n                if (r(g, b.id(i))) {\n                  a.push(i), f.splice(h, 1);\n                  break;\n                }\n              }\n              d(a);\n            } : a.noop\n          });\n        }), b;\n      },\n      selectChoice: function selectChoice(a) {\n        var b = this.container.find(\".select2-search-choice-focus\");\n        b.length && a && a[0] == b[0] || (b.length && this.opts.element.trigger(\"choice-deselected\", b), b.removeClass(\"select2-search-choice-focus\"), a && a.length && (this.close(), a.addClass(\"select2-search-choice-focus\"), this.opts.element.trigger(\"choice-selected\", a)));\n      },\n      destroy: function destroy() {\n        a(\"label[for='\" + this.search.attr(\"id\") + \"']\").attr(\"for\", this.opts.element.attr(\"id\")), this.parent.destroy.apply(this, arguments), N.call(this, \"searchContainer\", \"selection\");\n      },\n      initContainer: function initContainer() {\n        var d,\n          b = \".select2-choices\";\n        this.searchContainer = this.container.find(\".select2-search-field\"), this.selection = d = this.container.find(b);\n        var e = this;\n        this.selection.on(\"click\", \".select2-search-choice:not(.select2-locked)\", function () {\n          e.search[0].focus(), e.selectChoice(a(this));\n        }), this.search.attr(\"id\", \"s2id_autogen\" + g()), this.search.prev().text(a(\"label[for='\" + this.opts.element.attr(\"id\") + \"']\").text()).attr(\"for\", this.search.attr(\"id\")), this.search.on(\"input paste\", this.bind(function () {\n          this.search.attr(\"placeholder\") && 0 == this.search.val().length || this.isInterfaceEnabled() && (this.opened() || this.open());\n        })), this.search.attr(\"tabindex\", this.elementTabIndex), this.keydowns = 0, this.search.on(\"keydown\", this.bind(function (a) {\n          if (this.isInterfaceEnabled()) {\n            ++this.keydowns;\n            var b = d.find(\".select2-search-choice-focus\"),\n              e = b.prev(\".select2-search-choice:not(.select2-locked)\"),\n              f = b.next(\".select2-search-choice:not(.select2-locked)\"),\n              g = z(this.search);\n            if (b.length && (a.which == c.LEFT || a.which == c.RIGHT || a.which == c.BACKSPACE || a.which == c.DELETE || a.which == c.ENTER)) {\n              var h = b;\n              return a.which == c.LEFT && e.length ? h = e : a.which == c.RIGHT ? h = f.length ? f : null : a.which === c.BACKSPACE ? this.unselect(b.first()) && (this.search.width(10), h = e.length ? e : f) : a.which == c.DELETE ? this.unselect(b.first()) && (this.search.width(10), h = f.length ? f : null) : a.which == c.ENTER && (h = null), this.selectChoice(h), A(a), h && h.length || this.open(), void 0;\n            }\n            if ((a.which === c.BACKSPACE && 1 == this.keydowns || a.which == c.LEFT) && 0 == g.offset && !g.length) return this.selectChoice(d.find(\".select2-search-choice:not(.select2-locked)\").last()), A(a), void 0;\n            if (this.selectChoice(null), this.opened()) switch (a.which) {\n              case c.UP:\n              case c.DOWN:\n                return this.moveHighlight(a.which === c.UP ? -1 : 1), A(a), void 0;\n              case c.ENTER:\n                return this.selectHighlighted(), A(a), void 0;\n              case c.TAB:\n                return this.selectHighlighted({\n                  noFocus: !0\n                }), this.close(), void 0;\n              case c.ESC:\n                return this.cancel(a), A(a), void 0;\n            }\n            if (a.which !== c.TAB && !c.isControl(a) && !c.isFunctionKey(a) && a.which !== c.BACKSPACE && a.which !== c.ESC) {\n              if (a.which === c.ENTER) {\n                if (this.opts.openOnEnter === !1) return;\n                if (a.altKey || a.ctrlKey || a.shiftKey || a.metaKey) return;\n              }\n              this.open(), (a.which === c.PAGE_UP || a.which === c.PAGE_DOWN) && A(a), a.which === c.ENTER && A(a);\n            }\n          }\n        })), this.search.on(\"keyup\", this.bind(function () {\n          this.keydowns = 0, this.resizeSearch();\n        })), this.search.on(\"blur\", this.bind(function (b) {\n          this.container.removeClass(\"select2-container-active\"), this.search.removeClass(\"select2-focused\"), this.selectChoice(null), this.opened() || this.clearSearch(), b.stopImmediatePropagation(), this.opts.element.trigger(a.Event(\"select2-blur\"));\n        })), this.container.on(\"click\", b, this.bind(function (b) {\n          this.isInterfaceEnabled() && (a(b.target).closest(\".select2-search-choice\").length > 0 || (this.selectChoice(null), this.clearPlaceholder(), this.container.hasClass(\"select2-container-active\") || this.opts.element.trigger(a.Event(\"select2-focus\")), this.open(), this.focusSearch(), b.preventDefault()));\n        })), this.container.on(\"focus\", b, this.bind(function () {\n          this.isInterfaceEnabled() && (this.container.hasClass(\"select2-container-active\") || this.opts.element.trigger(a.Event(\"select2-focus\")), this.container.addClass(\"select2-container-active\"), this.dropdown.addClass(\"select2-drop-active\"), this.clearPlaceholder());\n        })), this.initContainerWidth(), this.opts.element.addClass(\"select2-offscreen\"), this.clearSearch();\n      },\n      enableInterface: function enableInterface() {\n        this.parent.enableInterface.apply(this, arguments) && this.search.prop(\"disabled\", !this.isInterfaceEnabled());\n      },\n      initSelection: function initSelection() {\n        if (\"\" === this.opts.element.val() && \"\" === this.opts.element.text() && (this.updateSelection([]), this.close(), this.clearSearch()), this.select || \"\" !== this.opts.element.val()) {\n          var c = this;\n          this.opts.initSelection.call(null, this.opts.element, function (a) {\n            a !== b && null !== a && (c.updateSelection(a), c.close(), c.clearSearch());\n          });\n        }\n      },\n      clearSearch: function clearSearch() {\n        var a = this.getPlaceholder(),\n          c = this.getMaxSearchWidth();\n        a !== b && 0 === this.getVal().length && this.search.hasClass(\"select2-focused\") === !1 ? (this.search.val(a).addClass(\"select2-default\"), this.search.width(c > 0 ? c : this.container.css(\"width\"))) : this.search.val(\"\").width(10);\n      },\n      clearPlaceholder: function clearPlaceholder() {\n        this.search.hasClass(\"select2-default\") && this.search.val(\"\").removeClass(\"select2-default\");\n      },\n      opening: function opening() {\n        this.clearPlaceholder(), this.resizeSearch(), this.parent.opening.apply(this, arguments), this.focusSearch(), \"\" === this.search.val() && this.nextSearchTerm != b && (this.search.val(this.nextSearchTerm), this.search.select()), this.updateResults(!0), this.opts.shouldFocusInput(this) && this.search.focus(), this.opts.element.trigger(a.Event(\"select2-open\"));\n      },\n      close: function close() {\n        this.opened() && this.parent.close.apply(this, arguments);\n      },\n      focus: function focus() {\n        this.close(), this.search.focus();\n      },\n      isFocused: function isFocused() {\n        return this.search.hasClass(\"select2-focused\");\n      },\n      updateSelection: function updateSelection(b) {\n        var c = [],\n          d = [],\n          e = this;\n        a(b).each(function () {\n          p(e.id(this), c) < 0 && (c.push(e.id(this)), d.push(this));\n        }), b = d, this.selection.find(\".select2-search-choice\").remove(), a(b).each(function () {\n          e.addSelectedChoice(this);\n        }), e.postprocessResults();\n      },\n      tokenize: function tokenize() {\n        var a = this.search.val();\n        a = this.opts.tokenizer.call(this, a, this.data(), this.bind(this.onSelect), this.opts), null != a && a != b && (this.search.val(a), a.length > 0 && this.open());\n      },\n      onSelect: function onSelect(a, c) {\n        this.triggerSelect(a) && \"\" !== a.text && (this.addSelectedChoice(a), this.opts.element.trigger({\n          type: \"selected\",\n          val: this.id(a),\n          choice: a\n        }), this.nextSearchTerm = this.opts.nextSearchTerm(a, this.search.val()), this.clearSearch(), this.updateResults(), (this.select || !this.opts.closeOnSelect) && this.postprocessResults(a, !1, this.opts.closeOnSelect === !0), this.opts.closeOnSelect ? (this.close(), this.search.width(10)) : this.countSelectableResults() > 0 ? (this.search.width(10), this.resizeSearch(), this.getMaximumSelectionSize() > 0 && this.val().length >= this.getMaximumSelectionSize() ? this.updateResults(!0) : this.nextSearchTerm != b && (this.search.val(this.nextSearchTerm), this.updateResults(), this.search.select()), this.positionDropdown()) : (this.close(), this.search.width(10)), this.triggerChange({\n          added: a\n        }), c && c.noFocus || this.focusSearch());\n      },\n      cancel: function cancel() {\n        this.close(), this.focusSearch();\n      },\n      addSelectedChoice: function addSelectedChoice(c) {\n        var j,\n          k,\n          d = !c.locked,\n          e = a(\"<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>\"),\n          f = a(\"<li class='select2-search-choice select2-locked'><div></div></li>\"),\n          g = d ? e : f,\n          h = this.id(c),\n          i = this.getVal();\n        j = this.opts.formatSelection(c, g.find(\"div\"), this.opts.escapeMarkup), j != b && g.find(\"div\").replaceWith(\"<div>\" + j + \"</div>\"), k = this.opts.formatSelectionCssClass(c, g.find(\"div\")), k != b && g.addClass(k), d && g.find(\".select2-search-choice-close\").on(\"mousedown\", A).on(\"click dblclick\", this.bind(function (b) {\n          this.isInterfaceEnabled() && (this.unselect(a(b.target)), this.selection.find(\".select2-search-choice-focus\").removeClass(\"select2-search-choice-focus\"), A(b), this.close(), this.focusSearch());\n        })).on(\"focus\", this.bind(function () {\n          this.isInterfaceEnabled() && (this.container.addClass(\"select2-container-active\"), this.dropdown.addClass(\"select2-drop-active\"));\n        })), g.data(\"select2-data\", c), g.insertBefore(this.searchContainer), i.push(h), this.setVal(i);\n      },\n      unselect: function unselect(b) {\n        var d,\n          e,\n          c = this.getVal();\n        if (b = b.closest(\".select2-search-choice\"), 0 === b.length) throw \"Invalid argument: \" + b + \". Must be .select2-search-choice\";\n        if (d = b.data(\"select2-data\")) {\n          var f = a.Event(\"select2-removing\");\n          if (f.val = this.id(d), f.choice = d, this.opts.element.trigger(f), f.isDefaultPrevented()) return !1;\n          for (; (e = p(this.id(d), c)) >= 0;) c.splice(e, 1), this.setVal(c), this.select && this.postprocessResults();\n          return b.remove(), this.opts.element.trigger({\n            type: \"select2-removed\",\n            val: this.id(d),\n            choice: d\n          }), this.triggerChange({\n            removed: d\n          }), !0;\n        }\n      },\n      postprocessResults: function postprocessResults(a, b, c) {\n        var d = this.getVal(),\n          e = this.results.find(\".select2-result\"),\n          f = this.results.find(\".select2-result-with-children\"),\n          g = this;\n        e.each2(function (a, b) {\n          var c = g.id(b.data(\"select2-data\"));\n          p(c, d) >= 0 && (b.addClass(\"select2-selected\"), b.find(\".select2-result-selectable\").addClass(\"select2-selected\"));\n        }), f.each2(function (a, b) {\n          b.is(\".select2-result-selectable\") || 0 !== b.find(\".select2-result-selectable:not(.select2-selected)\").length || b.addClass(\"select2-selected\");\n        }), -1 == this.highlight() && c !== !1 && g.highlight(0), !this.opts.createSearchChoice && !e.filter(\".select2-result:not(.select2-selected)\").length > 0 && (!a || a && !a.more && 0 === this.results.find(\".select2-no-results\").length) && J(g.opts.formatNoMatches, \"formatNoMatches\") && this.results.append(\"<li class='select2-no-results'>\" + K(g.opts.formatNoMatches, g.opts.element, g.search.val()) + \"</li>\");\n      },\n      getMaxSearchWidth: function getMaxSearchWidth() {\n        return this.selection.width() - t(this.search);\n      },\n      resizeSearch: function resizeSearch() {\n        var a,\n          b,\n          c,\n          d,\n          e,\n          f = t(this.search);\n        a = C(this.search) + 10, b = this.search.offset().left, c = this.selection.width(), d = this.selection.offset().left, e = c - (b - d) - f, a > e && (e = c - f), 40 > e && (e = c - f), 0 >= e && (e = a), this.search.width(Math.floor(e));\n      },\n      getVal: function getVal() {\n        var a;\n        return this.select ? (a = this.select.val(), null === a ? [] : a) : (a = this.opts.element.val(), s(a, this.opts.separator));\n      },\n      setVal: function setVal(b) {\n        var c;\n        this.select ? this.select.val(b) : (c = [], a(b).each(function () {\n          p(this, c) < 0 && c.push(this);\n        }), this.opts.element.val(0 === c.length ? \"\" : c.join(this.opts.separator)));\n      },\n      buildChangeDetails: function buildChangeDetails(a, b) {\n        for (var b = b.slice(0), a = a.slice(0), c = 0; c < b.length; c++) for (var d = 0; d < a.length; d++) r(this.opts.id(b[c]), this.opts.id(a[d])) && (b.splice(c, 1), c > 0 && c--, a.splice(d, 1), d--);\n        return {\n          added: b,\n          removed: a\n        };\n      },\n      val: function val(c, d) {\n        var e,\n          f = this;\n        if (0 === arguments.length) return this.getVal();\n        if (e = this.data(), e.length || (e = []), !c && 0 !== c) return this.opts.element.val(\"\"), this.updateSelection([]), this.clearSearch(), d && this.triggerChange({\n          added: this.data(),\n          removed: e\n        }), void 0;\n        if (this.setVal(c), this.select) this.opts.initSelection(this.select, this.bind(this.updateSelection)), d && this.triggerChange(this.buildChangeDetails(e, this.data()));else {\n          if (this.opts.initSelection === b) throw new Error(\"val() cannot be called if initSelection() is not defined\");\n          this.opts.initSelection(this.opts.element, function (b) {\n            var c = a.map(b, f.id);\n            f.setVal(c), f.updateSelection(b), f.clearSearch(), d && f.triggerChange(f.buildChangeDetails(e, f.data()));\n          });\n        }\n        this.clearSearch();\n      },\n      onSortStart: function onSortStart() {\n        if (this.select) throw new Error(\"Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.\");\n        this.search.width(0), this.searchContainer.hide();\n      },\n      onSortEnd: function onSortEnd() {\n        var b = [],\n          c = this;\n        this.searchContainer.show(), this.searchContainer.appendTo(this.searchContainer.parent()), this.resizeSearch(), this.selection.find(\".select2-search-choice\").each(function () {\n          b.push(c.opts.id(a(this).data(\"select2-data\")));\n        }), this.setVal(b), this.triggerChange();\n      },\n      data: function data(b, c) {\n        var e,\n          f,\n          d = this;\n        return 0 === arguments.length ? this.selection.children(\".select2-search-choice\").map(function () {\n          return a(this).data(\"select2-data\");\n        }).get() : (f = this.data(), b || (b = []), e = a.map(b, function (a) {\n          return d.opts.id(a);\n        }), this.setVal(e), this.updateSelection(b), this.clearSearch(), c && this.triggerChange(this.buildChangeDetails(f, this.data())), void 0);\n      }\n    }), a.fn.select2 = function () {\n      var d,\n        e,\n        f,\n        g,\n        h,\n        c = Array.prototype.slice.call(arguments, 0),\n        i = [\"val\", \"destroy\", \"opened\", \"open\", \"close\", \"focus\", \"isFocused\", \"container\", \"dropdown\", \"onSortStart\", \"onSortEnd\", \"enable\", \"disable\", \"readonly\", \"positionDropdown\", \"data\", \"search\"],\n        j = [\"opened\", \"isFocused\", \"container\", \"dropdown\"],\n        k = [\"val\", \"data\"],\n        l = {\n          search: \"externalSearch\"\n        };\n      return this.each(function () {\n        if (0 === c.length || \"object\" == _typeof(c[0])) d = 0 === c.length ? {} : a.extend({}, c[0]), d.element = a(this), \"select\" === d.element.get(0).tagName.toLowerCase() ? h = d.element.prop(\"multiple\") : (h = d.multiple || !1, \"tags\" in d && (d.multiple = h = !0)), e = h ? new window.Select2[\"class\"].multi() : new window.Select2[\"class\"].single(), e.init(d);else {\n          if (\"string\" != typeof c[0]) throw \"Invalid arguments to select2 plugin: \" + c;\n          if (p(c[0], i) < 0) throw \"Unknown method: \" + c[0];\n          if (g = b, e = a(this).data(\"select2\"), e === b) return;\n          if (f = c[0], \"container\" === f ? g = e.container : \"dropdown\" === f ? g = e.dropdown : (l[f] && (f = l[f]), g = e[f].apply(e, c.slice(1))), p(c[0], j) >= 0 || p(c[0], k) >= 0 && 1 == c.length) return !1;\n        }\n      }), g === b ? this : g;\n    }, a.fn.select2.defaults = {\n      width: \"copy\",\n      loadMorePadding: 0,\n      closeOnSelect: !0,\n      openOnEnter: !0,\n      containerCss: {},\n      dropdownCss: {},\n      containerCssClass: \"\",\n      dropdownCssClass: \"\",\n      formatResult: function formatResult(a, b, c, d) {\n        var e = [];\n        return E(a.text, c.term, e, d), e.join(\"\");\n      },\n      formatSelection: function formatSelection(a, c, d) {\n        return a ? d(a.text) : b;\n      },\n      sortResults: function sortResults(a) {\n        return a;\n      },\n      formatResultCssClass: function formatResultCssClass(a) {\n        return a.css;\n      },\n      formatSelectionCssClass: function formatSelectionCssClass() {\n        return b;\n      },\n      minimumResultsForSearch: 0,\n      minimumInputLength: 0,\n      maximumInputLength: null,\n      maximumSelectionSize: 0,\n      id: function id(a) {\n        return a == b ? null : a.id;\n      },\n      matcher: function matcher(a, b) {\n        return o(\"\" + b).toUpperCase().indexOf(o(\"\" + a).toUpperCase()) >= 0;\n      },\n      separator: \",\",\n      tokenSeparators: [],\n      tokenizer: M,\n      escapeMarkup: F,\n      blurOnChange: !1,\n      selectOnBlur: !1,\n      adaptContainerCssClass: function adaptContainerCssClass(a) {\n        return a;\n      },\n      adaptDropdownCssClass: function adaptDropdownCssClass() {\n        return null;\n      },\n      nextSearchTerm: function nextSearchTerm() {\n        return b;\n      },\n      searchInputPlaceholder: \"\",\n      createSearchChoicePosition: \"top\",\n      shouldFocusInput: function shouldFocusInput(a) {\n        var b = \"ontouchstart\" in window || navigator.msMaxTouchPoints > 0;\n        return b ? a.opts.minimumResultsForSearch < 0 ? !1 : !0 : !0;\n      }\n    }, a.fn.select2.locales = [], a.fn.select2.locales.en = {\n      formatMatches: function formatMatches(a) {\n        return 1 === a ? \"One result is available, press enter to select it.\" : a + \" results are available, use up and down arrow keys to navigate.\";\n      },\n      formatNoMatches: function formatNoMatches() {\n        return \"No matches found\";\n      },\n      formatAjaxError: function formatAjaxError() {\n        return \"Loading failed\";\n      },\n      formatInputTooShort: function formatInputTooShort(a, b) {\n        var c = b - a.length;\n        return \"Please enter \" + c + \" or more character\" + (1 == c ? \"\" : \"s\");\n      },\n      formatInputTooLong: function formatInputTooLong(a, b) {\n        var c = a.length - b;\n        return \"Please delete \" + c + \" character\" + (1 == c ? \"\" : \"s\");\n      },\n      formatSelectionTooBig: function formatSelectionTooBig(a) {\n        return \"You can only select \" + a + \" item\" + (1 == a ? \"\" : \"s\");\n      },\n      formatLoadMore: function formatLoadMore() {\n        return \"Loading more results\\u2026\";\n      },\n      formatSearching: function formatSearching() {\n        return \"Searching\\u2026\";\n      }\n    }, a.extend(a.fn.select2.defaults, a.fn.select2.locales.en), a.fn.select2.ajaxDefaults = {\n      transport: a.ajax,\n      params: {\n        type: \"GET\",\n        cache: !1,\n        dataType: \"json\"\n      }\n    }, window.Select2 = {\n      query: {\n        ajax: G,\n        local: H,\n        tags: I\n      },\n      util: {\n        debounce: w,\n        markMatch: E,\n        escapeMarkup: F,\n        stripDiacritics: o\n      },\n      \"class\": {\n        \"abstract\": d,\n        single: e,\n        multi: f\n      }\n    };\n  }\n}(jQuery);"],"names":[],"sourceRoot":""}